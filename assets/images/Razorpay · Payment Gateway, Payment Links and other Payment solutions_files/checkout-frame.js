!function(){"use strict";!function(){var c=Math.PI,i=document.documentElement;var r=Array.prototype,u=r.slice,n=function(){},t=n,e={},m=Date.now||function(){return(new Date).getTime()};function s(e){return"number"==typeof e}function o(e){return"function"==typeof e}function l(e){return"string"==typeof e}function d(e){return e&&"object"==typeof e}function f(e){return e instanceof Array}function z(e,t,a){var i;if(arguments.length<3&&(a=this),e)if(void 0!==e.length)for(i=0;i<e.length;i++)t.call(a,i,e[i]);else for(i in e)e.hasOwnProperty(i)&&t.call(a,i,e[i])}function a(e,t){if(r.indexOf)return e.indexOf(t);var a=e.length>>>0,i=Number(t)||0;for((i=i<0?Math.ceil(i):Math.floor(i))<0&&(i+=a);i<a;i++)if(i in e&&e[i]===t)return i;return-1}function R(e,t,a){return function(e,t){if(r.find)return e.find(t,arguments[2]);for(var a,i=e.length>>>0,n=arguments[2],s=0;s<i;s++)if(a=e[s],t.call(n,a,s,e))return a}(e,function(e){return e[t]===a})}function p(e,t,a){l(e)&&(e=t[e]);var i=arguments;return 3<=i.length?function(){e.apply(t,u.call(i,2))}:function(){return e.apply(t,arguments)}}function v(e,t,a,i){if(s(i))return setTimeout(function(){v(e,t,a)},i);if(l(e)&&(e=t&&t[e]),o(e)){t||(t=this);try{return 3<=arguments.length?e.call(t,a):e.call(t)}catch(e){n("invoke",e)}}}function h(a,i){if(!i)return a;var n=m();return function(){var e=arguments;var t=n+i-m();return t<=0&&(t=null),v(function(){a.apply(this,e)},this,null,t)}}function g(e,a){z(e,function(e,t){t.call(a)},a)}function b(e){return JSON.parse(y(e))}var y=p(JSON.stringify,JSON),k=p(document.querySelector,document),w=p(document.querySelectorAll,document),_=p(document.getElementById,document);function x(e){return e instanceof Event&&(e.preventDefault(),e.stopPropagation()),!1}function C(e,t){e.toggleClass("invalid",!t)}function P(e){e&&(e.abort?(e.abort(),e=null):e[0]&&(e[0].abort(),e[0]=null))}var T,B=function(e){return l(e)?B(document.querySelector(e)):this instanceof B?void(this[0]=e):new B(e)};function A(e){!function(o){if(!window.requestAnimationFrame)return scrollBy(0,o);T&&clearTimeout(T);T=setTimeout(function(){var i=pageYOffset,n=Math.min(i+o,B(document.body).height()-innerHeight);o=n-i;var s=0,r=performance.now();requestAnimationFrame(function e(t){s+=(t-r)/300;if(1<=s)return scrollTo(0,n);var a=Math.sin(c*s/2);scrollTo(0,i+Math.round(o*a));r=t;requestAnimationFrame(e)})},100)}(e-pageYOffset)}B.prototype={on:function(e,t,a,i){var n,s=this[0];if(s&&(l(t)&&(t=i[t]),o(t))){var r=window.addEventListener;return n=r?function(e){return 3===e.target.nodeType&&(e.target=e.target.parentNode),t.call(i||this,e)}:function(e){return e||(e=window.event),e.target||(e.target=e.srcElement||document),e.preventDefault||(e.preventDefault=function(){this.returnValue=!1}),e.stopPropagation||(e.stopPropagation=e.preventDefault),e.currentTarget||(e.currentTarget=s),t.call(i||s,e)},z(e.split(" "),function(e,t){r?s.addEventListener(t,n,!!a):s.attachEvent("on"+t,n)}),p(function(){this.off(e,n,a)},this)}},off:function(e,t,a){window.removeEventListener?this[0].removeEventListener(e,t,!!a):window.detachEvent&&this[0].detachEvent("on"+e,t)},prop:function(e,t){var a=this[0];return 1===arguments.length?a&&a[e]:a?(a&&(a[e]=t),this):""},attr:function(e,t){if(d(e))return z(e,function(e,t){this.attr(e,t)},this),this;var a=arguments.length,i=this[0];return 1===a?i&&i.getAttribute(e):(i&&(t?i.setAttribute(e,t):i.removeAttribute(e)),this)},reflow:function(){return this.prop("offsetHeight"),this},remove:function(){try{var e=this[0];e.parentNode.removeChild(e)}catch(e){}return this},append:function(e){this[0].appendChild(e)},hasClass:function(e){return 0<=(" "+this[0].className+" ").indexOf(" "+e+" ")},addClass:function(e){var t=this[0];return e&&t&&(t.className?this.hasClass(e)||(t.className+=" "+e):t.className=e),this},removeClass:function(e){var t=this[0];if(t){var a=(" "+t.className+" ").replace(" "+e+" "," ").replace(/^ | $/g,"");t.className!==a&&(t.className=a)}return this},toggleClass:function(e,t){return 1===arguments.length&&(t=!this.hasClass(e)),this[(t?"add":"remove")+"Class"](e)},qs:function(e){var t=this[0];if(t)return t.querySelector(e)},find:function(e){var t=this[0];if(t)return t.querySelectorAll(e)},$:function(e){return B(this.qs(e))},$0:function(){return B(this.firstElementChild)},css:function(e,t){var a=this.prop("style");if(a)if(1===arguments.length){if(!d(e))return a[e];z(e,function(e,t){this.css(e,t)},this)}else try{a[e]=t}catch(e){}return this},bbox:function(){return this[0]?this[0].getBoundingClientRect():e},offht:function(){return this.prop("offsetHeight")},height:function(e){return s(e)&&(e=e.toFixed(2)+"px"),l(e)?this.css("height",e):this[0]?this.bbox().height:void 0},hide:function(){return this.css("display","none")},toggle:function(e){v(e?"show":"hide",this)},show:function(){return this.css("display","block")},parent:function(){return B(this.prop("parentNode"))},val:function(e){return arguments.length?(this[0].value=e,this):this[0].value},html:function(e){return arguments.length?(this[0]&&(this[0].innerHTML=(t=e,S.innerHTML="",S.appendChild(document.createTextNode(t)),S.innerHTML)),this):this[0].innerHTML;var t},focus:function(){if(this[0])try{this[0].focus()}catch(e){}return this},blur:function(){if(this[0])try{this[0].blur()}catch(e){}return this},scrollTo:function(e){if(this[0])try{this[0].scrollTo(0,e)}catch(e){}return this},click:function(){var e=this[0];if(e){if(o(e.click))return e.click();var t=document.createEvent("MouseEvents");t.initEvent("click",!0,!0),e.dispatchEvent(t)}}};var S=document.createElement("div");var D=function(){var d=window,u=d.document,p=d.Boolean,r=d.Array,t=d.Object,o=d.String,c=d.Number,l=d.Date,h=d.Math,m=d.setTimeout,f=d.setInterval,v=d.clearTimeout,a=d.clearInterval,g=d.parseInt,b=d.encodeURIComponent,y=d.decodeURIComponent,k=d.btoa,w=d.unescape,i=d.TypeError,_=d.navigator,n=d.location,e=d.XMLHttpRequest;var s=function(a){return function(t,e){return arguments.length<2?function(e){return a.call(null,e,t)}:a.call(null,t,e)}},x=function(i){return function(t,a,e){return arguments.length<3?function(e){return i.call(null,e,t,a)}:i.call(null,t,a,e)}};function C(){for(var e=arguments.length,t=new r(e),a=0;a<e;a++)t[a]=arguments[a];return function(e){return function(){var a=arguments;return t.every(function(e,t){return e(a[t])||function(){console.error.apply(console,arguments)}("wrong "+t+"th argtype",a[t])})?e.apply(null,a):a[0]}}}var P=s(function(e,t){return typeof e===t}),T=P("boolean"),A=P("number"),S=P("string"),M=P("function"),O=P("object"),I=r.isArray,B=function(e){return E(e)&&1===e.nodeType},E=function(e){return null!==e&&O(e)},N=function(e){return!R(t.keys(e))},z=s(function(e,t){return e&&e[t]}),R=z("length"),D=z("prototype"),L=s(function(e,t){return e instanceof t}),V=l.now,H=h.random,F=h.floor;function U(e,t){return{error:(a=e,i=t,n={description:o(a)},i&&(n.field=i),n)};var a,i,n}function q(e){throw new Error(e)}var $=function(e){return/data:image\/[^;]+;base64/.test(e)};function K(a){if(!E(a))return"";var e=t.keys(a),i=r(R(e));return e.forEach(function(e,t){return i[t]=b(e)+"="+b(a[e])}),i.join("&")}function j(e,t){return E(t)&&(t=K(t)),t&&(e+=0<e.indexOf("?")?"&":"?",e+=t),e}var Y,W,G,Z,J,X,Q,ee,te,ae,ie,ne,se,re,oe,ce,le,de,ue,pe=function(e){return L(e,d.Event)&&(e.which||e.charCode||e.keyCode)},he=function(e){var t,i;return void 0===e&&(e=n.search),S(e)?(t=e.slice(1),i={},t.split(/=|&/).forEach(function(e,t,a){t%2&&(i[a[t-1]]=e)}),i):{}},me=D(r),fe=me.slice,ve=s(function(e,t){return e&&me.forEach.call(e,t),e}),ge=function(e){return ve(function(e){return e()})},be=function(a){return s(function(e,t){return me[a].call(e,t)})},ye=be("map"),ke=be("filter"),we=be("indexOf"),_e=be("sort"),xe=s(function(e,t){return 0<=we(e,t)}),Ce=s(function(e,t){for(var a=R(e),i=0;i<a;i++)if(t(e[i],i,e))return i;return-1}),Pe=s(function(e,t){var a=Ce(e,t);if(0<a)return e[a]}),Te=s(function(e,t){return fe.call(e,t)}),Ae=x(function(e,t,a){return me.reduce.call(e,t,a)}),Se=s(function(e,t){var a=R(t),i=r(a+R(e));return ve(t,function(e,t){return i[t]=e}),ve(e,function(e,t){return i[t+a]=e}),i}),Me=function(e){return e},Oe=(D(Function),W=function(e,t){return e.bind(t)},Y=function(e){if(M(e))return W.apply(null,arguments);throw new i("not a function")},s(function(e,t){var a=arguments;return S(e)&&((a=Te(a,0))[0]=t[e]),Y.apply(null,a)})),Ie=function(e){return t.keys(e||{})},Be=s(function(e,t){return t in e}),Ee=s(function(e,t){return e&&e.hasOwnProperty(t)}),Ne=x(function(e,t,a){return t[a]=e}),ze=x(function(e,t,a){return e[t]=a,e}),Re=x(function(e,t,a){return a&&(e[t]=a),e}),De=s(function(e,t){return delete e[t],e}),Le=s(function(t,a){return ve(Ie(t),function(e){return a(t[e],e,t)}),t}),Ve=s(function(a,i){return Ae(Ie(a),function(e,t){return ze(e,t,i(a[t],t,a))},{})}),He=JSON.stringify,Fe=function(e){try{return JSON.parse(e)}catch(e){}},Ue=function(e){return Fe(He(e))},qe=s(function(a,e){return Le(e,function(e,t){return a[t]=e}),a}),$e=function(e,i){void 0===i&&(i="");var n={};return Le(e,function(e,t){var a=i?i+"."+t:t;E(e)?qe(n,$e(e,a)):n[a]=e}),n},Ke=D(o).slice,je=function(e){return" "+e+" "},Ye=s(function(e,t){return-1!==e.indexOf(t)}),We=x(function(e,t,a){return Ke.call(e,t,a)}),Ge=s(function(e,t){return Ke.call(e,t)}),Ze=s(function(e,t){return 0===e.indexOf(t)}),Je=d.Element,Xe=function(e){return u.createElement(e||"div")},Qe=function(e){return e.parentNode},et=C(B),tt=C(B,B),at=C(B,S),it=C(B,S,function(){return!0}),nt=C(B,E),st=(G=tt(function(e,t){return Qe(t).replaceChild(e,t),e}),s(G),Z=tt(function(e,t){return t.appendChild(e)}),s(Z)),rt=(J=tt(function(e,t){var a;return a=t,st(e)(a),e}),s(J)),ot=(X=tt(function(e,t){var a,i=t.firstElementChild;i?t.insertBefore(e,i):(a=e,st(t)(a));return e}),s(X)),ct=(Q=tt(function(e,t){var a;return a=t,ot(e)(a),e}),s(Q),et(function(e){var t=Qe(e);return t&&t.removeChild(e),e})),lt=(et(z("selectionStart")),et(z("selectionEnd")),te=function(e,t){return e.selectionStart=e.selectionEnd=t,e},ee=C(B,A)(te),s(ee),et(function(e){return e.submit(),e})),dt=(ae=at(function(e,t){return Ye(je(e.className),je(t))}),s(ae)),ut=(ie=at(function(e,t){return e.className?dt(e,t)||(e.className+=" "+t):e.className=t,e}),s(ie)),pt=(ne=at(function(e,t){return t=(" "+e.className+" ").replace(" "+t+" "," ").replace(/^ | $/g,""),e.className!==t&&(e.className=t),e}),s(ne)),ht=(se=at(function(e,t){return e.getAttribute(t)}),s(se)),mt=x(it(function(e,t,a){return e.setAttribute(t,a),e})),ft=x(it(function(e,t,a){return e.style[t]=a,e})),vt=(re=nt(function(i,e){var t;return t=e,Le(function(e,t){var a;return a=i,mt(t,e)(a)})(t),i}),s(re)),gt=(oe=nt(function(i,e){var t;return t=e,Le(function(e,t){var a;return a=i,ft(t,e)(a)})(t),i}),s(oe)),bt=(ce=at(function(e,t){return e.innerHTML=t,e}),s(ce)),yt=(le=at(function(e,t){var a;return a=e,ft("display",t)(a)}),s(le)),kt=(yt("none"),yt("block"),yt("inline-block"),z("offsetWidth"),z("offsetHeight"),et(function(e){return e.getBoundingClientRect()}),et(function(e){return e.firstChild})),wt=D(Je),_t=wt.matches||wt.matchesSelector||wt.webkitMatchesSelector||wt.mozMatchesSelector||wt.msMatchesSelector||wt.oMatchesSelector,xt=(de=at(function(e,t){return _t.call(e,t)}),s(de)),Ct=function(t,i,n,s){return L(t,Je)?console.error("use el |> _El.on(e, cb)"):function(a){var e=i;return S(n)?e=function(e){for(var t=e.target;!xt(t,n)&&t!==a;){t=Qe(t)}t!==a&&(e.delegateTarget=t,i(e))}:s=n,s=!!s,a.addEventListener(t,e,s),function(){return a.removeEventListener(t,e,s)}}},Pt=u.documentElement,Tt=u.body,At=Oe("querySelector",u),St=Oe("querySelectorAll",u),Mt=(Oe("getElementById",u),Oe("getComputedStyle",d),d.Event);function Ot(e){if(!e.target&&d!==d.parent)return d.Razorpay.sendMessage({event:"redirect",data:e});It(e.url,e.content,e.method,e.target)}function It(e,t,a,i){if(a&&"get"===a.toLowerCase())e=j(e,t),i?d.open(e,i):d.location=e;else{var n,s,r,o,c,l={action:e,method:a};i&&(l.target=i),c=Xe("form"),o=vt(l)(c),r=bt(Bt(t))(o),s=st(Pt)(r),n=lt(s),ct(n)}}function Bt(e,a){if(E(e)){var i="";return Le(e,function(e,t){a&&(t=a+"["+t+"]"),i+=Bt(e,t)}),i}return'<input type="hidden" name="'+a+'" value="'+e+'">'}function Et(e){return L(e,Mt)&&(e.preventDefault(),e.stopPropagation()),!1}var Nt,zt,Rt,Dt=e,Lt=U("Network error"),Vt=0;function Ht(e){if(!L(this,Ht))return new Ht(e);this.options=function(e){S(e)&&(e={url:e});var t=e,a=t.method,i=t.headers,n=t.callback,s=t.data;i||(e.headers={});a||(e.method="get");n||(e.callback=Me);E(s)&&(s=K(s));return e.data=s,e}(e),this.defer()}((zt={setReq:function(e,t){return this.abort(),this.type=e,this.req=t,this},till:function(t){var a=this;return this.setReq("timeout",m(function(){a.call(function(e){t(e)?a.till(t):a.options.callback(e)})},3e3))},abort:function(){var e=this.req,t=this.type;e&&("ajax"===t?this.req.abort():"jsonp"===t?d.Razorpay[this.req]=Me:v(this.req),this.req=null)},defer:function(){var e=this;this.req=m(function(){return e.call()})},call:function(t){var e,a;void 0===t&&(t=this.options.callback);var i=this.options,n=i.url,s=i.method,r=i.data,o=i.headers,c=new Dt;this.setReq("ajax",c),c.open(s,n,!0),c.onreadystatechange=function(){if(4===c.readyState&&c.status){var e=Fe(c.responseText);e||((e=U("Parsing error")).xhr={status:c.status,text:c.responseText}),t(e)}},c.onerror=function(){var e=Lt;e.xhr={status:0},t(e)},a=o,e=Re("X-Razorpay-SessionId",Nt)(a),Le(function(e,t){return c.setRequestHeader(t,e)})(e),c.send(r)}}).constructor=Ht).prototype=zt,Ht.post=function(e){return e.method="post",e.headers||(e.headers={}),e.headers["Content-type"]||(e.headers["Content-type"]="application/x-www-form-urlencoded"),Ht(e)},Ht.setSessionId=function(e){Nt=e},Ht.jsonp=function(r){r.data||(r.data={});var o="jsonp"+Vt++;r.data.callback="Razorpay."+o;var e=new Ht(r);return r=e.options,e.call=function(t){var e,a;void 0===t&&(t=r.callback);var i=!1,n=function(){i||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(i=!0,this.onload=this.onreadystatechange=null,ct(this))},s=d.Razorpay[o]=function(e){De(e,"http_status_code"),t(e),De(d.Razorpay,o)};this.setReq("jsonp",s),a=Xe("script"),e=qe({src:j(r.url,r.data),async:!0,onerror:function(e){return r.callback(Lt)},onload:n,onreadystatechange:n})(a),st(Pt)(e)},e};var Ft="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",Ut=(Rt=Ft,Ae(function(e,t,a){return ze(e,t,a)},{})(Rt));function qt(e){for(var t="";e;)t=Ft[e%62]+t,e=F(e/62);return t}function $t(){var e,a,i=qt(o(V()-13885344e5)+Ge("000000"+F(1e6*H()),-6))+qt(F(238328*H()))+"0",n=0;return e=i,ve(function(e,t){a=Ut[i[i.length-1-t]],(i.length-t)%2&&(a*=2),62<=a&&(a=a%62+1),n+=a})(e),(a=n%62)&&(a=Ft[62-a]),We(i,0,13)+a}var Kt=$t(),jt={library:"checkoutjs",platform:"browser",referer:n.href};function Yt(e){var t,a={checkout_id:e?e.id:Kt};return t=["integration","referer","library","platform","platform_version","os","os_version","device"],ve(function(e){var t;return t=a,Re(e,jt[e])(t)})(t),a}var Wt,Gt=[],Zt=function(e){return Gt.push(e)},Jt=function(e){Wt=e},Xt=function(){var e,t,a,i,n;if(Gt.length){var s=Be(_,"sendBeacon"),r={url:"https://lumberjack.razorpay.com/v1/track",data:{key:"ZmY5N2M0YzVkN2JiYzkyMWM1ZmVmYWJk",data:(n={context:Wt,addons:[{name:"ua_parser",input_key:"user_agent",output_key:"user_agent_parsed"}],events:Gt.splice(0,Gt.length)},i=He(n),a=b(i),t=w(a),e=k(t),b(e))}};try{s?_.sendBeacon(r.url,He(r.data)):Ht.post(r)}catch(e){}}};f(function(){Xt()},1e3);function Qt(i,r,o,c){i.isLiveMode()&&m(function(){o instanceof Error&&(o={message:o.message,stack:o.stack});var e=Yt(i);e.user_agent=null,e.mode="live";var t=i.get("order_id");t&&(e.order_id=t);var n={},a={options:n,es6:!0};o&&(a.data=o);var s=["key","amount","prefill","theme","image","description","name","method","display_currency","display_amount"];Le(i.get(),function(e,t){var a=t.split("."),i=a[0];-1!==s.indexOf(i)&&(1<a.length?(s.hasOwnProperty(i)||(n[i]={}),n[i][a[1]]=e):n[t]=e)}),n.image&&$(n.image)&&(n.image="base64"),function(e,t){var a=e._payment;if(a){var i,n,s;a.payment_id&&(t.payment_id=a.payment_id),i=a,Ee("magicPossible")(i)&&(t.magic_possible=a.magicPossible),n=a,Ee("isMagicPayment")(n)&&(t.magic_attempted=a.isMagicPayment),s=a,Ee("magicCoproto")(s)&&(t.magic_coproto=a.magicCoproto)}}(i,a),Kt&&(a.local_order_id=Kt),Zt({event:r,properties:a,timestamp:V()}),Jt(e),c&&Xt()})}Qt.parseAnalyticsData=function(e){var t;E(e)&&(t=e,Le(function(e,t){jt[e]=t})(t))},Qt.makeUid=$t,Qt.common=Yt,Qt.props=jt,Qt.id=Kt,Qt.updateUid=function(e){Qt.id=Kt=e},Qt.flush=Xt;var ea,ta={},aa={setR:function(e){ea=e},track:function(e,t){var a,i=void 0===t?{}:t,n=i.type,s=i.data,r=void 0===s?{}:s,o=i.r,c=void 0===o?ea:o,l=i.immediately,d=void 0!==l&&l,u=(a=$e(ta),Le(a,function(e,t){M(e)&&(a[t]=e.call())}),a);O(r)||(r={data:r}),r.meta&&E(r.meta)&&(u=qe(u,r.meta)),r.meta=u,n&&(e=n+":"+e),Qt(c,e,r,d)},setMeta:function(e,t){ze(ta,e,t)},removeMeta:function(e){De(ta,e)},getMeta:function(){return t={},Le(ta,function(a,e){e.replace(/\[([^[\]]+)\]/g,".$1");var i=e.split("."),n=t;ve(i,function(e,t){t<i.length-1?(n[e]||(n[e]={}),n=n[e]):n[e]=a})}),t;var t}};function ia(){return this._evts={},this._defs={},this}ia.prototype={onNew:Me,def:function(e,t){this._defs[e]=t},on:function(e,t){if(S(e)&&M(t)){var a=this._evts;a[e]||(a[e]=[]),!1!==this.onNew(e,t)&&a[e].push(t)}return this},once:function(e,t){var a=t,i=this,n=function(){a.apply(i,arguments),i.off(e,n)};return t=n,this.on(e,t)},off:function(a,e){var t=arguments.length;if(!t)return ia.call(this);var i=this._evts;if(2===t){var n=i[a];if(!M(e)||!I(n))return;if(n.splice(we(n,e),1),n.length)return}return i[a]?delete i[a]:(a+=".",Le(i,function(e,t){t.indexOf(a)||delete i[t]})),this},emit:function(e,t){var a=this;return ve(this._evts[e],function(e){try{e.call(a,t)}catch(e){console.error}}),this},emitter:function(){var e=this,t=arguments;return function(){e.emit.apply(e,t)}}};var na=_.userAgent;function sa(e){return e.test(na)}sa(/MSIE |Trident\//);var ra=sa(/iPhone/)||sa(/iPad/),oa=sa(/Android/),ca=sa(/; wv\) |Gecko\) Version\/[^ ]+ Chrome|Windows Phone|Opera Mini|UCBrowser|FBAN|CriOS/)||ra||sa(/Android 4/),la=(sa(/iPhone/),na.match(/Chrome\/(\d+)/));la&&(la=g(la[1],10));var da=oa&&(la||sa(/firefox/)),ua={key:"",account_id:"",image:"",amount:100,currency:"INR",order_id:"",invoice_id:"",subscription_id:"",payment_link_id:"",notes:null,callback_url:"",redirect:!1,description:"",customer_id:"",recurring:null,signature:"",retry:!0,target:"",subscription_card_change:null,display_currency:"",display_amount:"",recurring_token:{max_amount:0,expire_by:0}};function pa(e,t,a,i){var n=t[a=a.toLowerCase()],s=typeof n;"string"===s&&(A(i)||T(i))?i=o(i):"number"===s?i=c(i):"boolean"===s&&(S(i)?"true"===i||"1"===i?i=!0:"false"!==i&&"0"!==i||(i=!1):A(i)&&(i=!!i)),null!==n&&s!==typeof i||(e[a]=i)}function ha(i,n,s){Le(i[n],function(e,t){var a=typeof e;"string"!==a&&"number"!==a&&"boolean"!==a||(t=n+s[0]+t,1<s.length&&(t+=s[1]),i[t]=e)}),delete i[n]}function ma(e,i){var n={};return Le(e,function(e,a){a in fa?Le(e,function(e,t){pa(n,i,a+"."+t,e)}):pa(n,i,a,e)}),n}var fa={};function va(a){Le(ua,function(e,a){E(e)&&!N(e)&&(fa[a]=!0,Le(e,function(e,t){ua[a+"."+t]=e}),delete ua[a])}),(a=ma(a,ua)).callback_url&&ca&&(a.redirect=!0),this.get=function(e){return arguments.length?e in a?a[e]:ua[e]:a},this.set=function(e,t){a[e]=t},this.unset=function(e){delete a[e]}}var ga={INR:"₹",USD:"$"},ba={AFN:"&#x60b;",ALL:"&#x6b;",DZD:"د.ج",WST:"T",EUR:"&#8364;",AOA:"Kz",XCD:"EC$",ARS:"$",AMD:"&#1423;",AWG:"ƒ",AUD:"A$",AZN:"ман",BSD:"B$",BHD:"د.ب",BDT:"&#x9f3;",BBD:"Bds$",BYR:"Br",BZD:"BZ$",XOF:"CFA",BMD:"BD$",BTN:"Nu.",BOB:"Bs.",BAM:"KM",BWP:"P",BRL:"R$",USD:"$",BND:"B$",BGN:"лв",BIF:"FBu",KHR:"៛",XAF:"CFA",CAD:"C$",CVE:"Esc",KYD:"KY$",CLP:"$",CNY:"&#165;",COP:"$",KMF:"CF",NZD:"NZ$",CRC:"&#x20a1;",HRK:"Kn",CUC:"&#x20b1;",ANG:"ƒ",CZK:"Kč",CDF:"FC",DKK:"Kr.",DJF:"Fdj",DOP:"RD$",EGP:"E&#163;",SVC:"&#x20a1;",ERN:"Nfa",ETB:"Br",FKP:"FK&#163;",FJD:"FJ$",XPF:"F",GMD:"D",GEL:"ლ",GHS:"&#x20b5;",GIP:"&#163;",GTQ:"Q",GBP:"&#163;",GNF:"FG",GYD:"GY$",HTG:"G",HNL:"L",HKD:"HK$",HUF:"Ft",ISK:"Kr",IDR:"Rp",IRR:"&#xfdfc;",IQD:"ع.د",ILS:"&#x20aa;",JMD:"J$",JPY:"&#165;",JOD:"د.ا",KZT:"&#x20b8;",KES:"KSh",KWD:"د.ك",KGS:"лв",LAK:"&#x20ad;",LVL:"Ls",LBP:"L&#163;",LSL:"L",LRD:"L$",LD:"ل.د",LYD:"ل.د",CHF:"Fr",LTL:"Lt",MOP:"P",MKD:"ден",MGA:"Ar",MWK:"MK",MYR:"RM",MVR:"Rf",MRO:"UM",MUR:"Ɍs",MXN:"$",MDL:"L",MNT:"&#x20ae;",MAD:"د.م.",MZN:"MT",MMK:"K",NAD:"N$",NPR:"NɌs",NIO:"C$",NGN:"&#x20a6;",KPW:"₩",NOK:"Kr",OMR:"ر.ع.",PKR:"Ɍs",PAB:"B/.",PGK:"K",PYG:"&#x20b2;",PEN:"S/.",PHP:"&#x20b1;",PLN:"Zł",QAR:"QAR",RON:"L",RUB:"руб",RWF:"RF",SHP:"&#163;",STD:"Db",SAR:"ر.س",RSD:"Дин.",SCR:"Ɍs",SLL:"Le",SGD:"S$",SBD:"SI$",SOS:"So. Sh.",ZAR:"R",KRW:"₩",SDG:"&#163;Sd",LKR:"Rs",SFR:"Fr",SRD:"$",SZL:"L",SEK:"Kr",SYP:"S&#163;",TWD:"NT$",TJS:"SM",TZS:"TSh",THB:"&#x0e3f;",TOP:"T$",TTD:"TT$",TND:"د.ت",TRY:"TL",TMT:"M",UGX:"USh",UAH:"&#x20b4;",AED:"د.إ",UYU:"$U",UZS:"лв",VUV:"VT",VEF:"Bs",VND:"&#x20ab;",YER:"&#xfdfc;",ZMK:"ZK",ZWL:"Z$"},ya=function(e){return"JPY"===e?0:2},ka={INR:function(e){return o(e).replace(/(.{1,2})(?=.(..)+(\...)$)/g,"$1,").replace(".00","")},JPY:function(e){return o(e).replace(/(.{1,3})(?=(...)+$)/g,"$1,")}},wa=function(e,t,a){return a=void 0===a?ya(t):a,(ga[t]||ba[t])+(ka[t]||function(e){return o(e).replace(/(.{1,3})(?=(...)+(\...)$)/g,"$1,").replace(".00","")})(a?c(e).toFixed(a):e)};function _a(e,t){var a,i,n,s,r=e.get,o=r("display_currency");return o?wa(r("display_amount"),o):(a=e.display_amount||t||r("amount"),i=r("currency"),n=ya(i),s=h.pow(10,n),wa(a/s,i,n))}var xa={api:"https://api.razorpay.com/",version:"v1/",frameApi:"/",cdn:"https://cdn.razorpay.com/"};try{qe(xa,d.Razorpay.config)}catch(e){}function Ca(e){return void 0===e&&(e=""),xa.api+xa.version+e}var Pa=["key","order_id","invoice_id","subscription_id","payment_link_id"];function Ta(e,t){t=Ca(t);for(var a=0;a<Pa.length;a++){var i=Pa[a],n=e.get(i);if(i="key"===i?"key_id":"x_entity_id",n){var s=e.get("account_id");return s&&(n+="&account_id="+s),t+"?"+i+"="+n}}return t}function Aa(t){if(!L(this,Aa))return new Aa(t);var a;ia.call(this),this.id=Qt.makeUid(),aa.setR(this);try{a=function(e){e&&"object"==typeof e||q("Invalid options");var t=new va(e);return n=t,n=n.get(),Le(Ia,function(e,t){if(t in n){var a=e(n[t],n);a&&q("Invalid "+t+" ("+a+")")}}),a=t,i=a.get("notes"),Le(i,function(e,t){S(e)?254<e.length&&(i[t]=e.slice(0,254)):A(e)||T(e)||delete i[t]}),t;var a,i;var n}(t),this.get=a.get,this.set=a.set}catch(e){var i=e.message;this.get&&this.isLiveMode()||E(t)&&!t.parent&&d.alert(i),q(i)}Pa.every(function(e){return!a.get(e)})&&q("No key passed"),this.postInit()}var Sa=Aa.prototype=new ia;function Ma(e,t){return Ht.jsonp({url:Ca("preferences"),data:e,callback:t})}Sa.postInit=Me,Sa.onNew=function(e,t){var a=this;"ready"===e&&(this.prefs?t(e,this.prefs):Ma(Oa(this),function(e){e.methods&&(a.prefs=e,a.methods=e.methods),t(a.prefs)}))},Sa.emi_calculator=function(e,t){return Aa.emi.calculator(this.get("amount")/100,e,t)},Aa.emi={calculator:function(e,t,a){if(!a)return h.ceil(e/t);a/=1200;var i=h.pow(1+a,t);return g(e*a*i/(i-1),10)}};Aa.payment={getMethods:function(t){return Ma({key_id:Aa.defaults.key},function(e){t(e.methods||e)})},getPrefs:function(t,a){return Ht({url:j(Ca("preferences"),t),callback:function(e){if(e.xhr&&0===e.xhr.status)return Ma(t,a);a(e)}})}};function Oa(e){if(e){var a=e.get,i={},t=a("key");return t&&(i.key_id=t),ve(["order_id","customer_id","invoice_id","payment_link_id","subscription_id","recurring","subscription_card_change","account_id"],function(e){var t=a(e);t&&(i[e]=t)}),i}}Sa.isLiveMode=function(){var e=this.preferences;return!e&&/^rzp_l/.test(this.get("key"))||e&&"live"===e.mode};var Ia={notes:function(e){if(E(e)&&15<R(Ie(e)))return"At most 15 notes are allowed"},amount:function(e,t){if((/[^0-9]/.test(a=e)||!(100<=(a=g(a,10))))&&!t.recurring)return"should be passed in integer paise. Minimum value is 100 paise, i.e. ₹ 1";var a},currency:function(e){if("INR"!==e&&"USD"!==e)return"INR and USD are the only supported values for currency field."},display_currency:function(e){if(!(e in ba)&&e!==Aa.defaults.display_currency)return"This display currency is not supported"},display_amount:function(e){if(!(e=o(e).replace(/([^0-9.])/g,""))&&e!==Aa.defaults.display_amount)return""}};Aa.configure=function(e){Le(ma(e,ua),function(e,t){typeof ua[t]==typeof e&&(ua[t]=e)})},Aa.defaults=ua,d.Razorpay=Aa,ua.timeout=0,ua.name="",ua.ecod=!1,ua.remember_customer=!1,ua.method={netbanking:null,card:!0,wallet:null,emi:!0,upi:!0,upi_intent:null},ua.prefill={amount:"",wallet:"",method:"",name:"",contact:"",email:"",vpa:"","card[number]":"","card[expiry]":"","card[cvv]":"",bank:"","bank_account[name]":"","bank_account[account_number]":"","bank_account[account_type]":"","bank_account[ifsc]":"","aadhaar[vid]":"",auth_type:""},ua.features={cardsaving:!0},ua.readonly={contact:!1,email:!1,name:!1},ua.modal={confirm_close:!1,ondismiss:Me,onhidden:Me,escape:!0,animation:!0,backdropclose:!1},ua.external={wallets:[],handler:Me},ua.theme={upi_only:!1,color:"",backdrop_color:"rgba(0,0,0,0.6)",image_padding:!0,image_frame:!0,close_button:!0,close_method_back:!1,hide_topbar:!1,branding:"",emi_mode:!1,debit_card:!1};var Ba=d.PaymentRequest,Ea=["rzp_test_1DP5mmOlF5G5ag","rzp_live_izcpsDPjM13eLY","rzp_live_Vxe5F7uRkCXkXp","rzp_live_uot7iROpZmbKeI","rzp_live_N2JC92BOyrmMnC","rzp_live_DpR4qRbfk9hGjd","rzp_live_CH3tA4XTOKFDVH","rzp_live_Dptx8xPCtOoGSx","rzp_live_WbPAI53b1sGAN0","rzp_live_NjxztKBVEiesfV","rzp_live_3dk2rs9s1b2p68","rzp_live_bLR83mLuZGGPt5","rzp_live_ZHbHi1nZXd9N1o","rzp_live_Y5HQwWkko9bkUf","rzp_live_XY9x0GfgAKrxfh","rzp_live_w0ZAHP9naLomp1","rzp_live_9dlWORqkx1U7KF","rzp_live_ePMZk1A48Q5MXF","rzp_live_VedxbYjkA7XjKh"],Na=["https://tez.google.com/pay"],za=function(t,a){a=a||function(){};try{new Ba([{supportedMethods:Na}],{total:{label:"_",amount:{currency:"INR",value:0}}}).canMakePayment().then(function(e){e?t():a()}).catch(function(e){a(e)})}catch(e){a(e)}},Ra=function(e,t,a){var i={};a=a||function(){},e.intent_url.replace(/^.*\?/,"").replace(/([^=&]+)=([^&]*)/g,function(e,t,a){i[y(t)]=y(a)}),i.url="https://razorpay.com";var n=[{supportedMethods:Na,data:i}],s={total:{label:"Payment",amount:{currency:"INR",value:parseFloat(i.am).toFixed(2)}}};try{new Ba(n,s).show().then(function(e){return t(e),e.complete()}).catch(function(e){a(e)})}catch(e){a(e)}},Da=t.freeze({checkKey:function(e){return-1!==Ea.indexOf(e)},check:za,pay:Ra}),La="Entered OTP was incorrect. Re-enter to proceed.",Va="Payment canceled",Ha={},Fa=function(e){return void 0===e&&(e=Qt.id),Ha[e]},Ua=function(e,t){return void 0===t&&(t=Qt.id),Ha[t]=new xs(e)},qa=function(e,t){void 0===t&&(t=Qt.id),Ha[t]=e},$a=t.freeze({getSession:Fa,createSession:Ua,setSession:qa}),Ka={preferred:[{package_name:"in.org.npci.upiapp"},{package_name:"com.phonepe.app",app_icon:"https://cdn.razorpay.com/checkout/phonepe.png"},{app_name:"Google Pay (Tez)",package_name:"com.google.android.apps.nbu.paisa.user",app_icon:"https://cdn.razorpay.com/checkout/gpay.png"}],secondfactor:[{name:"PayTM",app_name:"PayTM UPI",package_name:"net.one97.paytm"},{name:"WhatsApp",app_name:"WhatsApp UPI",package_name:"com.whatsapp",app_icon:"https://cdn.razorpay.com/checkout/whatsapp.png"},{name:"WhatsApp Business",app_name:"WhatsApp Business UPI",package_name:"com.whatsapp.w4b"}],whitelist:[{package_name:"com.csam.icici.bank.imobile"},{package_name:"com.sbi.upi"},{package_name:"com.upi.axispay"},{package_name:"com.samsung.android.spaymini"},{package_name:"com.samsung.android.spay"},{package_name:"com.snapwork.hdfc"},{package_name:"com.fss.pnbpsp"},{package_name:"com.icicibank.pockets"},{package_name:"com.bankofbaroda.upi"},{package_name:"com.freecharge.android"},{package_name:"com.fss.unbipsp"},{package_name:"com.axis.mobile"},{package_name:"com.mycompany.kvb"},{package_name:"com.fss.vijayapsp"},{package_name:"com.dena.upi.gui"},{package_name:"com.fss.jnkpsp"},{package_name:"com.olive.kotak.upi"},{package_name:"com.enstage.wibmo.hdfc"},{package_name:"com.bsb.hike"},{package_name:"com.fss.idfcpsp"},{package_name:"com.YesBank"},{package_name:"com.abipbl.upi"},{package_name:"com.microsoft.mobile.polymer"},{package_name:"com.finopaytech.bpayfino"},{package_name:"com.mgs.obcbank"},{package_name:"com.upi.federalbank.org.lotza"},{package_name:"com.mgs.induspsp"},{package_name:"ai.wizely.android"},{package_name:"com.olive.dcb.upi"},{package_name:"com.mgs.yesmerchantnative.prod"},{package_name:"com.dbs.in.digitalbank"},{package_name:"com.mobikwik_new"},{package_name:"com.rblbank.mobank"},{package_name:"in.chillr"},{package_name:"com.citrus.citruspay"},{package_name:"com.SIBMobile"}],blacklist:[{package_name:"com.olacabs.customer"},{package_name:"com.myairtelapp"},{package_name:"com.truecaller"},{package_name:"com.paytmmall"},{package_name:"com.gbwhatsapp"},{package_name:"com.msf.angelmobile"},{package_name:"com.fundsindia"},{package_name:"com.muthootfinance.imuthoot"},{package_name:"com.angelbroking.angelwealth"}]},ja=["preferred","secondfactor","whitelist"],Ya=function(e){var t={};if(e.response)if(E(e.response))t=e.response;else if(S(e.response))for(var a=e.response.split("&"),i=0;i<a.length;i++){var n=a[i].split("=");""===n[1]||"undefined"===n[1]||"null"===n[1]?t[n[0]]=null:t[n[0]]=n[1]}return t},Wa=function(e){return p(e.txnId)||0===(e.Status||e.status||"").toLowerCase().indexOf("suc")},Ga=function(e){var t=[];return ve(e,function(e){return t.push(e.package_name)}),t},Za=function(e,t){return 0<=Ga(t).indexOf(e)},Ja=function(){var t=[];return ve(ja,function(e){"blacklist"!==e&&(t=Se(Ka[e],t))}),t},Xa=function(){var t=[];return ve(ja,function(e){t=Se(Ka[e],t)}),t},Qa=function(i){i=Ue(i);var n=Ja(),s=ye(n,function(e){return e.package_name});return i=ke(i,function(e){return 0<=s.indexOf(e.package_name)}),_e(i,function(e,t){return s.indexOf(e.package_name)>s.indexOf(t.package_name)}),ve(i,function(e,t){var a=s.indexOf(e.package_name);i[t]=qe(i[t],n[a])}),i},ei=t.freeze({parseUPIIntentResponse:Ya,didUPIIntentSucceed:Wa,getPackageNames:Ga,doesAppExist:Za,getUsableApps:Ja,getAllApps:Xa,isPreferredApp:function(e){return Za(e,Ka.preferred)},isSecondFactorApp:function(e){return Za(e,Ka.secondfactor)},isWhitelistedApp:function(e){return Za(e,Ka.whitelist)},isBlacklistedApp:function(e){return Za(e,Ka.blacklist)},isUsableApp:function(e){return Za(e,Ja())},getAppByPackageName:function(t){var e=ke(Xa(),function(e){return e.package_name===t});return e.length?e[0]:null},getSortedApps:Qa,findAndReportNewApps:function(e){var t=ye(Ja(),function(e){return e.package_name}),a=ye(Ka.blacklist,function(e){return e.package_name});ve(e,function(e){t.indexOf(e.package_name)<0&&a.indexOf(e.package_name)<0&&Qt(Fa().r,"unreported_upi_app",{app_name:e.app_name,package_name:e.package_name})})},getNumberOfAppsByCategory:function(e){var a={},i=ye(e,function(e){return e.package_name});return Le(Ka,function(e,t){a[t]=ke(e,function(e){return 0<=i.indexOf(e.package_name)}).length}),a}}),ti=function(e){var t=e.error;if(t){if("RETRY"===t.action)return this.emit("otp.required",La);if("TOPUP"===t.action)return this.emit("wallet.topup",t.description);this.complete(e)}ii.call(this,e)},ai=function(e){var t=this,a=t.r;t.payment_id=e.payment_id,t.magicCoproto=e.magic||!1,Qt(a,"ajax_response",e);var i=t.popup;if(!i||!i.checkClose())return e.error&&e.xhr&&0===e.xhr.status?(t.trySubmit(),Qt(t.r,"no_popup")):void ii.call(t,e)},ii=function(e){if(!e.razorpay_payment_id&&!e.error){var t=ni[e.type],a=M(t);return a&&t.call(this,e.request,e),a}this.complete(e)},ni={first:function(e,t){var a=this,i="direct"===e.method,n=e.content,s=this.popup,r=!!t.magic&&t.magic;if(this.isMagicPayment){r&&this.emit("magic.init");var o={focus:!r,magic:r,otpelf:!0};if(i)o.content=n;else{var c="javascript: submitForm('"+e.url+"', "+He(e.content)+", '"+e.method+"')";o.url=c}d.CheckoutBridge.invokePopup(He(o))}else if(s)i?s.write(n):It(e.url,e.content,e.method,s.window.name),m(function(){s.window.closed&&a.r.get("callback_url")&&(a.r.set("redirect",!0),a.checkRedirect())});else{if(this.sdk_popup)return d.CheckoutBridge.invokePopup(He({focus:!0,magic:!1,otpelf:!0,url:"javascript: submitForm('"+e.url+"', "+He(e.content)+", '"+e.method+"')"}));this.checkRedirect()}},async:function(e,t){var a=this;this.ajax=Ht.jsonp({url:e.url,callback:function(e){return a.complete(e)}}).till(function(e){return e&&e.status}),this.emit("upi.pending",t.data)},tez:function(e,t){var i=this;Ra(t.data,function(e){Qt(i.r,"tez_pay_response",{instrument:e}),i.emit("upi.intent_response",{response:e.details})},function(e){if(e.code&&(0<=[e.ABORT_ERR,e.NOT_SUPPORTED_ERR].indexOf(e.code)&&i.emit("upi.intent_response",{}),e.code===e.NOT_SUPPORTED_ERR)){var t=At("#upi-tez"),a=At("#radio-directpay");t&&(ft(t,"display","none"),t.checked=!1),a&&(a.checked=!0)}Qt(i.r,"tez_error",e)})},intent:function(e,t){var a=this,i={"_[method]":"upi","_[flow]":"intent","_[reason]":"UPI_INTENT_BACK_BUTTON"},n=function(){return Ht.jsonp({url:e.url,callback:function(e){return a.complete(e)}}).till(function(e){return e&&e.status})};this.emit("upi.coproto_response",e);var s=(t.data||{}).intent_url;this.on("upi.intent_response",function(e){var t;if(!(t=Ya(e),Wa(t)))return a.emit("cancel",i);a.emit("upi.pending",{flow:"upi-intent",response:e}),a.ajax=n()});var r=window.CheckoutBridge;if(r&&r.callNativeIntent)this.upi_app?r.callNativeIntent(s,this.upi_app):r.callNativeIntent(s);else if(da){if(this.tez)return ni.tez.call(this,e,t);var o=m(function(){a.emit("cancel",{"_[method]":"upi","_[flow]":"intent","_[reason]":"UPI_INTENT_WEB_NO_APPS"}),a.emit("upi.noapp")},3e3),c=function(){v(o),a.emit("upi.selectapp")},l=function(){a.emit("upi.pending",{flow:"upi-intent"}),window.removeEventListener("blur",c),window.removeEventListener("focus",l),n()};window.addEventListener("blur",c),window.addEventListener("focus",l),window.location=t.data.intent_url}},otp:function(e,t){if("direct"===e.method)return ni.first.call(this,e,ni);this.otpurl=e.url,this.emit("otp.required")},return:function(e){Ot(e)}};var si=Xe("canvas").getContext("2d"),ri=function(e,t,a){e/=255,t/=255,a/=255;var i,n,s=h.max(e,t,a),r=h.min(e,t,a),o=s,c=s-r;if(n=0===s?0:c/s,s===r)i=0;else{switch(s){case e:i=(t-a)/c+(t<a?6:0);break;case t:i=(a-e)/c+2;break;case a:i=(e-t)/c+4}i/=6}return{hue:i,saturation:n,brightness:o}};var oi,ci,li,di,ui=(oi={},function(e){if(oi[e])return oi[e];si.fillStyle="#fff",si.fillRect(0,0,1,1),si.fillStyle=e,si.fillRect(0,0,1,1);var t=si.getImageData(0,0,1,1).data,a={red:t[0],green:t[1],blue:t[2],alpha:t[3]/255};return oi[e]=a}),pi=(ci={},function(e){if(ci[e])return ci[e];var t=ui(e),a=ri(t.red,t.green,t.blue);return ci[e]=a}),hi=function(e){return e<=10?e/3294:h.pow(e/269+.0513,2.4)},mi=(li={},function(e){if(li[e])return li[e];var t=ui(e),a=t.red,i=t.green,n=t.blue,s=hi(a),r=hi(n),o=hi(i);return li[e]=.2126*s+.7152*o+.0722*r}),fi=function(e){return mi(e)<.5},vi=function(e,t,a,i){return"rgba("+h.round(e)+", "+h.round(t)+", "+h.round(a)+", "+i+")"},gi=function(e,t){void 0===t&&(t=0);var a=ui(e),i=a.red,n=a.green,s=a.blue;return vi(i,n,s,t/100)},bi=function(e,t){var a=ui(e),i=a.red,n=a.green,s=a.blue,r=a.alpha,o=ri(i,n,s),c=o.hue,l=o.saturation,d=o.brightness,u=function(e,t,a){var i,n,s,r=h.floor(6*e),o=6*e-r,c=a*(1-t),l=a*(1-o*t),d=a*(1-(1-o)*t);switch(r%6){case 0:i=a,n=d,s=c;break;case 1:i=l,n=a,s=c;break;case 2:i=c,n=a,s=d;break;case 3:i=c,n=l,s=a;break;case 4:i=d,n=c,s=a;break;case 5:i=a,n=c,s=l}return{red:255*i,green:255*n,blue:255*s}}(c,l,d+=d*(t/100));return vi(u.red,u.green,u.blue,r)},yi=(di={},function(e){if(di[e])return di[e];var t=0,a=0,i=mi(e);return.9<=i?(a=-50,t=-30):.7<=i&&i<.9?(a=-55,t=-30):.6<=i&&i<.7?(a=-50,t=-15):.5<=i&&i<.6?(a=-45,t=-10):.4<=i&&i<.5?(a=-40,t=-5):.3<=i&&i<.4?(a=-35,t=0):.2<=i&&i<.3?(a=-30,t=20):.1<=i&&i<.2?(a=-20,t=60):0<=i&&i<.1&&(a=0,t=80),di[e]={foregroundColor:bi(e,a),backgroundColor:bi(e,t)}});function ki(e){var t=ui(e),a=ri(t.red,t.green,t.blue),i=100*a.saturation,n=100*a.brightness;return h.sqrt(h.pow(100-i,2)+h.pow(100-n,2))}function wi(e,t){if(90<ki(e))return t;var a=100*pi(e).saturation,i=yi(e);return a<=50?i.backgroundColor:i.foregroundColor}var _i=t.freeze({rgbToHsb:ri,getColorProperties:ui,getHSB:pi,getRelativeLuminanceWithWhite:mi,isDark:fi,transparentify:gi,brighten:bi,getColorVariations:yi,getColorDistance:ki,getHighlightColor:wi,getHoverStateColor:function(e,t,a){if(90<ki(e))return gi(a,3);var i=3;return 50<100*pi(e).brightness&&(i=6),gi(t,i)},getActiveStateColor:function(e,t,a){if(90<ki(e))return gi(a,6);var i=6;return 50<100*pi(e).brightness&&(i=9),gi(t,i)}}),xi=He(U(Va));function Ci(e){var t=e.r.get,a="wallet"===e.data.method?"wallet":"bank",i=t("theme.color")||"#3594E2",n=e.r.themeMeta.highlightColor,s=t("name")||t("description")||"Redirecting...",r=_a(e.r,e.data.amount),o=t("image");return'<!doctype html><html style="height:100%;width:100%;"><head>\n<title>Processing, Please Wait...</title>\n<meta name="viewport" content="width=device-width, initial-scale=1">\n<meta name="theme-color" content="'+i+"\">\n<style>* {\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n}\nbody {\n  background: #f5f5f5;\n  overflow: hidden;\n  text-align: center;\n  height: 100%;\n  white-space: nowrap;\n  margin: 0;\n  padding: 0;\n  font-family: -apple-system, BlinkMacSystemFont, ubuntu, verdana, helvetica, sans-serif;\n}\n#bg {\n  position: absolute;\n  bottom: 50%;\n  width: 100%;\n  height: 50%;\n  margin-bottom: 90px;\n}\n#cntnt {\n  position: relative;\n  width: 100%;\n  vertical-align: middle;\n  display: inline-block;\n  margin: auto;\n  max-width: 420px;\n  min-width: 280px;\n  height: 95%;\n  max-height: 360px;\n  background: #fff;\n  z-index: 9999;\n  box-shadow: 0 0 20px 0 rgba(0,0,0,0.16);\n  border-radius: 4px;\n  overflow: hidden;\n  padding: 24px;\n  text-align: left;\n}\n#ftr {\n  position: absolute;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  height: 80px;\n  background: #f5f5f5;\n  text-align: center;\n  color: #212121;\n  font-size: 14px;\n  letter-spacing: -0.3px;\n}\n#ldr {\n  width: 100%;\n  height: 3px;\n  position: relative;\n  margin-top: 16px;\n  border-radius: 3px;\n  overflow: hidden;\n}\n#ldr:before,\n#ldr:after {\n  content: '';\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  width: 0%;\n  transition: 20s cubic-bezier(0, 0.1, 0, 1);\n}\n#ldr:before {\n  width: 100%;\n  top: 1px;\n  border-top: 1px solid #bcbcbc;\n}\n.loaded #ldr:after {\n  width: 90%;\n}\n#logo {\n  width: 48px;\n  height: 48px;\n  padding: 8px;\n  border: 1px solid #e5e5e5;\n  border-radius: 3px;\n  text-align: center;\n}\n#hdr {\n  min-height: 48px;\n  position: relative;\n}\n#logo,\n#name,\n#amt {\n  display: inline-block;\n  vertical-align: middle;\n  letter-spacing: -0.5px;\n}\n#amt {\n  position: absolute;\n  right: 0;\n  top: 0;\n  background: #fff;\n  color: #212121;\n}\n#name {\n  line-height: 48px;\n  margin-left: 12px;\n  font-size: 16px;\n  max-width: 140px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  color: #212121;\n}\n#logo+#name {\n  line-height: 20px;\n}\n#txt {\n  height: 200px;\n  text-align: center;\n}\n#title {\n  font-size: 20px;\n  line-height: 24px;\n  margin-bottom: 8px;\n  letter-spacing: -0.3px;\n}\n#msg,\n#cncl {\n  font-size: 14px;\n  line-height: 20px;\n  color: #757575;\n  margin-bottom: 8px;\n  letter-spacing: -0.3px;\n}\n#cncl {\n  text-decoration: underline;\n  cursor: pointer;\n}\n#logo img {\n  max-width: 100%;\n  max-height: 100%;\n  vertical-align: middle;\n}\n@media (max-height: 580px), (max-width: 420px) {\n  #bg {\n    display: none;\n  }\n}\n@media (max-width: 420px) {\n  #cntnt {\n    padding: 16px;\n    width: 95%;\n  }\n  #name {\n    margin-left: 8px;\n  }\n}\n#ldr:after{background:"+n+"}#bg{background:"+i+"}\n@media(max-height:580px),(max-width:420px){body{background:"+i+"}}\n</style>\n</head><body><div id='bg'></div><div id='cntnt'>\n<div id=\"hdr\">"+(o=o?'<div id="logo"><img src="'+o+'"/></div>':"")+"\n  <div id='name'>"+s+'</div>\n  <div id="amt">\n    <div style="font-size:12px;color:#757575;line-height:15px;margin-bottom:5px;text-align:right">PAYING</div>\n    <div style="font-size:20px;line-height:24px;">'+r+'</div>\n  </div>\n</div>\n<div id="ldr"></div>\n<div id="txt">\n  <div style="display:inline-block;vertical-align:middle;white-space:normal;">\n    <h2 id=\'title\'>Loading '+a+" page…</h2><p id='msg'>"+(e.message||"Please wait while we redirect you to your "+a+" page.")+'</p>\n  </div>\n  <div style="display:inline-block;vertical-align:middle;height:100%"></div>\n</div>\n<div id=\'ftr\'>\n  <div style="display:inline-block;">Secured by\n    <img style="vertical-align:middle;margin-bottom:5px;" height="20px" src="https://cdn.razorpay.com/logo.svg">\n  </div>\n  <div style="display:inline-block;vertical-align:middle;height:100%"></div>\n</div>\n</div>\n<div style="display:inline-block;vertical-align:middle;height:100%"></div>\n<script>\nvar doc = document;\nvar gel = doc.getElementById.bind(doc);\nsetTimeout(function(){doc.body.className=\'loaded\'}, 10);\nsetTimeout(function(){\n  gel(\'title\').innerHTML = \'Still trying to load...\';\n  gel(\'msg\').innerHTML = \'The bank page is taking time to load. You can either wait or <span id="cncl">change the payment method</span>.\';\n  gel(\'cncl\').onclick = function(){\n    if(window.confirm("Do you want to cancel the ongoing payment?")){\n      window.close();\n      if (CheckoutBridge && CheckoutBridge.oncomplete) {\n        CheckoutBridge.oncomplete(\''+xi+"');\n      }\n    }\n  };\n},1e4)\n"+(e.sdk_popup&&"function submitForm(action, data, method) {\n  if (method === 'get') { return window.location = action }\n  var form = document.forms[0];\n  form.setAttribute('action', action);\n  if (method) { form.setAttribute('method', method) }\n  if (data) { form.innerHTML = deserialize(data) }\n  form.submit()\n}\nfunction deserialize(data, key) {\n  if (typeof data === 'object' && data !== null) {\n    var str = '';\n    for (name in data) {\n      if (!data.hasOwnProperty(name)) {\n        return;\n      }\n      value = data[name];\n      if (key) {\n        name = key + '[' + name + ']';\n      }\n      str += deserialize(value, name);\n    }\n\n    return str;\n  }\n  return '<input type=\"hidden\" name=\"' + key + '\" value=\"' + data + '\">';\n}")+"\n<\/script>\n<form></form>\n</body>\n</html>"}function Pi(e,t,a){return h.min(h.max(h.floor(e),t),a)}function Ti(e,t){var a=window.innerWidth||u.documentElement.clientWidth,i=window.innerHeight||u.documentElement.clientHeight,n={width:Pi(.7*a,895,1440),height:Pi(.8*i,520,1060),menubar:"no",resizable:"yes",location:"no",scrollbars:"yes"},s=null===window.screenX?window.screenLeft:window.screenX,r=null===window.screenY?window.screenTop:window.screenY,o=null===window.outerWidth?u.documentElement.clientWidth:window.outerWidth,c=null===window.outerHeight?u.documentElement.clientHeight-22:window.outerHeight;n.left=g(s+(o-n.width)/2,10),n.top=g(r+(c-n.height)/2.5,10);var l=[];Le(n,function(e,t){l.push(t+"="+e)}),l=l.join(","),this.name=t;try{this.window=window.open(e,t||"",l)}catch(e){}if(!this.window)return null;this.window.focus(),this.listeners=[],this.interval=f(Oe("checkClose",this),200),this.on("beforeunload",this.beforeunload),this.on("unload",this.close)}Ti.prototype={on:function(e,t){var a;this.listeners.push((a=d,Ct(e,t)(a)))},write:function(e){var t=this.window.document;t.write(e),t.close()},beforeunload:function(e){return e.returnValue="Your payment is incomplete.",e.returnValue},close:function(){a(this.interval),ve(this.listeners,function(e){return e()}),this.listeners=[],this.window&&this.window.close()},checkClose:function(e){var t=this;try{if(e||!1!==this.window.closed)return m(function(){t.onClose()},100),this.close(),!0}catch(e){this.checkClose(!0)}}};var Ai,Si,Mi,Oi="",Ii=d.screen;try{Mi=[_.userAgent,_.language,(new l).getTimezoneOffset(),_.platform,_.cpuClass,_.hardwareConcurrency,Ii.colorDepth,_.deviceMemory,Ii.width+Ii.height,Ii.width*Ii.height,d.devicePixelRatio],Ai=Mi.join(),Si=new d.TextEncoder("utf-8").encode(Ai),Oi=void d.crypto.subtle.digest("SHA-1",Si).then(function(e){return Oi=function(e){for(var t=[],a=new d.DataView(e),i=0;i<a.byteLength;i+=4){var n=a.getUint32(i),s=n.toString(16),r="00000000",o=(r+s).slice(-r.length);t.push(o)}return t.join("")}(e)})}catch(e){}var Bi={"network.cellular_network_type":"cellular_network_type","network.connectivity_type":"data_network_type",locale:"locale","os.name":"os"},Ei={},Ni=function(e){var t,a=e.data;e.fees&&(a.view="html");var i=e.r.get;ve(["amount","currency","signature","description","order_id","account_id","notes","subscription_id","payment_link_id","customer_id","recurring","subscription_card_change","recurring_token.max_amount","recurring_token.expire_by"],function(e){if(!(e in a)){var t=i(e);t&&(T(t)&&(t=1),a[e.replace(/\.(\w+)/g,"[$1]")]=t)}});var n=i("key");if(!a.key_id&&n&&(a.key_id=n),e.powerwallet&&"wallet"===a.method&&(a["_[source]"]="checkoutjs"),e.tez){if(!e.r.tezPossible)return e.r.emit("payment.error",U("Tez is not available"));a["_[flow]"]="intent"}var s=Oi;s&&(a["_[shield][fhash]"]=s),a["_[shield][tz]"]=-(new l).getTimezoneOffset(),t=Ei,Le(function(e,t){a["_[shield]["+t+"]"]=e})(t),ha(a,"notes","[]"),ha(a,"card","[]");var r=a["card[expiry]"];S(r)&&(a["card[expiry_month]"]=r.slice(0,2),a["card[expiry_year]"]=r.slice(-2),delete a["card[expiry]"]),a._=Qt.common(),ha(a,"_","[]")},zi=[{name:"visa",regex:/^4/},{name:"mastercard",regex:/^(5[1-5]|2[2-7])/},{name:"maestro16",regex:/^50(81(25|26|59|92)|8227)|4(437|681)/},{name:"amex",regex:/^3[47]/},{name:"rupay",regex:/^(508[5-9]|60(80(0|)[^0]|8[1-4]|8500|698[5-9]|699|7[^9]|79[0-7]|798[0-4])|65(2(1[5-9]|[2-9])|30|31[0-4])|817[2-9]|81[89]|820[01])/},{name:"discover",regex:/^(65[1,3-9]|6011)/},{name:"maestro",regex:/^(6|5(0|[6-9])).{5}/},{name:"diners",regex:/^3[0689]/},{name:"jcb",regex:/^35/}],Ri={amex:15,diners:14,maestro:19,"":19};function Di(e,t){this.thisArg=1<arguments.length?t:this,this.el=e,this.listeners=[]}Di.prototype={on:function(e,t,a,i){var n,s,r,o,c,l;if("string"==typeof e)return B(a)||(i=a,a=this.el),this.listeners.push((n=a,s=e,c=t,l=this.thisArg,r=function(e){e||(e=window.event),e.target||(e.target=e.srcElement),3===e.target.nodeType&&(e.target=e.target.parentNode),e.preventDefault||(e.preventDefault=function(){return e.returnValue=!1}),"string"==typeof c&&(c=l[c]),"function"==typeof c&&c.call(l,e)},o=i,n.addEventListener(s,r,o),function(){n.removeEventListener(s,r,o)})),this;for(var d in e)this.on(d,e[d],t,a)},off:function(){return this.listeners.forEach(function(e){e()}),this.listeners=[],this}};var Li=function(e){var t=e.replace(/[^a-zA-Z0-9]/g,"");return 0<this.el.maxLength&&(t=We(t,0,this.el.maxLength)),t},Vi=function(e,a,t){var i=this;if(ia.call(this),this.el=e,S(a)&&(a=Vi.rules[a]),!a||!B(e))return!1;Le(a,function(e,t){i[t]=a[t]}),t?e._formatter=this:this.bind(),m(function(){return i.format()})};Vi.events={keypress:"fwdFormat",input:"deferFormat",change:"format",blur:"format",keydown:"backFormat"},Vi.rules={card:{setValue:function(e){var t,a,i=this.currentType=(t=e,a="",ve(zi,function(e){e.regex.test(t)&&(a||(a=e.name))}),a);i!==this.type&&(this.maxLen=Ri[i]||16),this.value=We(e,0,this.maxLen)},pretty:function(e,t){var a=this.maxLen,i=e.slice(0,a).replace(function(e){if(19!==e)return e<16?/(^.{4}|.{6})/g:/(.{4})/g}(a),"$1 ");return(t||e.length>=a)&&(i=i.trim()),i},oninput:function(){var e={type:this.currentType,maxLen:this.maxLen,valid:this.isValid()};e.type!==this.type&&(this.type=e.type,this.emit("network",e)),this.emit("change",e)},isValid:function(e){if(e||(e=this.value),function(e){for(var t=0,a=o(e).split("").reverse(),i=0;i<a.length;i++){var n=a[i];n=g(n,10),i%2&&(n*=2),9<n&&(n-=9),t+=n}return t%10==0}(e))return"maestro"===this.type&&16===e.length||e.length===this.maxLen}},alphanumeric:{raw:Li},aadhaar:{pretty:function(e,t){var a=e.slice(0,16).replace(/(.{4})/g,"$1 ");return(t||16<=e.length)&&(a=a.trim()),a}},ifsc:{raw:Li,pretty:function(e,t){var a=e.slice(0,11).toUpperCase();return(t||11<=e.length)&&(a=a.trim()),a},isValid:function(){return 11===this.value.length&&/^[a-zA-Z]{4}[a-zA-Z0-9]{7}$/.test(this.value)}},expiry:{pretty:function(e,t){return e=e.replace(/^([2-9])$/,"0$1").replace(/^1[3-9]$/,"1").replace(/(.{2})/,"$1 / ").replace(/^(.{5})\d{2}(\d{2})$/,"$1$2").slice(0,7),t&&(e=e.replace(/\D+$/,"")),e},oninput:function(){this.emit("change",{valid:this.isValid()})},isValid:function(){if(4===this.value.length){var e=g(this.value.slice(2),10),t=new l,a=t.getFullYear()-2e3;return a===e?g(this.value.slice(0,2),10)>=t.getMonth():a<e}}},number:{raw:function(e){var t=e.replace(/\D/g,"");return this.el.maxLength&&(t=We(t,0,this.el.maxLength)),t}},amount:{raw:function(e){return e.split(".").slice(0,2).map(function(e,t){return e=e.replace(/\D/g,""),t&&(e=e.slice(0,2)),e}).join(".")},pretty:Me},phone:{raw:function(e){var t=e.slice(0,15).replace(/\D/g,"");return"+"===e[0]&&(t="+"+t),t}}};var Hi=Vi.prototype=new ia;Hi.backFormat=function(e){if(8===pe(e)){var t=this.getCaret(),a=this.el.value;t.start&&t.start===t.end&&(t.start-=1);var i=We(a,0,t.start);this.run({e:e,left:i,value:i+Ge(a,t.end)})}},Hi.pretty=Hi.isValid=Me,Hi.prettyValue="",Hi.raw=function(e){return e.replace(/\D/g,"")},Hi.setValue=function(e){this.value=e},Hi.oninput=function(){this.emit("change")},Hi.fwdFormat=function(e){var t,a,i=(a=pe(t=e))&&!t.ctrlKey&&o.fromCharCode(a).replace(/[^\x20-\x7E]/,"")||"";if(i){var n=this.getCaret(),s=this.el.value,r=We(s,0,n.start)+i;s=r+Ge(s,n.end),this.run({e:e,left:r,value:s})}},Hi.deferFormat=function(e){var t=this;m(function(){t.format(e)})},Hi.format=function(e){var t=this.getCaret().start,a=this.el.value;this.run({value:a,left:We(a,0,t)})},Hi.bind=function(){return this.evtHandler=new Di(this.el,this).on(Vi.events),this},Hi.unbind=function(){var e=this.evtHandler;return e&&(e.off(),this.evtHandler=null),this._events={},this},Hi.run=function(e){var t=e.value,a=this.raw(t),i=this.value;this.setValue(a);var n,s=e.left,r=s.length,o=r<this.caretPosition,c=this.pretty(this.value,o);n=e.e?(Et(e.e),c!==this.prettyValue):c!==t,this.prettyValue=c,n&&(this.el.value=c),(s!==c||n)&&(r=this.pretty(this.raw(s),o).length,this.moveCaret(r)),this.caretPosition=r,i!==this.value&&this.oninput()},Hi.moveCaret=function(e){var t=this.el;if(A(t.selectionStart))t.selectionStart!==e&&(t.selectionStart=t.selectionEnd=e);else{var a=t.createTextRange();a.collapse(!0),a.moveEnd("character",e),a.moveStart("character",e),a.select()}},Hi.getCaret=function(){var e,t,a=this.el,i=a.value.length,n="";try{if(e=a.selectionStart,A(e))t=a.selectionEnd;else if(u.selection){var s=u.selection.createRange();n=s.text;var r=a.createTextRange();r.moveToBookmark(s.getBookmark()),t=(e=-r.moveStart("character",-i))+n.length}}catch(e){}return A(e)||(e=t=i),{start:e,end:t}};var Fi=function(t){var i=this;if(!L(this,Fi))return new Fi(t);Di.call(this,t),this.bits=[],Le(Vi.events,function(a,e){i.on(e,function(e){var t=e.target._formatter;t&&t[a](e)},t,!0)})},Ui=Fi.prototype=new Di;Ui.add=function(e,t){if(Vi.rules[e]){var a=new Vi(t,e,!0);return this.bits.push(a),a}},Ui.destroy=function(){var t=this;this.off(),ve(this.bits,function(e){t.bits[e].unbind()}),this.bits=[]};var qi,$i=xa.cdn,Ki=$i+"wallet/",ji=$i+"wallet-sq/",Yi=["mobikwik","freecharge","olamoney","payumoney"],Wi=Ve({amazonpay:["Amazon Pay",28],paytm:["Paytm",18],zeta:["Zeta",25],freecharge:["Freecharge",18],airtelmoney:["Airtel Money",32],jiomoney:["JioMoney",68],olamoney:["Ola Money",22],mobikwik:["Mobikwik",20],payumoney:["PayUMoney",18],payzapp:["PayZapp",24],citrus:["Citrus Wallet",32],mpesa:["Vodafone mPesa",50],sbibuddy:["SBI Buddy",22]},function(e,t){return{power:-1!==Yi.indexOf(t),name:e[0],h:e[1],code:t,logo:Ki+t+".png",sqLogo:ji+t+".png"}}),Gi=function(e){return Wi[e]&&Wi[e].power},Zi=t.freeze({wallets:Wi,isPowerWallet:Gi,getWallet:function(e){return Wi[e]}}),Ji=Ze(xa.api,n.protocol+"//"+n.hostname),Xi="#528FF0";function Qi(e){var t;(e||qi)&&(t="onComplete",u.cookie=t+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;path=/",a(qi),qi=null)}function en(e){var t=this;if(!this.done){var a=U(Va),i=this.payment_id,n=this.r,s={};if(i){s.payment_id=i;var r=Ta(n,"payments/"+i+"/cancel");E(e)&&(r+=K(e)),Ht({url:r,callback:function(e){e.razorpay_payment_id?aa.track("cancel_success",{data:e,r:n}):e=a,t.complete(e)}})}else this.complete(a);this.isDebitPin&&(s.auth_type=this.debitPinAuthType),aa.track("cancel",{data:s,r:n})}}function tn(e,t,a){var i,n;void 0===e&&(e={}),e.token&&a&&a.preferences&&(E(t.saved_card)||(t.saved_card={}),t.saved_card.mode=a.preferences.global?"global":"local"),e.method&&"upi"===e.method&&e.vpa&&(E(t.upi)||(t.upi={}),Ye(e.vpa,"@")&&(t.upi.provider=e.vpa.split("@")[1])),aa.track("submit",{data:{data:(i=e,n=Ue(i),Le(function(e,t,a){return"card"===t.slice(0,4)&&De(a,t)})(n)),params:t},r:a,immediately:!0})}function an(e,t,a){if(this._time=V(),this.sdk_popup=t.sdk_popup,this.magic=t.magic,this.isMagicPayment=this.sdk_popup&&this.magic&&/^(card|emi)$/.test(e.method)&&!t.fees,this.magicPossible=this.isMagicPayment,this.isAmazonpayPayment=t.amazonpay,this.isDebitPin=e&&e.auth_type&&("c3ds"===e.auth_type||"pin"===e.auth_type),this.isDebitPin&&(this.debitPinAuthType=e.auth_type,"c3ds"===e.auth_type&&delete e.auth_type),e&&void 0===e.auth_type&&this.isMagicPayment&&(e.auth_type="3ds"),tn(e,t,a),this.r=a,this.on("cancel",en),e&&e.upi_app&&(this.upi_app=e.upi_app,delete e.upi_app),this.fees=t.fees,this.tez=t.tez,this.powerwallet=e&&!t.fees&&e.contact&&e.email&&(t.tez||Ji&&("wallet"===e.method&&Gi(e.wallet)||"upi"===e.method)),this.message=t.message,this.tryPopup(),t.paused){try{this.writePopup()}catch(e){}this.data=e,this.on("resume",Oe("generate",this))}else this.generate(e)}function nn(e){this.popup&&this.popup.window===e.source&&this.complete(e.data)}function sn(e){return Ca("payments/create/"+(e?"fees":"checkout"))}an.prototype={on:function(e,t){return this.r.on("payment."+e,Oe(t,this))},emit:function(e,t){this.r.emit("payment."+e,t)},off:function(){this.r.off("payment")},checkSdkPopup:function(){if(this.sdk_popup&&(window.onpaymentcancel=Oe(en,this)),this.isMagicPayment)return aa.track("magic_open_popup",{r:this.r}),window.CheckoutBridge.invokePopup(He({content:Ci(this),focus:!1})),!0},checkRedirect:function(){var e=this.r.get;if(e("redirect")){var t=this.data,a=e("callback_url");if(a&&(t.callback_url=a),!this.powerwallet||"upi"===t.method&&!Ji)return Ot({url:sn(this.fees),content:t,method:"post",target:e("target")}),!0}},generate:function(e){var t,s=this;this.data=Ue(e||this.data),Ni(this);var a=function(e){var t,a,i,n;i=s.complete,a=Oe(s)(i),t=Ne(window,"onComplete")(a),n=t,Qi(!0),qi=f(function(){var e=function(e){for(var t=e+"=",a=u.cookie.split(";"),i=0;i<a.length;i++){for(var n=a[i];" "===n.charAt(0);)n=n.substring(1,n.length);if(0===n.indexOf(t))return n.substring(t.length,n.length)}}("onComplete");e&&(Qi(),n(e))},150)};if(this.isAmazonpayPayment)return a(),window.setTimeout(function(){s.emit("amazonpay.process",s.data)},100);this.shouldPopup()&&!this.popup&&this.r.get("callback_url")&&this.r.set("redirect",!0),!this.checkSdkPopup()&&this.checkRedirect()||(this.writePopup(),this.tryAjax()||this.trySubmit(),(Ji&&!this.powerwallet||this.isMagicPayment)&&a(),this.offmessage=(t=d,Ct("message",Oe(nn,this))(t)))},complete:function(e){if(!this.done){if("object"!=typeof e&&(e=JSON.parse(e)),e._time){if(e._time<this._time)return;delete e._time}if("TOPUP"===e.action)return ti.call(this,e);if(this.clear(),e.razorpay_payment_id){var t;aa.track("oncomplete",{r:this.r,data:(t=Ue(e),ze("auth_type",this.debitPinAuthType)(t))}),this.emit("success",e)}else{var a=e.error;if(!E(a)||!a.description){if(e.request&&ii.call(this,e))return;e=U("Payment failed")}this.emit("error",e)}this.off()}},clear:function(){try{this.popup.onClose=null,this.popup.close()}catch(e){}this.done=!0,this.offmessage&&this.offmessage(),Qi(),this.r._payment=null,this.sdk_popup&&(window.onpaymentcancel=null),this.isMagicPayment&&(window.handleRelay=null),this.ajax&&this.ajax.abort()},tryAjax:function(){var e=this.data;if(!this.fees&&(Ji||"wallet"!==e.method)&&(this.powerwallet||Ji||"upi"!==e.method)&&(this.powerwallet||!ra)&&("wallet"!==e.method||e.contact&&e.email))return this.ajax=Ht.post({url:Ca("payments/create/ajax"),data:e,callback:Oe(ai,this)}),1},trySubmit:function(){var e=this.popup;if(e){var a=this.data;Le(a,function(e,t){/^notes/.test(t)&&200<R(e)&&(a[t]=e.replace(/\n/g," "))}),It(sn(this.fees),a,"post",e.name)}},makePopup:function(){var e=new Ti("","popup_"+Qt.id);return(e&&!e.window||!1!==e.window.closed)&&(e.close(),e=null),e&&(e.onClose=this.r.emitter("payment.cancel")),this.popup=e},writePopup:function(){var e=this.popup;e&&(e.write(Ci(this)),e.window.deserialize=Bt)},shouldPopup:function(){return!(this.r.get("redirect")||this.powerwallet)},tryPopup:function(){this.shouldPopup()&&this.makePopup()}},Aa.setFormatter=Fi;var rn=Aa.prototype;rn.isTezAvailable=function(e,t){var a=this;za(function(){a.tezPossible=!0,e()},t)},rn.postInit=function(){var e=this.get("theme.color")||Xi;this.themeMeta={color:e,textColor:fi(e)?"#FFFFFF":"rgba(0, 0, 0, 0.85)",highlightColor:wi(e,Xi)}},rn.createPayment=function(e,t){return e&&"data"in e&&(t=e=e.data),E(t)||(t={}),this._payment=this._payment||new an(e,t,this),this},rn.focus=function(){try{this._payment.popup.window.focus()}catch(e){}},rn.submitOTP=function(e){var t=this._payment;t.ajax=Ht.post({url:t.otpurl,data:{type:"otp",otp:e},callback:Oe(ti,t)})},rn.resendOTP=function(e){var t=this._payment;t.ajax=Ht.post({url:Ta(this,"payments/"+t.payment_id+"/otp_resend"),data:{"_[source]":"checkoutjs"},callback:Oe(ii,t)})},rn.topupWallet=function(){var a=this._payment,i=this.get("redirect");i||(a.makePopup(),a.writePopup()),a.ajax=Ht.post({url:Ta(this,"payments/"+a.payment_id+"/topup/ajax"),data:{"_[source]":"checkoutjs"},callback:function(e){var t=e.request;i&&!e.error&&t?Ot({url:t.url,content:t.content,method:t.method||"post"}):ii.call(a,e)}})};var on,cn={card:{}};rn.getCardFlows=function(e,t){if(void 0===e&&(e=""),void 0===t&&(t=Me),(e=e.replace(/\D/g,"")).length<6)t([]);else{var a=e.slice(0,6);if(cn.card[a])t(cn.card[a]);else{var i=Ta(this,"payment/flows");i=j(i,{iin:a,"_[source]":Qt.props.library}),Ht.jsonp({url:i,callback:function(e){cn.card[a]=e,t(cn.card[a])}})}}},Qt.props.library="checkoutjs",xa.api=(on=xa.frameApi,(ue=Xe("a")).href=on,ue.href);var ln="behav",dn=t.freeze({BEHAV:ln,RENDER:"render"}),un=function(e,t){return'<svg viewBox="0 0 27 22" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <path d="M2 7v13h18v-5H7V7H2zm0-2h5v10h15v5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2z" fill="'+t+'"/>\n    <path d="M10.004 13.003a1 1 0 0 1 0-2h2a1 1 0 0 1 0 2h-2zM7 0h18a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2zm0 2v13h18V2H7zm-.282 5.005a1 1 0 1 1 0-2h19a1 1 0 0 1 0 2h-19z" fill="'+e+'"/>\n  </svg>'},pn=function(e,t){return'<svg viewBox="0 0 28 25" xmlns="http://www.w3.org/2000/svg">\n     <path d="M4 15a1 1 0 0 1 2 0v5a1 1 0 0 1-2 0v-5zm6 0a1 1 0 0 1 2 0v5a1 1 0 0 1-2 0v-5zm6 0a1 1 0 0 1 2 0v5a1 1 0 0 1-2 0v-5zM1 25a1 1 0 0 1 0-2h20a1 1 0 0 1 0 2H1zm0-13c-.978 0-1.374-1.259-.573-1.82l10-7a1 1 0 0 1 1.146 0l1.426 1L13 9l1 3H1zm3.172-2h8.814l.017-3.378L11 5.221 4.172 10z" fill="'+e+'"/>\n     <path d="M20 16a8 8 0 1 1 0-16 8 8 0 0 1 0 16zm0-2a6 6 0 1 0 0-12 6 6 0 0 0 0 12zm3.663-7H27v2h-3.338c-.162 2.156-.85 4.275-2.057 6.352l-1.21-.704c1.084-1.863 1.703-3.744 1.863-5.648H13V7h9.258c-.16-1.904-.78-3.785-1.863-5.648l1.21-.704C22.814 2.725 23.501 4.844 23.663 7zm-4.058 7.648l-1.21.704C17 12.955 16.3 10.502 16.3 8c0-2.501.701-4.955 2.095-7.352l1.21.704C18.332 3.54 17.7 5.754 17.7 8c0 2.246.632 4.46 1.905 6.648z" fill="'+t+'"/>\n  </svg>'},hn=function(e,t){return'<svg viewBox="0 0 21 24" xmlns="http://www.w3.org/2000/svg">\n     <path d="M9.516 20.254l9.15-8.388-6.1-8.388-1.185 6.516 1.629 2.042-2.359 1.974-1.135 6.244zM12.809.412l8 11a1 1 0 0 1-.133 1.325l-12 11c-.707.648-1.831.027-1.66-.916l1.42-7.805 3.547-3.01-1.986-5.579 1.02-5.606c.157-.865 1.274-1.12 1.792-.41z" fill="'+t+'"/>\n     <path d="M5.566 3.479l-3.05 16.775 9.147-8.388-6.097-8.387zM5.809.412l7.997 11a1 1 0 0 1-.133 1.325l-11.997 11c-.706.648-1.831.027-1.66-.916l4-22C4.174-.044 5.292-.299 5.81.412z" fill="'+e+'"/>\n  </svg>'},mn=function(e,t){return'<svg viewBox="0 0 25 23" xmlns="http://www.w3.org/2000/svg">\n     <path d="M2 7v14h19v-5h2.011v-6H21V7H2zm0-2h19a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2zm15 10a1 1 0 1 0 0-2 1 1 0 0 0 0 2z" fill="'+e+'"/>\n     <path d="M7.326 5L16 2.11V5h2V2.11c0-.643-.308-1.352-.83-1.728a2 2 0 0 0-1.802-.276L2 5h5.326zM15 12v4h8v-4h-8zm0-2h8a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2h-8a2 2 0 0 1-2-2v-4a2 2 0 0 1 2-2z" fill="'+t+'"/>\n  </svg>'},fn=["card","netbanking","upi","wallet"];var vn,gn=function(e,t){var a=t.foregroundColor,i=void 0===a?"#072654":a,n=t.backgroundColor,s=void 0===n?"#3F71D7":n,r=function(e){switch(e){case"card":return un;case"netbanking":return pn;case"upi":return hn;case"wallet":return mn}}(e);return r&&r(i,s)},bn=t.freeze({getIcon:gn,getIcons:function(a){return Ae(fn,function(e,t){return e[t]=gn(t,a),e},{})}}),yn="drishy",kn="rzp_upi_payment_poll_url",wn=!_.cookieEnabled,_n=d!==d.parent,xn=_n?d.parent:d.opener,Cn=t.freeze({STATES:{AN:"Andaman and Nicobar Islands",AP:"Andhra Pradesh",AR:"Arunachal Pradesh",AS:"Assam",BR:"Bihar",CH:"Chandigarh",CT:"Chhattisgarh",DN:"Dadra and Nagar Haveli",DD:"Daman and Diu",DL:"Delhi",GA:"Goa",GJ:"Gujarat",HR:"Haryana",HP:"Himachal Pradesh",JK:"Jammu and Kashmir",JH:"Jharkhand",KA:"Karnataka",KL:"Kerala",LD:"Lakshadweep",MP:"Madhya Pradesh",MH:"Maharashtra",MN:"Manipur",ML:"Meghalaya",MZ:"Mizoram",NL:"Nagaland",OR:"Odisha",PY:"Puducherry",PB:"Punjab",RJ:"Rajasthan",SK:"Sikkim",TN:"Tamil Nadu",TG:"Telangana",TR:"Tripura",UT:"Uttarakhand",UP:"Uttar Pradesh",WB:"West Bengal"},TAB_TITLES:{debit_card:"Debit Card",credit_card:"Credit Card",emandate:"Bank Account",emi:"EMI",card:"Card",netbanking:"Netbanking",wallet:"Wallet",upi:"UPI",ecod:"Pay by Link"},SHOWN_CLASS:yn,CONTACT_PATTERN:/^\+?[0-9]{8,15}$/,EMAIL_PATTERN:/^[^@\s]+@[a-zA-Z0-9-]+(\.[a-zA-Z0-9-]+)+$/,UPI_POLL_URL:kn,PENDING_PAYMENT_TS:"rzp_upi_pending_payment_timestamp",MINUTES_TO_WAIT_FOR_PENDING_PAYMENT:10,cookieDisabled:wn,isIframe:_n,ownerWindow:xn}),Pn={position:"top",onHide:function(){},layout:"ltr",onPositiveClick:Me,onNegativeClick:Me},Tn=[];function An(e,t,a){var i,n=At(t);Tn.push((i=n,Ct(e,a)(i)))}var Sn=!1;function Mn(e){var t;if(void 0===e&&(e=!1),Sn){var a;if(!dt(At("#error-message"),yn))a=At("#overlay"),pt(yn)(a),m(function(){var e;e=At("#overlay"),ft("display","")(e)},300);t=At("#confirmation-dialog"),pt("animate")(t),m(function(){var e;e=At("#confirmation-dialog"),pt(yn)(e)},300),Sn=!1,e&&vn&&vn()}}var On=t.freeze({get isConfirmShown(){return Sn},hide:Mn,show:function(e){e=qe(Pn,e),Tn.length&&(ve(Tn,function(e){e()}),Tn=[]);var t=At("#confirmation-dialog"),a=At("#overlay");bt(t,bs.confirm(e)),An("click",".confirm-container #positiveBtn",function(){Mn(),e.onPositiveClick()}),An("click",".confirm-container #negativeBtn",function(){Mn(),e.onNegativeClick()}),ft(a,"display","block"),ut(a,yn),ut(t,yn),ut(t,"confirm-position-"+e.position),m(function(){ut(t,"animate")},10),Sn=!0,vn=e.onHide}});function In(e){var t,a;this.options=e,this.el=(a=Xe("div"),t=bt(bs.callout(e))(a),kt(t))}function Bn(e){var t,a=e.target;if(t=a,dt("option")(t)){var i,n,s,r=(i=a,ht("value")(i)),o=At("#emi-check-label"),c=o.querySelector("input[type=checkbox]"),l=o.querySelector(".active");c.checked=p(r),n=l,pt("active")(n),s=a,ut("active")(s),m(function(){o.blur()})}}function En(){var e,t,a,i=At("#body"),n=At("#emi-check-label");(e=i,dt("emi-focus")(e))&&(t=i,pt("emi-focus")(t),a=n,pt("focus")(a))}function Nn(e){var t=e.emi_options,a=t.amount=e.get("amount"),i=e.getAppliedOffer(),n=e.getDiscountedAmount();if(5e5<=a&&(!e.isOfferApplicableOnIssuer("amex",i)||5e5<=n)){var s,r=At("#elem-emi .help");bt((s=r).innerHTML.replace(" & Axis Bank",", Axis & AMEX"))(s)}else delete t.banks.AMEX;t.session=e,t.discountedAmount=n,this.opts=t,this.listeners=[],this.render()}In.prototype={show:function(){var e,t,a=this;if(e=this.el,!dt(yn)(e))return t=At("#messages"),rt(this.el)(t),m(function(){var e;e=a.el,ut(yn)(e)},10),this},hide:function(){var e,t=this;return e=this.el,pt(yn)(e),m(function(){var e;e=t.el,ct(e)},200),this}},Nn.prototype={render:function(){var e,t=At("#emi-wrap");this.unbind(),e=t,bt(bs.emi(this.opts))(e),this.bind()},onchange:function(e){this.opts.selected=e.target.value,this.render()},on:function(e,t,a){var i,n=At(t);this.listeners.push((i=n,Ct(e,a)(i)))},bind:function(){this.on("click","#emi-check-label",function(e){var t,a,i,n;return i=At("#body"),n=At("#emi-check-label"),t=i,ut("emi-focus")(t),a=n,ut("focus")(a),e.stopPropagation()},!0),this.on("click","#container",function(e){"emi-check-label"!==e.target.id&&En()},!0),this.on("click","#emi-select",function(e){return En(),e.stopPropagation()}),this.on("mousedown","#emi-select",Bn),this.on("click","#view-emi-plans",function(){ks({0:At("#emi-wrap")})}),this.on("click","#emi-close",ws),this.on("change","#emi-bank-select",Oe(this.onchange,this))},unbind:function(){ve(this.listeners,function(e){e()}),this.listeners=[]}};var zn=function(){var e={index:0,map:{},get:function(e){var t=this.map[this.index];return delete this.map[this.index],t},getUID:function(){return Qt.id}};return window.CheckoutBridge=e},Rn=function(){return((window.webkit||{}).messageHandlers||{}).CheckoutBridge},Dn=function(){return p(Rn())},Ln=function(){return window.CheckoutBridge},Vn=function(){return p(Ln())},Hn=function(i){var n=Ln(),s=Pt;return function(e){var t=Xe("iframe"),a="razorpay://on"+i;e&&(a+="?"+n.index,n.map[++n.index]=e),t.setAttribute("src",a),s.appendChild(t),t.parentNode.removeChild(t),t=null}};function Fn(e){this.name=e,this._exists=!1,this.platform="",this.bridge={},this.init()}Fn.prototype={init:function(){var e=this.name,t=window[e],a=((window.webkit||{}).messageHandlers||{})[e];a?(this._exists=!0,this.bridge=a,this.platform="ios"):t&&(this._exists=!0,this.bridge=t,this.platform="android")},exists:function(){return this._exists},get:function(e){if(this.exists())if("android"===this.platform){if(M(this.bridge[e]))return this.bridge[e]}else if("ios"===this.platform)return this.bridge.postMessage},has:function(e){return!(!this.exists()||!this.get(e))},callAndroid:function(e){for(var t,a=arguments.length,i=new r(1<a?a-1:0),n=1;n<a;n++)i[n-1]=arguments[n];t=i,i=ye(function(e){return"object"==typeof e?He(e):e})(t);var s=this.get(e);if(s)return s.apply(this.bridge,i)},callIos:function(e){var t=this.get(e);if(t)try{var a={action:e},i=arguments.length<=1?void 0:arguments[1];return i&&(a.body=i),t.call(this.bridge,a)}catch(e){}},call:function(e){for(var t=arguments.length,a=new r(1<t?t-1:0),i=1;i<t;i++)a[i-1]=arguments[i];var n=this.get(e);a=[e].concat(a),n&&(this.callAndroid.apply(this,a),this.callIos.apply(this,a))}};var Un=new Fn("CheckoutBridge"),qn=new Fn("StorageBridge"),$n=function(e){var t=Ln();if(t&&e&&e.event){var a=t["on"+e.event];if(!M(a))return;var i=e.data;if(!S(i)){if(!i&&a)return a.call(t);i=He(i)}a.call(t,i)}};window.handleOTP=function(e){var t=e.match(/\b[0-9]{4}([0-9]{2})?\b/);e=t?t[0]:"",e=o(e).replace(/\D/g,"");var a,i=Fa(),n=At("#otp");i&&n&&!n.value&&(n.value=e,a=At("#otp-elem"),pt("invalid")(a))},window.upiIntentResponse=function(e){var t=Fa();if(t.r._payment&&t.upi_intents_data)t.r.emit("payment.upi.intent_response",e);else if(t.activity_recreated){var a;(a=Ya(e),Wa(a))||(t.r.emit("activity_recreated_upi_intent_back_btn"),t.recievedUPIIntentRespOnBackBtn=!0)}},window.backPressed=function(e){var t=Ln(),a=Fa();qn.call("getString",kn)&&a.hideErrorMessage(),Sn?Mn(!0):!a.tab||a.get("prefill.method")&&a.get("theme.hide_topbar")?t&&M(t[e])&&t[e]():a.back()};var Kn=t.freeze({defineIosBridge:zn,getNewIosBridge:Rn,hasNewIosBridge:Dn,getCheckoutBridge:Ln,hasCheckoutBridge:Vn,iosLegacyMethod:Hn,checkout:Un,storage:qn,notifyBridge:$n}),jn={heading:"",showClose:!0,onShow:function(){},onClose:function(){}},Yn=[];function Wn(e,t,a){var i;Yn.push((i=At(t),Ct(e,a)(i)))}function Gn(){var e,t,a;a=At("#curtain-container-parent"),t=pt("visible")(a),e=ut("invisible")(t),bt("")(e),ge(Yn),Yn=[]}function Zn(e){var t,a,i,n;a={},t=qe(jn)(a),e=qe(e)(t);var s=At("#curtain-container-parent");if(bt(s,bs.curtain(e)),e.showClose){var r=function(){Gn(),e.onClose.call(null)};Wn("click",".curtain-container .curtain-close",r),Wn("click","#curtain-overlay",r)}else ut(s,"curtain-hideclose");n=s,i=pt("invisible")(n),ut("visible")(i),e.onShow.call(null,s)}var Jn=t.freeze({hide:Gn,show:Zn}),Xn={"emandate-bank":"Bank","emandate-netbanking":"Netbanking","emandate-aadhaar":"Aadhaar"};function Qn(e){this.history=[],this.session=e,this.prefill={bank:e.get("prefill.bank"),bank_account:e.get("prefill.bank_account[account_number]"),bank_name:e.get("prefill.bank_account[name]"),account_type:e.get("prefill.bank_account[account_type]"),bank_ifsc:e.get("prefill.bank_account[ifsc]"),auth_type:e.get("prefill.auth_type"),aadhaar:e.get("prefill.aadhaar[vid]")},this.opts={session:e,prefill:this.prefill},this.banks=this.session.methods.emandate,this.emandateBanks=this.session.emandateBanks,this.setTabTitles(),this.render()}function es(){var e=he(),t=Ln();return!!e.platform&&!(t&&t.callNativeIntent)}Qn.prototype={render:function(){this.unbind(),bt(At("#emandate-wrapper"),bs.emandate(this.opts)),this.el=At("#emandate-wrapper").firstChild,this.input(),this.bind()},on:function(e,t,a,i){var n,s=At(t);this.listeners.push((n=s,Ct(e,a,i)(n)))},inputRadioChanged:function(e){var t=e.target.value;"yes"===t?this.session.setPayButtonText("Proceed"):"no"===t&&this.session.setPayButtonText("Create Aadhaar VID")},bind:function(){var a=this,e=this.session.delegator;this.session.get("prefill.bank")||this.on("click","#emandate-bank .btn-change-bank",function(){a.session.deselectBank(),a.setScreen("emandate"),a.history=["emandate"]}),e.adhr_acc_no=e.add("alphanumeric",At("#adhr-acc-no")),e.nb_acc_no=e.add("alphanumeric",At("#nb-acc-no")),e.adhr_ifsc=e.add("ifsc",At("#adhr-acc-ifsc")).on("change",function(){if(this.isValid()&&this.el.value.length===this.caretPosition){var e=At("#adhr-acc-name");e&&M(e.focus)&&e.focus()}}),e.nb_ifsc=e.add("ifsc",At("#nb-acc-ifsc")).on("change",function(){if(this.isValid()&&this.el.value.length===this.caretPosition){var e=At("#nb-acc-name");e&&M(e.focus)&&e.focus()}}),e.aadhaar=e.add("aadhaar",At("#adhr-acc-aadhaar")),this.on("change","#emandate-aadhaar-linked-check-label",function(e){var t=e.target.checked;a.track("aadhaar:linked_checkbox:change",{checked:t},ln)})},track:function(e,t,a){void 0===t&&(t={}),aa.track("emandate:"+e,{type:a,data:t})},unbind:function(){ve(this.listeners,function(e){e()}),this.listeners=[]},input:function(){var t=this;ve(this.el.querySelectorAll("input[name]"),function(e){t.session.input(e)})},determineLandingScreen:function(){if(this.prefill.bank&&this.banks[this.prefill.bank]){var e="emandate-bank";return At("#bank-select").value=this.prefill.bank,this.setBank(this.prefill.bank),this.prefill.auth_type&&(e="emandate-"+this.prefill.auth_type),e}return!1},getAuthTypes:function(e){var t=[];return e=e||this.bank,this.session.emandateBanks&&this.session.emandateBanks[e]&&(t=this.session.emandateBanks[e].auth_types),-1<t.indexOf("netbanking")&&this.prefill.account_type&&t.splice(t.indexOf("netbanking"),1),t},setBank:function(e){var t="background-image: url(https://cdn.razorpay.com/bank/"+e+".gif)";this.bank=e;var a,i=this.getAuthTypes(e);(ut(At("#emandate-options .netbanking"),"disabled"),ut(At("#emandate-options .aadhaar"),"disabled"),-1<i.indexOf("netbanking")&&!this.prefill.account_type)&&(a=At("#emandate-options .netbanking"),pt("disabled")(a));-1<i.indexOf("aadhaar")&&pt(At("#emandate-options .aadhaar"),"disabled"),ve(St("#emandate-inner .bank-icon"),function(e){mt(e,"style",t)}),mt(At("#emandate-bank"),"bank",e),bt(At("#emandate-bank .bank-name"),this.banks[e])},showBankOptions:function(e){this.setBank(e),this.showTab("emandate-bank")},setTabTitles:function(){var a=this;Le(Xn,function(e,t){a.session.tab_titles[t]=e})},setScreen:function(e){this.session.setScreen(e),"emandate-bank"===e||"emandate"===e?this.session.body.removeClass("sub"):this.session.body.addClass("sub")},showTab:function(e){var t=this.determineLandingScreen();"emandate"===e&&t&&(e=t);var a=this.getAuthTypes();if("emandate-netbanking"===e&&a.indexOf("netbanking")<0||"emandate-aadhaar"===e&&a.indexOf("aadhaar")<0)return!1;this.session.body.attr("tab","emandate"),this.session.tab="emandate",this.history.push(e),this.setScreen(e)},back:function(){if(this.history.pop(),0===this.history.length)return pt(At("#container"),"emandate-extra"),!1;var e=this.history[this.history.length-1];return this.setScreen(e),"emandate"===e&&this.session.deselectBank(),!0},submit:function(e){var t=this.session.screen,a="#form-"+t;if(!this.session.checkInvalid(a)){if(ys(a,e),delete e["emandate-aadhaar-radio"],e["aadhaar[vid]"]&&(e["aadhaar[vid]"]=e["aadhaar[vid]"].replace(/ /g,"")),"emandate-aadhaar"===t?e.auth_type="aadhaar":"emandate-netbanking"===t&&(e.auth_type="netbanking"),"aadhaar"===e.auth_type){var i=At("#emandate-aadhaar-linked-check");if(i&&!i.checked)return void this.session.shake()}this.session.submit()}},openUIDAI:function(){var e=he().platform&&!es(),t=Ln();e?(this.track("aadhaar:uidai_link_intent"),t.callNativeIntent(At("#aadhaar_vid_link").href)):(this.track("aadhaar:uidai_link_native"),At("#aadhaar_vid_link").click())},showCurtain:function(){var t=this,e=es();Zn({content:bs.contents_aadhaar_vid({showSDKView:e}),onClose:function(){t.hideCurtain()},onShow:function(){t.curtainVisible=!0,e?(t.session.setPayButtonText("Proceed"),bt(At("#emandate-uidai-copy"),bs.copytoclipboard({content:"https://resident.uidai.gov.in/web/resident/vidgeneration",btnText:"Copy Link"})),t.on("click","#emandate-uidai-copy .copytoclipboard--btn",function(){t.track("aadhaar:vid_link:copy",ln)})):(t.session.setPayButtonText("Create Aadhaar VID"),t.on("change","#emandate-aadhaar-radios",function(e){return t.inputRadioChanged(e)},!0)),t.on("mouseover",".emandate-education-text .has-tooltip",function(){t.track("aadhaar:tooltip:view",ln)}),t.on("click","#emandate-aadhaar-radios",function(e){"input"===e.target.nodeName.toLowerCase()&&t.track("aadhaar:vid_radios:change",{value:e.target.value},ln)})}})},hideCurtain:function(){this.curtainVisible=!1,this.session.setPayButtonText("Next"),this.track("aadhaar:curtain:close",ln)}};var ts=xa.cdn+"bank/",as=function(e){return""+ts+e.slice(0,4)+".gif"},is=ye([["ICIC_C","ICICI Corporate"],["UTIB_C","Axis Corporate"],["SBIN","SBI"],["HDFC","HDFC"],["ICIC","ICICI"],["UTIB","Axis"],["KKBK","Kotak"],["YESB","Yes"],["IBKL","IDBI"],["BARB_R","BOB"],["PUNB_R","PNB"],["IOBA","IOB"],["FDRL","Federal"],["CORP","Corporate"],["IDFB","IDFC"]],function(e){return{name:e[1],code:e[0],logo:as(e[0])}}),ns=[{code:"KKBK",name:"Kotak Mahindra Bank",patt:/^4(62409|04861|78006|34668|1(4767|664[3-6])|363(88|89|90))|5(24253|43705|47981)/},{code:"HDFC",name:"HDFC Bank",patt:/^36(08(25|26|86|87)|1011|7123|8357)|4(05028|16317|17410|18136|3467[78]|36(152|306|520)|37546|5(11|77)04|6178[67]|6(247|391)7|8549[89]|89377)|5(176(35|52)|2(2852|4(1[18]1|216|368|931)|8945)|3(2118|2135|3744|6311)|45226|45964|5(2(088|260|274|3(44|65|85|89|94))|3583|6042|9300))/},{code:"UTIB",name:"Axis Bank",patt:/^4((07438|05995|50506|64118|71864|6111[678]|71863|51457|3083[2-4])00|074390[03]|111460[0-6]|182120[12]|365600[01]|514560[04]|7186(00[013]|10[012]|30[12]))|5(24((178|240|508|512)00|1781[01])|5934([12]00|00[01])|305620[0245])/},{code:"INDB",name:"Indusind Bank",patt:/^377151|5(3765210|26861(0[0-2]|10)|24480([1-4]0|11|12)|160680[0-2])|4((63787|68936|98726)00|14752((0|1|2)0|1(2|3))|27124(0|1)0|4128(300|400|410|411|5(\d0|02|03|([3,6-8])1|7[5-8]|95)))/},{code:"RATN",name:"RBL Bank",patt:/^5(23(6|9)50|25611|36301|36907|24373|28028|31845|41538|42505|49489)/},{code:"ICIC",name:"ICICI Bank",patt:/^4(37551|50172|61133|62986|70573|74846|0(2368|5533|7(352|65(1|9)))|2322(6|7)|20580|477(46|47|58)|44341)|5(17(637|653|719)|24(193|376)|(23951|25996|52418|47467|45207|40282))|37(474(0|1|2[0-9])|6944[0-1,4-9]|704(1|0[2-4]))/},{code:"SCBL",name:"Standard Chartered Bank",patt:/^4(02874|1(290[345]|9607)|29344|5(4198|6398|7036)|622(69|7[0-3])|9407[67])|5(2(3990|9388)|4(0(46[01]|711)|3186|4438|7359|9(1(24|32)))|5(3160|437[458]|4623|8959))/},{code:"YESB",name:"Yes Bank",patt:/^5(3(1849|6303)|24167|49921|58918)/},{code:"AMEX",name:"American Express",patt:/^37(693|9397|98(6[1-3,7-9]|7[0-2,6-8]))/}],ss=t.freeze({getBankLogo:as,commonBanks:is,emiBanks:ns,getBankFromCard:function(t){var e=Pe(ns,function(e){return e.patt.test(t)});if(e)return{name:e.name,code:e.code,logo:as(e.code)}},getPreferredBanks:function(e,t){var a,i=e.methods.netbanking,n=t&&t.order;if(i){var s=(a=is,ke(function(e){return i[e.code]&&!i[e.code+"_C"]})(a));if(I(n)){var r=s.reduce(function(e,t,a){return e[t.code]=t,e},{});s=n.map(function(e){return r[e]}).concat(s).filter(function(e){var t=e&&r[e.code];if(t)return r[e.code]=!1,t})}return s}},getDownBanks:function(e){var t=e.downtime,a=[];return t&&(a=ye(t.netbanking||[],function(e){return e.issuer})),a}}),rs=window.CheckoutBridge;Aa.sendMessage=function(e){if(Vn())return $n(e);xn&&(e.source="frame",e.id=Qt.id,E(e)&&(e=He(e)),xn.postMessage(e,"*"))};var os={addOptions:function(e,t){e.options=Ue(t.options)},addFeatures:function(t,a){var e=a.options;Le(["sdk_popup","magic","activity_recreated","embedded","params"],function(e){void 0!==a[e]&&(t[e]=a[e])}),e&&3<=e.epos_build_code&&(t.epos_share_link=!0)},addExternalSdks:function(e,t){E(t.external_sdks)&&(e.hasAmazonpaySdk=t.external_sdks.amazonpay)},addUpiIntentsData:function(e,t){t.upi_intents_data&&t.upi_intents_data.length&&(e.all_upi_intents_data=t.upi_intents_data,e.upi_intents_data=Qa(t.upi_intents_data))},addPreviousData:function(e,t){var a=t.data;if(a){if(S(a))try{a=JSON.parse(a)}catch(e){}E(a)&&(e.data=a)}},useTrackingProps:function(e,t){Le(["referer","integration"],function(e){void 0!==t[e]&&(Qt.props[e]=t[e])})}};var cs=function(e){if(!("id"in e)||(t=e.id,!_n||rs||S(t)&&!(t.length<14)&&/[0-9a-z]/i.test(t))){var t,a,i,n=(a=e,i={},Le(os,function(e,t){e.call(null,i,a)}),i),s=e.id||Qt.id,r=Fa(s),o=e.options;if(function(e){var t=he();if(e.metadata&&e.metadata.openedAt&&aa.setMeta("timeSince.open",function(){return l.now()-e.metadata.openedAt}),(Be(_,"language")||Be(_,"userLanguage"))&&aa.setMeta("navigator.language",_.language||_.userLanguage),Be(_,"connection")){var a=_.connection,i=a.effectiveType,n=a.type;(i||n)&&aa.setMeta("network.type",i||n)}t.platform&&xe(["android","ios"],t.platform)&&(aa.setMeta("sdk.platform",t.platform),t.version&&aa.setMeta("sdk.version",t.version))}(e),!r){if(!o)return;try{r=Ua(n,s)}catch(e){return Aa.sendMessage({event:"fault",data:e.message})}var c=Fa();c&&M(c.saveAndClose)&&c.saveAndClose(),r.id=s,Qt.updateUid(s),qa(r)}"open"===e.event||o?r.fetchPrefs(function(e){r.showModal(e)}):"close"===e.event&&r.hide();try{E(rs)&&(rs.sendAnalyticsData=Qt.parseAnalyticsData,rs.sendExtraAnalyticsData=function(e){})}catch(e){}}};window.handleMessage=cs;var ls=t.freeze({handleMessage:cs});var ds={ios:function(){var e,a=zn();e=["load","dismiss","submit","fault","success"],ve(function(t){var e;e=Dn()?function(e){!function(e,t){var a,i={theme:null,navShow:{red:0,green:0,blue:0,alpha:.5},navHide:{red:1,green:1,blue:1,alpha:1}};try{t=JSON.parse(t)}catch(e){}switch(t=t||{},e){case"load":a={webview_background_color:i.navHide},Un.callIos("hide_nav_bar",a),t.theme_color=i.theme,Un.callIos(e,t);break;case"submit":Un.callIos(e,t),a={webview_background_color:i.navShow},Un.callIos("show_nav_bar",a);break;default:Un.callIos(e,t)}}(t,e)}:Hn(t),a["on"+t]=e})(e),a.oncomplete=a.onsuccess},android:function(){var e;e=Tt,gt({background:"rgba(0, 0, 0, 0.6)"})(e)}},us=function(){return Aa.sendMessage({event:"flush"})};var ps={},hs=he(),ms=function(e){var t;if(e&&(t=10===e.length&&"+"!==e[0]),!(e in ps)){if(t)return ms("+91"+e);ps[e]=new fs(e)}return ps[e]};function fs(e){e&&(this.contact=e.replace(/[^+\d]/g,""))}var vs=function(e,t){var a=t||{},i=a.method||"card",n=a.recurring||!1;if(e){var s,r,o,c=[];s=e.items,Le(function(e){e.method!==i||n&&!e.recurring||c.push(e)})(s),o=e,r=ze("items",c)(o),ze("count",c.length)(r)}};fs.prototype={wants_skip:!1,saved:!1,logged:!1,mark_logged:function(e){var t,a=Fa(),i=a.recurring||!1;(this.logged=!0,vs(e.tokens,{recurring:i}),this.tokens=e.tokens,a.local)||(t=At("#top-right"),ut("logged")(t));aa.setMeta("loggedIn",!0)},checkStatus:function(t){var a=this,e=Ta(this.r,"customers/status/"+this.contact);e+="&_[platform]="+Qt.props.platform;var i=hs.device_token;i&&(e+="&device_token="+i),Ht({url:e,callback:function(e){a.saved=!!e.saved,e.tokens&&a.mark_logged(e),t()}})},createOTP:function(e){Ht.post({url:Ta(this.r,"otp/create"),data:{contact:this.contact},callback:e})},submitOTP:function(e,t){var a=this;e.contact=this.contact;var i=Ta(this.r,"otp/verify");"android"===hs.platform&&hs.version&&hs.library&&(e["_[platform]"]="android",e["_[version]"]=hs.version,e["_[library]"]=hs.library),Ht.post({url:i,data:e,callback:function(e){e.success&&a.mark_logged(e),hs.device_token=e.device_token,hs.device_token&&Un.callAndroid("setDeviceToken",hs.device_token),e.error?e.error.field?_s.call(Fa(),e):t(La):t()}})},deleteCard:function(e,t){var a=this;this.id&&Ht({url:Ta(this.r,"apps/"+this.id+"/tokens/"+e),method:"delete",callback:function(){t(),gs(a,e)}})},logout:function(e,t){aa.track("logout",{type:ln,data:{all:!e}});var a={url:Ta(this.r,"apps/logout"),method:"delete",callback:t};a.url+="&logout="+(e?"app":"all"),aa.removeMeta("loggedIn"),Ht(a)}};var gs=function(e,t){for(var a=e.tokens,i=0;i<a.count;i++)if(a.items[i].token===t)return a.items.splice(i,1),void a.count--};return{RazorpayConfig:xa,makeAuthUrl:Ta,makePrefParams:Oa,fetch:Ht,Track:Qt,Analytics:aa,AnalyticsTypes:dn,UPIUtils:ei,setShieldParams:function(a){var e,t;e=a=Ue(a),Le(function(e,t){"object"==typeof e&&ha(a,t,".")})(e),t=a,Le(function(e,t){var a=Bi[t];a&&(Ei[a]=e)})(t)},Tez:Da,Color:_i,_PaymentMethodIcons:bn,Confirm:On,Callout:In,getDecimalAmount:function(e){return(e/100).toFixed(2).replace(".00","")},currencies:ba,androidBrowser:da,error:U,cancelMsg:Va,wrongOtpMsg:La,initIframe:function(){var e,t,a,i=function(e){var t=e.data;if(!e.source||e.source===xn)try{"string"==typeof t&&(t=Fe(t)||{}),cs(t)}catch(e){}};e=window,Ct("message",i)(e),t=window,Ct("beforeunload",us)(t),a=window,Ct("blur",us)(a);var n=he(),s=n.platform;if(s){var r;r=Tt,ut(s)(r);var o=ds[s];M(o)&&o()}if(Vn()){delete Qt.props.referer,Qt.props.platform="mobile_sdk";var c=n.platform;c&&(Qt.props.os=c)}n.message&&i({data:d.atob(n.message)}),Aa.sendMessage({event:"load"})},Constants:Cn,Bank:ss,Wallet:Zi,SessionManager:$a,Checkout:ls,Bridge:Kn,getQueryParams:he,Customer:fs,getCustomer:ms,sanitizeTokens:vs,emiView:Nn,emandateView:Qn,Curtain:Jn,WalletUtils:Zi,commonBanks:is,timer:function(e){var t=V();return function(e){return V()-t}}}}(),M=window.Razorpay,bs={},O=(D.RazorpayConfig,D.makeAuthUrl),I=D.makePrefParams,E=D.fetch,N=D.Track,L=D.Analytics,V=D.AnalyticsTypes,H=(D.UPIUtils,D.Tez),F=D.Color,U=D.Confirm,q=D.Callout,$=D.getDecimalAmount,K=D._PaymentMethodIcons,j=(D.androidBrowser,D.Constants),Y=D.Bank,W=D.Wallet,G=D.SessionManager,Z=(D.Checkout,D.Bridge);D.Curtain;window.onerror=function(e,t,a,i,n){l(t)&&t.indexOf("https://checkout.razorpay.com")||L.track("js_error",{r:G.getSession().r,data:{message:e,line:a,col:i,stack:n&&n.stack},immediately:!0})},function(){var e,t,a=function(e){var t="",a=e("theme.close_button"),i=(window.innerHeight,arguments[1]),n=i.color,s=i.textColor,r=i.highlightColor,o=i.secondaryHighlightColor,c=i.hoverStateColor,l=i.activeStateColor;return e("theme.upi_only")&&(t+="#payment-options div:nth-child(-n+3){ pointer-events: none; -webkit-filter: grayscale(100%); filter: grayscale(100%);}"),t+=".button, .btn, .submit-button, .loader::after{ background: "+n+"; color: "+s+";}.elem::after { border-bottom-color: "+r+";}.spin div, .link, .multi-tpv :checked + label{ border-color: "+r+"!important;}#payment-options i,.text-btn,#cancel_upi .back-btn,.offer-info li:first-child,.ecod .item i{ color: "+r+";}#payment-options i svg { display: inline-block; height: 0.75em; vertical-align: top;  max-width: 38px;}#header{ background: "+n+"; color: "+s+";}",e.image_padding&&(t+=".merchant-image{ width: 60px; height: 60px; padding: 12px; border: 1px solid #eaeaea; background: #fff;}"),e("theme.image_frame")||(t+="#logo { background: none; box-shadow: none; padding: 0; width: 80px; height: 80px;}"),t+=".option.active,:not(.saved-card).checked .checkbox,input[type=checkbox]:checked + .checkbox{ color: #fff; background: "+r+"; border-color: "+r+";}.theme {color: "+n+";}.theme-highlight { color: "+r+";}#topbar:before, #partial-back:before, #offers-container .offers-content { background-color: "+o+" !important;}.grid label:hover { background-color: "+c+" !important;}",a||(t+="#modal-close{ display: none;}"),t+=".grid :checked+label { background-color: "+l+" !important; border-bottom: 2px solid "+r+";}.list :checked+label, .list .item.active { border-color: "+r+" !important;}.list :checked+label .checkbox { background: "+r+"; border-color: "+r+";}.input-radio input[type=radio]:focus:not(:checked) + label .radio-display { border-color: "+r+";}.input-radio input[type=radio]:checked + label .radio-display { background-color: "+r+"; border-color: "+r+";}.confirm-container { border-top: 2px solid "+n+";}.aadhaar_vid--steps .step-icon path:last-child { fill: "+n+";}.copytoclipboard--container.copied .copytoclipboard--text,.copytoclipboard--container.copied .copytoclipboard--btn { border-color: "+n+";}.copytoclipboard--container.copied .copytoclipboard--btn { color: "+n+";}.offers-list-title:after, .offers-title .toggle:after { color: "+r+";}ul.offers-list > li.offer.selected, ul.offers-list > li.offer.selected .checkbox { border-color: "+r+" !important;}ul.offers-list > li.offer.selected .checkbox { background-color: "+r+";}svg.offer-icon path { fill: "+r+";}"};e={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},t=/&(?!#?\w+;)|<|>|"|'|\//g;bs.theme=a}(),function(){var e,t,a=function(e){return'<div class="offers-content"> <div class="offers-title"> <svg xmlns="http://www.w3.org/2000/svg" class="offer-icon" viewBox="0 0 16 16"><path d="M9.6 8C8.6 8 8 8.4 8 9.2s.6 1.4 1.5 1.4c.8 0 1.4-.6 1.4-1.4 0-.8-.6-1.4-1.4-1.4zm0 1.9c-.4 0-.6-.2-.6-.6 0-.4.2-.6.6-.6.3 0 .5.2.5.6 0 .4-.2.6-.5.6zm-.2-4.8h.7l-3.5 5.5H6L9.4 5zM7.9 6.4c0-.8-.6-1.4-1.5-1.4S5 5.6 5 6.4c0 .7.5 1.3 1.4 1.3.9 0 1.5-.6 1.5-1.3zm-2 0c0-.4.2-.6.5-.6s.6.2.6.6c0 .4-.3.6-.6.6S6 6.8 6 6.4zm9.2.4c-.2-.2-.5-.4-.5-.6l.1-.7c.2-.5.4-1 .1-1.5-.2-.4-.7-.5-1.2-.6l-.8-.2-.2-.8c-.1-.5-.2-1-.6-1.2-.5-.3-1-.1-1.5 0-.2.1-.6.3-.7.2-.2 0-.4-.3-.6-.5C9 .5 8.5.1 8 .1s-.9.4-1.2.8c-.2.2-.4.5-.6.5l-.7-.1C5 1 4.5.9 4 1.2c-.4.2-.5.7-.6 1.2l-.2.8-.8.2c-.5.1-1 .2-1.2.6-.3.5-.1 1 0 1.5.1.2.3.6.2.7 0 .2-.3.4-.5.6C.5 7 .1 7.5.1 8s.4.9.8 1.2c.2.2.5.4.5.6l-.1.7c-.2.5-.4 1-.1 1.5.2.4.7.5 1.2.6l.8.2.2.8c.1.5.2 1 .6 1.2.5.3 1 .1 1.5 0 .2-.1.6-.3.7-.2.2 0 .4.3.6.5.3.4.7.8 1.2.8s.8-.4 1.2-.8l.5-.5.8.1c.5.2 1 .4 1.4.1.5-.2.6-.7.7-1.2 0-.3 0-.7.2-.8l.7-.2c.5-.1 1-.2 1.3-.6.3-.5 0-1 0-1.5-.2-.2-.3-.6-.2-.7 0-.2.3-.4.5-.6.4-.3.8-.7.8-1.2s-.4-.9-.8-1.2zm-.5 1.8c-.3.3-.7.6-.7 1-.2.4 0 .8.1 1.2.1.3.3.7.2.8l-.8.2c-.4.1-.8.2-1.1.5-.3.3-.4.7-.5 1.1l-.2.8-.8-.2c-.4-.1-.8-.3-1.2-.2-.4.1-.7.5-1 .8-.2.2-.4.5-.6.5s-.4-.3-.6-.5c-.3-.4-.6-.7-1-.8a1.1 1.1 0 0 0-.3 0l-.9.2c-.3 0-.7.2-.8.1l-.2-.8c-.1-.4-.2-.8-.5-1-.3-.3-.7-.4-1.1-.5-.3 0-.7-.2-.8-.3 0-.1 0-.5.2-.8.1-.4.2-.8.1-1.2 0-.4-.4-.7-.7-1-.2-.1-.5-.4-.5-.6l.5-.6c.3-.3.7-.6.7-1 .2-.3 0-.7-.1-1.2-.1-.2-.3-.6-.2-.7.1-.2.5-.2.8-.3.4-.1.8-.2 1.1-.5.3-.2.4-.7.5-1l.2-.8c.2-.1.5 0 .8.1.4.2.8.3 1.2.2.4 0 .7-.4 1-.7.2-.3.4-.6.6-.6s.4.4.6.6c.3.3.6.6 1 .7.4.1.8 0 1.2-.2.3 0 .7-.2.8-.1l.2.8c.1.4.2.8.5 1 .3.4.7.4 1.1.5.3 0 .7.2.8.3 0 .1 0 .5-.2.8-.1.4-.2.8-.1 1.2 0 .4.4.7.7 1 .2.1.5.4.5.6 0 .2-.3.4-.5.6z"/></svg> <div class="select-offer"> <span class="left-align"> <span class="multi-offers-text multi-offer-el"><span class="num-offers"></span> Available</span> <span class="single-offer-text"><span class="single-offer-text-content"></span></span> </span> <span class="right-align toggle theme-highlight"> <span class="multi-offer-el">Select Offer</span> <span class="single-offer-el">&nbsp;</span> </span> </div> <div class="selected-offer"> <span class="offer-title left-align"> Offer Applied <span class="discount">. <span class="discount-text">You save <span class="discount-amount"></span></span></span> </span> <span class="toggle right-align"></span> </div> </div></div>'};e={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},t=/&(?!#?\w+;)|<|>|"|'|\//g;bs.offers=a}(),function(){var e,t,a=function(e){return'<div class="offers-list-container"> <div class="offers-list-title"> <span class="align-left">SELECT AN OFFER</span> </div> <ul class="offers-list list"></ul> <button class="button apply-offer" type="button"> Apply Offer </button></div>'};e={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},t=/&(?!#?\w+;)|<|>|"|'|\//g;bs.offerslist=a}(),function(){var e,t,a=function(e){var t="",a=e.offer.data,i=e.formatAmount(a.original_amount);return t+='<div class="offers-error"> <div class="offers-error-content"> <div class="error-title"> OFFER NOT APPLICABLE </div> <div class="error-desc"> The offer <b>“'+e.offer.data.name+"”</b>",e.offer.discount?(t+=" is not applicable",e.methodDescription&&(t+=" on this "+e.methodDescription),t+=". Do you want to continue and <b>pay "+i+"</b> ?"):t+=" will no longer be applicable.",t+=' </div> <div class="error-actionables"> <span class="cancel text-btn">GO BACK</span> <span class="pay text-btn"> ',e.offer.discount?t+="YES, PAY "+i:t+="OKAY",t+=" </span> </div> </div></div>"};e={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},t=/&(?!#?\w+;)|<|>|"|'|\//g;bs.offererror=a}(),function(){var e,t,a=function(e){var t='<li class="offer item"> <div class="offer-title"> <div class="offer-name left-align">'+e.name+'</div> <div class="toggle-offer right-align"> <span class="checkbox"></span> </div> </div> <div class="offer-details';return e.description||e.discount||(t+=" no-desc"),t+='"> ',(e.description||e.discount)&&(t+=' <div class="offer-desc"> ',e.discount&&(t+=' <div class="discount-details"> You save a total of '+e.discount+" </div> "),t+=" ",e.description&&(t+=""+e.description),t+=" </div> "),t+='     <div class="remove-offer text-btn"> REMOVE OFFER </div> </div></li>'};e={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},t=/&(?!#?\w+;)|<|>|"|'|\//g;bs.offer=a}(),function(){var e,t,a=function(i){var e,n="",t=i.get,a=t("ecod"),s=t("address"),r=i.methods,o=i.cardOffer,c=r.wallet,l=r.emandate||r.netbanking,d=i.themeMeta.icons,u=(R(c,"name","freecharge"),R(c,"name","airtelmoney"),R(c,"name","mobikwik"),me.olamoney,function(e){return e.replace(/<[^>]*>?/g,"")}),p=function(e){return e.replace(/"/g,"")},h=i.order||{},m=i.invoice,f=i.walletsDesc,v=i.tpvBank||{},g=i.emi_options,b=t("prefill.aadhaar[vid]"),y=t("prefill.bank_account[name]"),k=i.formatAmount(t("amount"));e=t("display_currency")?D.currencies[t("display_currency")]+u(t("display_amount")):"INR"===t("currency")?"&#x20B9;<span class='amount-figure'>"+k+"</span>":"$"+k;var w=p(t("prefill.email")),_=p(t("prefill.contact")),x=p(t("prefill.name")),C=t("readonly.contact")&&_,P=t("readonly.email")&&w,T=t("readonly.name")&&x,A=i.subscription&&0===i.subscription.type,S=i.upi_intents_data&&i.methods.upi_intent,M=i.upi_intents_data;if(n+='<div id="container" class="mfix animations" tabIndex="0"> <div id="backdrop"></div> <div id="timeout"></div> <i id="powered-by"><a id="powered-link" href="https://razorpay.com?ref=org-in-chk" target="_blank">&#xe608;</a></i> <div id="modal" class="mchild"> <div id="modal-inner"> <div id="overlay" class="showable"></div> <div id="confirmation-dialog" class="showable"></div> <div id="emi-wrap" class="showable mfix"></div> <div id="error-message" class="showable"> <div id="fd-t"></div> <div class="spin"><div></div></div> <div class="spin spin2"><div></div></div> <span class="link"></span> <button id="fd-hide" class="btn">Retry</button> <div id="cancel_upi"> <p>Please give us a reason before we cancel the payment</p> <label for="upi-1"><input id="upi-1" type="radio" name="_[reason]" value="collect_not_received"> Did not receive collect request </label> <label for="upi-2"><input id="upi-2" type="radio" name="_[reason]" value="failed_in_app"> Payment failed in UPI app </label> <label for="upi-3"><input id="upi-3" type="radio" name="_[reason]" value="money_deducted"> Money got deducted but payment is still processing </label> <label for="upi-4"><input id="upi-4" type="radio" name="_[reason]" value="other"> Other </label> <div class="buttons"> <button class="back-btn">Back</button> <button class="btn">Submit</button> </div> </div> </div> <div id="content"> <div id="header"> <div id="modal-close" class="close">×</div> ',t("image")&&(n+=' <div id="logo"> <img src="'+p(t("image"))+'"> </div> '),n+=' <div id="merchant"> ',t("name")&&(n+=' <div id="merchant-name">'+u(t("name"))+"</div> "),n+=' <div id="merchant-desc">'+u(t("description").trim())+"</div> ",t("amount")&&(n+=' <div id="amount"> <span class="discount"></span> <span class="original-amount">'+e+"&nbsp;&nbsp;</span> </div> "),n+=" </div> ","payzapp"===t("theme.branding")?n+=' <div id="cob-image" style="background-image: url(\'https://cdn.razorpay.com/brand/'+t("theme.branding")+".png')\"></div> ":t("theme.branding")&&(n+=' <div id="cob-image" style="background-image: url(\''+t("theme.branding")+"')\"> </div> "),n+=' </div> <div id="body"',i.tpvBank&&(n+=' class="sub"'),n+='> <div id="curtain"> <div id="curtain-container-parent"></div> <div id="curtain-overlay"></div> </div> <div id="messages"></div> <div id="partial-back" class="theme-secondary-highlight"><i class="back">&#xe604;</i>Back to ',h.partial_payment?n+="amount":n+="contact details",n+='</div> <div id="topbar" class="theme-secondary-highlight"> <div id="top-right"> <div id="user"></div> <div id=\'profile\'><li>Log out</li><li>Log out from all devices</li></div> </div> <div id="top-left"> <i class="back">&#xe604;</i> <div id="tab-title"></div> </div> </div> <form id="form" method="POST" novalidate autocomplete="off" onsubmit="return false"> <div id="form-fields"> <div id="form-common" class="showable drishy screen"> <div class="pad partial-payment-block" id="pad-common"> <div class="elem-wrap"><div class="elem elem-contact',C&&(n+=" readonly"),n+='"> <i>&#xe607;</i> <div class="help">Please enter a valid contact number</div> <label>Phone</label> <input class="input" id="contact" name="contact" type="tel" value="'+_+'"',i.optional.contact?n+=' pattern=".*"':n+=' required pattern="^\\+?[0-9]{8,15}$"',C&&(n+=" readonly"),n+='> </div></div> <div class="elem-wrap" id="elem-wrap-email"><div class="elem elem-email',P&&(n+=" readonly"),n+='"> <i>&#xe603;</i> <div class="help">Please enter a valid email. Example:<br> you@example.com</div> <label>Email',i.optional.email&&(n+=" (Optional)"),n+='</label> <input class="input" name="email" type="email" id="email" value="'+w+'"',i.optional.email?n+=' pattern=".*"':n+=' required pattern="^[^@\\s]+@[a-zA-Z0-9-]+(\\.[a-zA-Z0-9-]+)+$"',P&&(n+=" readonly"),n+="> </div></div> ",h.partial_payment&&(n+=' <br> <label class="partial-label" for="partial-select-partial">Make payment in parts</label> <input type="checkbox" class="checkbox--square" id="partial-select-partial"',h.amount_due!==t("amount")&&(n+=" checked"),n+='> <label class="checkbox" for="partial-select-partial"></label> <div class="elem-wrap" id="elem-wrap-amount" style="height: auto"><div class="elem elem-amount"> <input class="input" name="amount" id="amount-value" placeholder="Enter amount" value="'+i.getDecimalAmount(t("amount"))+'"> <div class="help">Please enter a valid amount (upto '+i.getDecimalAmount(h.amount_due)+')</div> </div></div> <label class="subtitle subtitle--help">Pay some amount now and remaining later.</label> '),n+=" ",s&&!h.partial_payment&&(n+=' <div class="elem-wrap" id="elem-wrap-address"><div class="elem elem-address"> <div class="help">Address should be atleast 10 characters long</div> <label>Address</label> <textarea class="input" name="address" type="text" id="address" required pattern="[\\s\\S]{10}" maxlength="200" rows=\'2\'></textarea> </div></div> <div class="elem-wrap"><div class="elem"> <div class="help">Enter 6 digit pincode</div> <label>PIN Code</label> <input class="input" required pattern="^\\d{6}$" maxlength="6" id="pincode"> </div></div> <div class="elem-wrap"><div class="elem select elem-state"> <div class="help">Select a value from list of states</div> <i class="select-arrow">&#xe601;</i> <select class="input" required id="state"> <option value="">Select State</option> ',z(i.states,function(e,t){n+=' <option value="'+e+'">'+t+"</option> "}),n+=" </select> </div></div> "),n+=" ",i.multiTpv?n+=' <div class="multi-tpv input-radio centered"> <div class="multi-tpv-header">Pay Using</div> <input checked type="radio" name="method" id="multitpv-netb" value="netbanking"> <label for="multitpv-netb"> <i><img src="https://cdn.razorpay.com/bank/'+v.code+'.gif"></i> <div class="radio-display"></div> <div class="label-content">A/C: '+v.account_number+"</div> <span>"+v.name+'</span> </label> <input type="radio" name="method" id="multitpv-upi" value="upi"> <label for="multitpv-upi"> <i>'+d.upi+'</i> <div class="radio-display"></div> <div class="label-content">UPI Payment</div> <span>'+v.name+" Account "+v.account_number+"</span> </label> </div> ":i.tpvBank&&(n+=' <div class="customer-bank-details"> <div class="bank-name"> ',v.logo&&(n+=' <img src="'+v.logo+'"> '),n+=" ",v.name?n+=" "+v.name+" ":n+=" Bank Details ",n+=" </div> ",v.account_number&&(n+=' <div class="account-details clearfix"> <div>Account Number</div> <div>'+v.account_number+"</div> </div> "),n+=" ",y&&(n+=' <div class="account-details clearfix"> <div>Customer Name</div> <div>'+y+"</div> </div> "),n+=" ",i.optional.contact&&i.optional.email&&v.ifsc&&(n+=' <div class="account-details clearfix"> <div>IFSC code</div> <div class="text-uppercase">'+v.ifsc+"</div> </div> "),n+=" ",b&&(n+=' <div class="account-details clearfix"> <div>Aadhaar VID</div> <div>'+b+"</div> </div> "),n+=" </div> "),n+=" </div> ",i.recurring&&"emandate"!==i.tab&&1===i.methods.count&&r.card&&(n+=' <div class="pad recurring-message"> <span>&#x2139;</span> ',t("subscription_id")?(n+=" ",r.debit_card&&r.credit_card?n+=" Subscription payments are supported on Visa and Mastercard Credit Cards from all Banks and Debit Cards from ICICI, Kotak, Citibank and Canara Bank. ":r.debit_card?n+=" Subscription payments are only supported on Visa and Mastercard Debit Cards from ICICI, Kotak, Citibank and Canara Bank. ":n+=" Subscription payments are only supported on Mastercard and Visa Credit Cards. "):(n+=" ",r.debit_card&&r.credit_card?n+=" Visa and Mastercard Credit Cards from all Banks and Debit Cards from ICICI, Kotak, Citibank and Canara Bank are supported for this payment. ":r.debit_card?n+=" Only Visa and Mastercard Debit Cards from ICICI, Kotak, Citibank and Canara Bank are supported for this payment. ":n+=" Only Visa and Mastercard Credit Cards are supported for this payment. "),n+=" ",n+=" </div> "),n+=" ",o&&(n+=' <div class="pad" id="card-offer"> ',o.name&&(n+=' <div class="text-btn"><strong>'+o.name+"</strong></div> "),n+=" ",o.display_text&&(n+=" "+o.display_text+" "),n+=" </div> "),n+=" <div",i.tpvBank&&(n+=' class="showable"'),n+='> <div class="legend">Select a payment method</div> <div id="payment-options" class="grid clear count-'+r.count+'"> ',t("theme.emi_mode")&&(n+=' <div class="payment-option item" tab="emi"><label><i>&#xe60d;</i>'+i.tab_titles.emi+"</label></div> "),n+=" ",r.card&&(n+=" ",t("theme.debit_card")?n+=' <div class="payment-option item" tab="credit_card"> <label> <i>'+d.card+"</i> "+i.tab_titles.credit_card+' </label> </div> <div class="payment-option item" tab="debit_card"> <label> <i>'+d.card+"</i> "+i.tab_titles.debit_card+" </label> </div> ":(n+=' <div class="payment-option item" tab="card"> <label> <i>'+d.card+"</i> "+i.tab_titles.card+' <span class="desc"> ',i.recurring_card_text?n+=" "+i.recurring_card_text+" ":(n+=" Mastercard, Visa",i.irctc||(n+=", RuPay, Maestro"),i.preferences.methods.amex&&(n+=", Amex"),n+=" "),n+=" </span> </label> </div> "),n+=" "),n+=" ",r.netbanking&&(n+=' <div class="payment-option item" tab="netbanking"> <label> <i>'+d.netbanking+"</i> "+i.tab_titles.netbanking+' <span class="desc">All Indian banks</span> </label> </div> '),n+=" ",r.emandate&&(n+=' <div class="payment-option item" tab="emandate"> <label> <i>'+d.netbanking+"</i> "+i.tab_titles.emandate+' <span class="desc">Pay with Netbanking</span> </label> </div> '),n+=" ",c.length&&(n+=' <div class="payment-option item" tab="wallet"> <label> <i>'+d.wallet+"</i> "+i.tab_titles.wallet+' <span class="desc">'+f+"</span> </label> </div> "),n+=" ",r.upi&&(n+=' <div class="payment-option item" tab="upi"> <label> <i>'+d.upi+"</i> "+i.tab_titles.upi+' <span class="desc">Instant payment using UPI App</span> </label> </div> '),n+=' </div> <div class="clear"></div> </div> </div> ',i.irctc&&(n+=" <div class='recurring-message' style='right: 0;left: 0;border-radius:0 0 3px 3px'> <span>&#x2139;</span> *Payment charges and taxes as applicable.</div> "),n+=" ",(r.card||r.emi)&&(n+=' <div class="tab-content showable screen" id="form-card"> <div id="show-saved-cards" class=\'text-btn left-card\'>Use saved cards</div> <div id="saved-cards-container"></div> <div id="show-add-card" class="text-btn left-card">Add another card</div> <div class="pad"> <div id="add-card-container"> <div class="elem select"> <i class="select-arrow">&#xe601;</i> <span class="help">Please select an EMI plan</span> <select id="emi-bank" class="input"> <option selected value="">Select Bank</option> ',(i.isOfferApplicableOnIssuer("amex")?i.getDiscountedAmount():t("amount"))>g.amex_min&&i.preferences.methods.amex&&(n+=' <option value="AMEX">American Express</option> '),n+=" ",z(g.banks,function(e,t){n+=' <option value="'+e+'">'+t.name+"</option> "}),n+=' </select> </div> <div class="card-fields"> <div class="elem-wrap two-third"><div class="elem" id="elem-card"> <div class="cardtype"></div> <label>Card Number</label> <i>&#xe605;</i> <span class="help">Please enter a valid card number</span> <span class="help amex-error">Amex cards are not supported for this transaction</span> <input class="input" type="tel" id="card_number" name="card[number]" autocomplete="off" maxlength="19" value="'+p(t("prefill.card[number]"))+'"> </div></div> <div class="elem-wrap third"><div class="elem elem-expiry"> <label>Expiry</label> <i>&#xe606;</i> <input class="input"',i.isMobile&&(n+=' type="tel"'),n+=' id="card_expiry" name="card[expiry]" placeholder="MM / YY" maxlength="7" value="'+p(t("prefill.card[expiry]"))+'"> </div></div> <div class="elem-wrap two-third"><div class="elem elem-name ',T&&(n+="readonly"),n+='"> <span class="help">Please enter name on your card</span> <label>Card Holder\'s Name</label> <i>&#xe602;</i> <input class="input" type="text" id="card_name" name="card[name]" required value="'+p(t("prefill.name"))+'" pattern="^[a-zA-Z. 0-9\\\']{1,100}$" ',T&&(n+="readonly"),n+='> </div></div> <div class="elem-wrap third"><div class="elem elem-cvv mature"> <label>CVV</label> <i>&#xe604;</i> <input class="input cvv-input" type="tel" id="card_cvv" inputmode="numeric" name="card[cvv]" maxlength="3" required pattern="[0-9]{3}" value="'+p(t("prefill.card[cvv]"))+'"> <div class="help"></div> </div></div> </div> <div class="clear"></div> <div id="elem-emi" class="double"> <div class="elem select"> <i class="select-arrow">&#xe601;</i> <select class="input"> <option value="" selected>Enter Plan</option> </select> </div> <div class="first disabled dropdown-parent" id="emi-check-label"> <input type="checkbox" class="checkbox--square"> <span class="checkbox"></span> Pay with EMI <div id="emi-select" class="dropdown"> <div id="emi-plans-wrap"></div> <div class="option" value="">Pay without EMI</div> </div> <span class="help dropdown">EMI is available on HDFC, ICICI, RBL, Kotak, IndusInd, Yes Bank, Standard Chartered and Axis Bank Credit Cards. Enter your credit card to avail.</span> </div> <div class="second"> <span id="view-emi-plans" class="link"> <a>View EMI Plans</a> </span> </div> <div class="clear"></div> </div> ',!i.recurring&&t("remember_customer")&&(n+=' <div id="should-save-card" class="double"> <label class="first" for="save" tabIndex="0"> <input type="checkbox" class="checkbox--square" id="save" name="save" value="1" checked> <span class="checkbox"></span> Remember Card </label> <div class="clear"></div> </div> '),n+=' <label id="nocvv-check" for="nocvv"> <input type="checkbox" class=\'checkbox--square\' id="nocvv" disabled> <span class="checkbox"></span> My Maestro Card doesn\'t have Expiry/CVV </label> <div class="flow-selection-container"> <label>Complete Payment Using</label> <div class="flow input-radio"> <input type="radio" name="auth_type" id="flow-3ds" value="c3ds" checked> <label for="flow-3ds"> <div class="radio-display"></div> <div class="label-content">OTP / Password</div> </label> </div> <div class="flow input-radio"> <input type="radio" name="auth_type" id="flow-pin" value="pin"> <label for="flow-pin"> <div class="radio-display"></div> <div class="label-content">ATM PIN</div> </label> </div> </div> </div> </div> ',i.recurring&&(n+=" <div id='recurring-message' class=\"pad recurring-message\"> <span>&#x2139;</span> ",i.subscription?n+=A?" The charge is to enable subscription on this card and it will be refunded. ":" This card will be linked to the subscription and future payments will be charged automatically. ":n+=" Future payments on this card will be charged automatically. ",n+=" </div> "),n+=" </div> "),n+=" ",l){n+=' <div class="tab-content showable screen" id="form-netbanking"> ';var O=0,I=3,B=0;for(var E in n+=' <div id="netb-banks" class="clear grid count-3"> ',i.netbanks){var N=i.netbanks[E].code;if(l[N]){if(6<++B||i.recurring&&3<B)break;0===O&&(O=I-3+1,I++),n+=' <div class="netb-bank item radio-item"> <input class="bank-radio" id="bank-radio-'+N+'" type="radio" name="bank" value="'+N+'"> <label for="bank-radio-'+N+'" class="radio-label mfix"> <div class="mchild l-'+O+' item-inner"> <img src="'+i.netbanks[E].logo+'"> <div>'+i.netbanks[E].name+"</div> </div> </label> </div> ",O=(O+1)%I}}n+=' </div> <div class="elem-wrap pad"><div id="nb-elem" class="elem select"> <i class="select-arrow">&#xe601;</i> <div class="help">Please select a bank</div> <select id="bank-select" name="bank" required class="input" pattern="[\\w]+"> <option selected="selected" value="">Select a different Bank</option> ',z(l,function(e,t){n+=' <option value="'+e+'">'+t+"</option> "}),n+=' </select> </div></div> <div class="down"> <svg xmlns="http://www.w3.org/2000/svg" width="12" viewBox="0 0 24 24"><path d="M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm-1.351 6.493c-.08-.801.55-1.493 1.351-1.493s1.431.692 1.351 1.493l-.801 8.01c-.029.282-.266.497-.55.497s-.521-.215-.55-.498l-.801-8.009zm1.351 12.757c-.69 0-1.25-.56-1.25-1.25s.56-1.25 1.25-1.25 1.25.56 1.25 1.25-.56 1.25-1.25 1.25z"/></svg> <span class="text"> </span> is currently facing issues. </div> ',i.recurring&&(n+=' <div class="pad recurring-message"> <span>&#x2139;</span> Future payments from your bank account will be charged automatically. </div> '),n+=" </div> "}return n+=" ",(c.length||a)&&(n+=' <div class="tab-content showable screen pad" id="form-wallet"> ',a&&(n+=' <div class="legend" id="ecod-label">Select payment method</div> '),n+=' <div id="wallets"> ',a&&(n+=' <div class="list"> ',r.upi&&(n+=' <div class="item radio-item wallet" tab="upi"> <input type="radio" name="wallet" id="ecod-radio-upi" tab="upi"> <label for="ecod-radio-upi" class="radio-label mfix"> <span class="checkbox"></span> <div class="logo" style="background-image: url(https://cdn.razorpay.com/checkout/upi.svg)"></div> <span class="title">Pay using Upi</span> </label> </div> '),n+=" ",m&&(n+=' <div class="item radio-item wallet" tab="ecod"> <input type="radio" name="wallet" id="ecod-radio-ecod" tab="ecod"> <label for="ecod-radio-ecod" class="radio-label mfix"> <span class="checkbox"></span> <div class="logo"><i>&#xe609;</i></div> <span class="title">Card (link)</span> </label> </div> <div class="item radio-item wallet" tab="ecod"> <input type="radio" name="wallet" id="ecod-radio-ecod2" tab="ecod"> <label for="ecod-radio-ecod2" class="radio-label mfix"> <span class="checkbox"></span> <div class="logo"><i>&#xe60a;</i></div> <span class="title">Netbanking (link)</span> </label> </div> '),n+=" </div> "),n+=' <div class="list collapsable"> ',z(c,function(e,t){n+=" ";var a=i.walletOffer&&i.walletOffer.issuer===t.code&&i.walletOffer;n+=' <div class="wallet item radio-item"> <input type="radio" name="wallet" value="'+t.code+'" id="wallet-radio-'+t.code+'"> <label for="wallet-radio-'+t.code+'" class="radio-label"> <span class="checkbox"></span> <img style="display:none" src="'+t.sqLogo+'" onload="this.nextElementSibling.style.backgroundImage = \'url(\'+this.src+\')\'"> <div class="placeholder"></div> <span class="title">'+t.name+"</span> ",a&&(n+=' <span class="offer">'+a.name+'</span> <div class="offer-info"> '+a.display_text+" </div> "),n+=" </label> </div> "}),n+=" </div> </div> </div> "),n+=" ",r.upi&&(n+=' <div class="tab-content showable screen pad collapsible" id="form-upi"> ',S?(n+=' <div id="upi-apps"> <div class="list"> ',z(M,function(e,t){n+=' <div class="upi_app item radio-item"> <input type="radio" name="upi_app" value="'+t.package_name+'" id="upi_app-radio-'+t.package_name+'"> <label for="upi_app-radio-'+t.package_name+'" class="radio-label"> <span class="checkbox"></span> <img style="display: none" src="'+t.app_icon+'" onload="this.nextElementSibling.style.backgroundImage = \'url(\'+this.src+\')\'"> <div class="placeholder"></div> <span class="title"> <div> '+t.app_name+" ",0==e&&i.showRecommendedUPIApp&&(n+=" <em>(Recommended)</em> "),n+=' </div> <div class="only-when-checked">You need to have a registered UPI ID</div> </span> </label> </div> '}),n+=' <div id="upi-directpay" class="item radio-item"> <input type="radio" id="upi_app-directpay" name="upi_app" value="directpay"> <label for="upi_app-directpay" class="radio-label"> <span class="checkbox"></span> <div class="placeholder theme-highlight">&#xe711;</div> <span class="title"> <div class="elem-wrap" style="display: inline-block;"> <div class="elem"> <input autocomplete="upi-vpa" class="input" id="vpa" name="vpa" placeholder="Type your UPI address" required pattern=".+@.+" value="'+p(t("prefill.vpa"))+'"> <div class="help">Please enter a valid VPA of the form username@bank</div> </div> </div> </span> </label> </div> </div> </div> '):(n+=' <h3>Pay using</h3> <div id="upi-entry"> <div class="list"> ',i.isMobileBrowser&&(n+=' <div id="upi-intent" class="item" style="display: none"> <input id="radio-intent" type="radio" name="_[flow]" value="intent"/> <label for="radio-intent"> <i class="theme">&#xe70d;</i> <div class="title">UPI App (installed on phone)</div> <div class="subtitle">Directly pay with a UPI App</div> <span class="checkbox"></span> </label> </div> '),n+=' <div id="upi-directpay" class="item expanded"> <input id="radio-directpay" type="radio" name="_[flow]" value="directpay" ',S||i.isMobileBrowser||(n+="checked"),n+='/> <label for="radio-directpay"> <i class="theme-highlight">&#xe70e;</i> <div class="title">UPI Address</div> <div class="subtitle collapsed-only"><img src="https://cdn.razorpay.com/brand/sample_upi_apps.png" class="upi-apps-img"/> and others</div> <div class="subtitle collapsible-content">You will receive a collect request</div> <span class="checkbox"></span> <div class="elem-wrap collect-form  collapsible-content"><div class="elem"> <input autocomplete="upi-vpa" class="input" id="vpa" name="vpa" placeholder="Enter UPI address" required pattern=".+@.+" value="'+p(t("prefill.vpa"))+'"> <div class="help">Please enter a valid VPA of the form username@bank</div> </div></div> </label> </div> <div id="upi-tez" class="item tez-desktop" checked> <input id="radio-tez" type="radio" name="_[flow]" value="tez"/> <label for="radio-tez"> <i class="tez-icon"></i> <div class="title">Google Pay (Tez)</div> <div class="subtitle collapsible-content mweb-only">Installed on your device</div> <div class="subtitle collapsible-content desktop-only">You will receive a payment request</div> <span class="checkbox"></span> <div class="collapsible-content desktop-only"> <div class="elem-wrap collect-form"> <div class="elem"> <input autocomplete="tez-username" class="input" id="tez-username" name="tez_username" placeholder="Enter UPI ID" required pattern=".+" value=""> <div class="help">Please enter a valid handle</div> </div> <div class="elem at-separator">@</div> <div class="elem"> <select name="tez_bank" required class="input"> <option value="">Select Bank</option> <option value="okhdfcbank">okhdfcbank</option> <option value="okicici">okicici</option> <option value="oksbi">oksbi</option> <option value="okaxis">okaxis</option> </select> </div> </div> </div> </label> </div> </div> </div> '),n+=" </div> "),n+=" ",a&&m&&(n+=' <div class="tab-content showable screen pad" id="form-ecod"> <img src="https://chart.googleapis.com/chart?cht=qr&chs=256x256&chl='+m.url+"\"> <p>An SMS with the payment link has also been sent to customer for initiating the payment.</p> <div style=\"margin: 10px 0; padding: 10px 0\"> <div id='ecod-resend' class='text-btn' style='float: right'>Resend Link</div> <span style='border-bottom: 1px dashed #ddd'>"+m.url+"</span> ",i.epos_share_link&&(n+=' <a id="share-link" class="btn" href="rzp://rzp.io/invoice/share/'+encodeURIComponent("Razorpay has requested payment of ₹"+k+". Open following link to pay:\n"+m.url)+'"> Share Link </a> '),n+=" </div> </div> "),n+=' <div id="form-otp" class="tab-content showable screen"> <div id=\'otp-prompt\'></div> <div id="add-funds" class="add-funds"> <div id="add-funds-action" class="btn">Add Funds</div> <div class="text-center" style="margin-top: 20px;"> <a id="choose-payment-method" class="link">Try different payment method</a> </div> </div> <div id="otp-section"> <div id="otp-action" class="btn">Retry</div> <div id="otp-elem"> <div class="help">Please enter the OTP</div> <input type="tel" class="input" name="otp" id="otp" maxlength="6" autocomplete="off" required> </div> </div> <div class="spin"><div></div></div> <div class="spin spin2"><div></div></div> <div id="otp-sec-outer"> <a id="otp-resend" class="link">Resend OTP</a> ',i.recurring||(n+='<a id="otp-sec" class="link">Skip Saved Cards</a>'),n+=" </div> </div> ",i.magic&&(n+=' <div id="magic-wrapper"> </div> '),n+=" ",r.emandate&&(n+=' <div id="emandate-wrapper"> </div> '),n+=" </div> <div id='next-button' class=\"submit-button\">Next</div> ",n+=' <div id="offers-container"></div> <button id="footer" type="submit" class="button"> <span class="pay-btn">',t("amount")?n+='PAY &nbsp;<span class="original-amount">'+e+'</span><span class="discount"></span>':n+="Authenticate",n+='</span> <span class="otp-btn">Verify</span> </button> ',t("theme.branding")&&(n+=' <img id="cob-rzp" src="https://cdn.razorpay.com/logo.svg"> '),n+=' </form> </div> </div> </div> </div> <a href="https://resident.uidai.gov.in/web/resident/vidgeneration" target="_blank" id="aadhaar_vid_link" class="hidden"></a></div>'};e={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},t=/&(?!#?\w+;)|<|>|"|'|\//g;bs.modal=a}(),function(){var e,t,a=function(a){var i="",e=a.banks[a.selected],n=a.amount;return a.session.isOfferApplicableOnIssuer(e.code)&&(n=a.discountedAmount),i+='<div id="emi-inner" class="mchild"> <div class="row em select"> <div class="col">Select Bank:</div> <i class="i select-arrow">&#xe601;</i> <select id="emi-bank-select"> ',z(a.banks,function(e,t){i+=' <option value="'+e+'"',e===a.selected&&(i+=" selected"),i+=">"+t.name+"</option> "}),i+=' </select> </div> <strong class="row"> <div class="col">EMI Tenure</div> <div class="col">Interest Rate</div> <div class="col">Monthly Installments</div> <div class="col">Total Money</div> </strong> ',z(e.plans,function(e,t){i+=' <div class="row emi-option"> <div class="col">'+e+" Months</div> ";var a=M.emi.calculator(n,e,t);i+=' <div class="col">'+t+'%</div> <div class="col">₹ '+a/100+'</div> <div class="col">₹ '+a*e/100+"</div> </div> "}),i+=' <div id="emi-close" class="close">×</div></div>'};e={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},t=/&(?!#?\w+;)|<|>|"|'|\//g;bs.emi=a}(),function(){var e,t,a=function(u){var p="",h={"American Express":"amex","Diners Club":"diners",Maestro:"maestro",MasterCard:"mastercard",RuPay:"rupay",Visa:"visa",unknown:"unknown"},m=u.emi_mode,f=u.emi_options,v=u.amount,g=u.session;return z(u.tokens.items,function(e,t){if(p+=" ",t.card){p+=" ";var a=t.card,i=a.issuer,n=f.banks,s=h[a.network],r=f.min;"amex"===s&&(i="AMEX",r=f.amex_min);var o=i&&u.emi&&a.emi&&u.amount>r&&n[i],c="amex"===s?4:3,l=a.flows||[],d=!u.recurring&&Boolean(l.pin);p+=' <div tabIndex="0" class="saved-card left-card',e||(p+=" checked"),p+='"',o&&(p+=" emi bank='"+i+"'"),"maestro"===s&&(p+=" maestro"),p+=" token="+t.token+" ",d&&(p+="pin"),p+="> <div class=\"help up\">EMI is not available on this card</div> <div class='cardtype' cardtype='"+s+"'></div> <div class=\"saved-inner\"> <span class='saved-number'>"+a.last4+"</span> <input class='saved-cvv cvv-input' type='tel' placeholder='CVV' inputmode='numeric' maxlength='"+c+"' required pattern='^[0-9]{"+c+"}$'> ",o&&(p+=' <div class="elem-wrap"><div class="elem select elem-savedcards-emi"> <div class="help up">Please select the EMI duration</div> <i class="select-arrow">&#xe601;</i> <select class="input" name="emi_duration" ',m&&(p+="required"),p+='> <option selected value="" >Select EMI Plan</option> ',z(o.plans,function(e,t){p+=" <option value='"+e+"'>"+e+" month EMI @ "+t+"% ( ₹"+M.emi.calculator(g.isOfferApplicableOnIssuer(i)?g.getDiscountedAmount():v,e,t)/100+" per month )</option> "}),p+=" </select> </div></div> "),p+=" ","maestro"===s&&(p+=' <label for="nocvv-'+t.token+'" class="maestro-cvv"> <input class="nocvv-checkbox" type="checkbox" id="nocvv-'+t.token+'"> <span class="checkbox"></span> My Maestro Card doesn\'t have Expiry/CVV </label> '),p+=" </div> ",d&&(p+=' <div class="elem-wrap flow-selection-container"> <div class="flow input-radio"> <input type="radio" name="auth_type-'+t.token+'" id="flow-3ds-'+t.token+'" value="c3ds" class="auth_type_radio" checked> <label for="flow-3ds-'+t.token+'"> <div class="radio-display"></div> <div class="label-content">Pay using <strong>OTP / Password </strong></div> </label> </div> <div class="flow input-radio"> <input type="radio" name="auth_type-'+t.token+'" id="flow-pin-'+t.token+'" value="pin" class="auth_type_radio"> <label for="flow-pin-'+t.token+'"> <div class="radio-display"></div> <div class="label-content">Pay using <strong>ATM PIN</strong></div> </label> </div> </div> '),p+=" </div> "}}),p};e={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},t=/&(?!#?\w+;)|<|>|"|'|\//g;bs.savedcards=a}(),function(){var e,t,a=function(e){return'<div id="magic-inner"> <div id="form-magic-choice" class="tab-content showable screen pad"> <h3> Pay using </h3> <div class="list"> <div class="item"> <input type="radio" name="choice" value="otp" id="magic-choice-otp"> <label for="magic-choice-otp"> <span class="checkbox"></span> <i class="theme">&#xe70f;</i> <div class="title">One Time Password</div> <div class="subtitle">OTP message sent by your bank</div> </label> </div> <div class="item"> <input type="radio" name="choice" value="password" id="magic-choice-password"> <label for="magic-choice-password"> <span class="checkbox"></span> <i class="theme">&#xe710;</i> <div class="title">Password</div> <div class="subtitle">Password for your ACS page</div> </label> </div> </div> </div> <div id="form-magic-otp" class="tab-content showable screen pad"> <div id="otp-wait"> <div class="titlebar"> <h3> Waiting for OTP </h3> <div class="link theme magic-resend-otp">Resend</div> </div> <div class="loader"></div> <p>Please wait a moment while we read the One Time Password. <a class="theme show-payment-page">View bank page.</a></p> <h3 id="magic-manual-otp" class="text-btn">Enter otp manually</h3> </div> <div id=\'otp-confirm\'> <div class="titlebar"> <h3> Confirm OTP </h3> <div class="link theme magic-resend-otp">Resend</div> </div> <div class="list"> <div class="item active"> <i class="theme">&#xe70f;</i> <div class="subtitle auto">Confirm the OTP to complete the card payment. <a class="theme show-payment-page" >View Bank Page.</a></div> <div class="subtitle n-auto">Authenticate your card payment by entering the One Time Password. <a class="theme show-payment-page">View Bank Page.</a></div> <div class="elem-wrap n-auto"><div class="elem"> <div class="help">Please enter a valid OTP</div> <input class="input" id="magic-otp" name="otp" type="tel" required pattern="^[0-9]{4,8}$" maxlength="8"> </div></div> <div id="magic-otp-data" class="auto clear"> <div id="magic-otp-placeholder"></div> <div id="magic-bank"></div> </div> </div> <h3 id=\'enter-otp\' class="text-btn adjoined auto">Enter OTP manually</h3> <h3 id="autoread-otp" class="text-btn adjoined n-auto">Auto read OTP</h3> </div> </div> </div></div>'};e={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},t=/&(?!#?\w+;)|<|>|"|'|\//g;bs.magic=a}(),function(){var e,t,a=function(e){var t="",a=e.prefill.bank_account,i=e.prefill.bank_name,n=e.prefill.bank_ifsc,s=(e.prefill.aadhaar,e.prefill.account_type),r="^[a-zA-Z]{4}[a-zA-Z0-9]{7}$";return t+='<div id="emandate-inner"> <div id="form-emandate-bank" class="tab-content showable screen"> <div id="emandate-bank"> <div class="bank-icon"></div> <div class="bank-name"></div> ',e.prefill.bank||(t+=' <div class="btn-change-bank">Change Bank</div> '),t+=' </div> <div class="legend">Authenticate using</div> <div id="emandate-options" class="grid clear count-2"> <div class="payment-option item netbanking" tab="emandate-netbanking"> <label> <i class="theme">&#xe60a;</i> Netbanking <span class="desc">via Netbanking login</span> </label> </div> <div class="payment-option item aadhaar" tab="emandate-aadhaar"> <label> <i class="theme">&#xe713;</i> Aadhaar <span class="desc">via Aadhaar linked mobile OTP</span> </label> </div> </div> </div> <div id="form-emandate-netbanking" class="tab-content showable screen pad"> <div class="elem-wrap" id="elem-wrap-nb-acc-no"><div class="elem elem-nb-acc-no',a&&(t+=" readonly"),t+='"> <div class="bank-icon"></div> <div class="help">Please enter a valid Account Number</div> <label>Bank account Number</label> <input class="input" name="bank_account[account_number]" type="text" id="nb-acc-no" value="'+a+'"',a&&(t+=" readonly"),t+=' required pattern="^[a-zA-Z0-9]{4,20}$" maxlength="20" spellcheck="false" autocorrect="off" autocapitalize="off"> </div></div> <div class="elem-wrap" id="elem-wrap-nb-acc-ifsc"><div class="elem elem-nb-acc-ifsc',n&&(t+=" readonly"),t+='"> <div class="help">Please enter a valid IFSC</div> <label>IFSC</label> <input class="input" name="bank_account[ifsc]" type="text" id="nb-acc-ifsc" value="'+n+'"',n&&(t+=" readonly"),t+=' required pattern="'+r+'" maxlength="11" spellcheck="false" autocorrect="off" autocapitalize="off"> </div></div> <div class="elem-wrap" id="elem-wrap-nb-acc-name"><div class="elem elem-nb-acc-name',i&&(t+=" readonly"),t+='"> <div class="help">Please enter a valid Name as per your account</div> <label>Account Holder Name</label> <input class="input" name="bank_account[name]" type="text" id="nb-acc-name" value="'+i+'"',i&&(t+=" readonly"),t+=' required pattern="^[a-zA-Z. 0-9\\\']{1,100}$" maxlength="100" spellcheck="false" autocorrect="off" autocapitalize="off"> </div></div> </div> <div id="form-emandate-aadhaar" class="tab-content showable screen pad"> <div class="elem-wrap" id="elem-wrap-adhr-acc-no"><div class="elem elem-adhr-acc-no',a&&(t+=" readonly"),t+='"> <div class="bank-icon"></div> <div class="help">Please enter a valid Account Number</div> <label>Bank account Number</label> <input class="input" name="bank_account[account_number]" type="text" id="adhr-acc-no" value="'+a+'"',a&&(t+=" readonly"),t+=' required pattern="^[a-zA-Z0-9]{4,20}$" maxlength="20" spellcheck="false" autocorrect="off" autocapitalize="off"> </div></div> <div class="elem-wrap" id="elem-wrap-adhr-acc-ifsc"><div class="elem elem-adhr-acc-ifsc',n&&(t+=" readonly"),t+='"> <div class="help">Please enter a valid IFSC</div> <label>IFSC</label> <input class="input" name="bank_account[ifsc]" type="text" id="adhr-acc-ifsc" value="'+n+'"',n&&(t+=" readonly"),t+=' required pattern="'+r+'" maxlength="11" spellcheck="false" autocorrect="off" autocapitalize="off"> </div></div> <div class="elem-wrap" id="elem-wrap-adhr-acc-name"><div class="elem elem-adhr-acc-name',i&&(t+=" readonly"),t+='"> <div class="help">Please enter a valid Name as per your account</div> <label>Account Holder Name</label> <input class="input" name="bank_account[name]" type="text" id="adhr-acc-name" value="'+i+'"',i&&(t+=" readonly"),t+=' required pattern="^[a-zA-Z. 0-9\\\']{1,100}$" maxlength="100" spellcheck="false" autocorrect="off" autocapitalize="off"> </div></div> ',t+=' <label for="emandate-aadhaar-linked-check" id="emandate-aadhaar-linked-check-label"> <input type="checkbox" class=\'checkbox--square\' id="emandate-aadhaar-linked-check" required> <span class="checkbox"></span> <div class="checkbox-content"> I agree that the above details are correct and my Aadhaar is linked to this bank account </span> </div> ',s&&(t+=' <input name="bank_account[account_type]" type="hidden" value="'+s+'" /> '),t+=" </div> </div></div>"};e={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},t=/&(?!#?\w+;)|<|>|"|'|\//g;bs.emandate=a}(),function(){var e,t,a=function(e){var t='<div class="confirm-container"> <div class="confirm-heading"> '+(e.heading||"Confirm")+' </div> <div class="confirm-message"> '+e.message+' </div> <div class="confirm-buttons"> ';return"ltr"===e.layout?t+=" <div id='positiveBtn' class=\"text-btn\"> "+(e.positiveBtnTxt||"Ok")+" </div> <div id='negativeBtn' class=\"text-btn\"> "+(e.negativeBtnTxt||"Cancel")+" </div> ":t+=" <div id='negativeBtn' class=\"text-btn\"> "+(e.negativeBtnTxt||"Cancel")+" </div> <div id='positiveBtn' class=\"text-btn\"> "+(e.positiveBtnTxt||"Ok")+" </div> ",t+=" </div></div>"};e={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},t=/&(?!#?\w+;)|<|>|"|'|\//g;bs.confirm=a}(),function(){var e,t,a=function(e){var t='<div class="curtain-container"> <div class="curtain-header-container"> <h3 class="curtain-header"> '+e.heading+" </h3> ";return e.showClose&&(t+=' <span class="close curtain-close">×</span> '),t+=' </div> <div class="curtain-content-container"> <div class="curtain-content"> '+e.content+" </div> </div></div>"};e={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},t=/&(?!#?\w+;)|<|>|"|'|\//g;bs.curtain=a}(),function(){var e,t,a=function(e){return'<div class="copytoclipboard--container"> <button class="copytoclipboard--btn" type="button"> <span class="copytoclipboard--icon">&#xe712;</span> <span class="copytoclipboard--check">&checkmark;</span> <span class="copytoclipboard--label">'+(e.btnText||"Copy")+'</span> </button> <div class="copytoclipboard--text"> '+e.content+" </div></div>"};e={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},t=/&(?!#?\w+;)|<|>|"|'|\//g;bs.copytoclipboard=a}(),function(){var e,t,a=function(e){return'<div class="callout"> <span>&#x2139;</span> '+e.message+"</div>"};e={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},t=/&(?!#?\w+;)|<|>|"|'|\//g;bs.callout=a}(),function(){var e,t,a=function(e){var t='<div> <div class="emandate-education-text"> <p>You need Aadhaar VID to make payment.</p> <div class=\'has-tooltip\'> <div class="text">What is VID?</div> <div class="tooltip tooltip-right"> It is a 16-digit number introduced by UIDAI so that Aadhaar holders can use it instead of their Aadhaar number to maintain privacy. </div> </div> </div> ';return e.showSDKView||(t+=' <div id="emandate-aadhaar-radios"> <div class="input-radio"> <input type="radio" name="emandate-aadhaar-radio" id="emandate-aadhaar-radio-no" value="no" checked> <label for="emandate-aadhaar-radio-no"> <div class="radio-display"></div> <div class="label-content">I do not have a VID</div> </label> </div> <div class="input-radio"> <input type="radio" name="emandate-aadhaar-radio" id="emandate-aadhaar-radio-yes" value="yes"> <label for="emandate-aadhaar-radio-yes"> <div class="radio-display"></div> <div class="label-content">I have a VID</div> </label> </div> </div> '),t+=' <div class="aadhaar_vid--steps"> <h6>Steps to complete payment:</h6> <div class="aadhaar_vid--contents"> <div class="step"> <svg class="step-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3 5H1v16l2 2h16v-2H3V5zm11 10h2V5h-4v2h2v8zm7-14H7L5 3v14l2 2h14l2-2V3l-2-2zm0 16H7V3h14v14z" /></svg> ',e.showSDKView?t+=' <div> Copy the link and open in new tab to Generate/Retrieve 16 digit VID by using your Aadhaar Number & OTP <div id="emandate-uidai-copy"></div> </div> ':t+=" <div>Generate/Retrieve 16-digit VID by using your Aadhaar Number & OTP</div> ",t+=' </div> <div class="step"> <svg class="step-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3 5H1v16l2 2h16v-2H3V5zm18-4H7L5 3v14l2 2h14l2-2V3l-2-2zm0 16H7V3h14v14zm-4-4h-4v-2h2l2-2V7l-2-2h-4v2h4v2h-2l-2 2v4h6v-2z" /></svg> <div>Come back to this page and complete the payment using <strong>VID</strong> received on your Aadhaar <strong>registered mobile number</strong></div> </div> </div> </div></div>'};e={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},t=/&(?!#?\w+;)|<|>|"|'|\//g;bs.contents_aadhaar_vid=a}(),function(){var t,i,n={escape:!0,animation:!0,backdropclose:!0,onhide:null,onhidden:null},a=function(){t&&window.clearTimeout(t),t=null};Array.prototype.some&&["transition","WebkitTransition","MozTransition","OTransition"].some(function(e){if(l(document.documentElement.style[e]))return i=e+"Duration",!0});(window.Modal=function(e,a){z(n,function(e,t){e in a||(a[e]=t)}),this.options=a,this.container=B(e),this.animationDuration=this.options.animation&&i?300:0,this.listeners=[],this.show(),this.bind()}).prototype={show:function(){this.isShown||(this.isShown=!0,this.container.reflow().addClass("drishy"),a(),t=setTimeout(this.shown,this.animationDuration),this.container.focus())},shown:function(){a()},hide:function(){if(this.isShown){this.isShown=!1,this.container.removeClass("drishy"),a();var e=this;t=setTimeout(function(){e.hidden()},this.animationDuration),v(this.options.onhide)}},backdropHide:function(){this.options.backdropclose&&this.hide()},hidden:function(){a(),v(this.options.onhidden)},on:function(e,t,a){this.listeners.push(B(t).on(e,a,!1,this))},steal_focus:function(e){if(e.relatedTarget)return B(this).find(e.relatedTarget).length?void 0:this.focus()},bind:function(){/iP[hone|ad]/.test(navigator.userAgent)||"number"!=typeof window.pageYOffset||this.on("resize",window,function(){var e=document.activeElement;if(e){var t=e.getBoundingClientRect();if(t.bottom>innerHeight-70){var a=document.activeElement&&document.activeElement.type&&document.activeElement.type.toLowerCase()||"";a&&["text","password","number","date","email","tel"].indexOf(a)<0&&setTimeout(function(){A(pageYOffset-innerHeight+t.bottom+60)},400)}}}),this.options.escape&&this.on("keyup",window,function(e){27===(e.which||e.keyCode)&&(ws()||B("#overlay").hasClass(Te)||this.hide())}),this.options.backdropclose&&this.on("click",_("backdrop"),this.backdropHide)},destroy:function(){g(this.listeners),this.listeners=[]}}}();var J=document.createElement("div"),X=" selected",Q=" applied",ee="single-offer",te=function(e){return J.innerHTML=e,J.firstChild};function ae(e,t){var a=this;this.data=e,this.discount=e.original_amount-e.amount;var i=this.$el=te(bs.offer({name:e.name,description:e.display_text,discount:0<this.discount&&t.formatAmount(this.discount)})),n=i.querySelector(".offer-title"),s=i.querySelector(".remove-offer");n.onclick=function(){t.onOfferSelection(a)},s.onclick=function(){t.onOfferRemoval()}}var ie=ae.prototype;function ne(i,e,t,a,n,s,r){var o,c,l,d,u=te(bs.offers()),p=u.querySelector(".num-offers"),h=u.querySelector(".offers-title"),m=h.querySelector(".single-offer-text-content"),f=h.querySelector(".selected-offer .offer-title"),v=h.querySelector(".selected-offer .offer-title .discount"),g=v.querySelector(".discount-amount"),b=te(bs.offerslist()),y=b.querySelector(".offers-list-title"),k=b.querySelector(".offers-list"),w=b.querySelector(".apply-offer"),_=null,x=null,C=null,P=null,T=!1;function A(){b.remove()}function S(){return(T=!T)?(1===d.length&&I.selectOffer(d[0]),void r.appendChild(b)):A()}function M(){_&&(_.remove(),_=C=x=null)}function O(e){return k.appendChild(e.$el),e}var I={applyFilter:function(i){var e=Object.keys(i||{});k.innerHTML="",d=0<e.length?e.reduce(function(e,a){return e.reduce(function(e,t){return i[a]===t.data[a]&&(O(t),e.push(t)),e},[])},l):l.map(O),this.display(0!==d.length)},display:function(e){var t=!!u.parentElement;if(!e)return T=!1,A(),t&&i.removeChild(u);var a=d.length;return 1<a?(B(u).removeClass(ee),p.innerText=a+" Offer"+(1<a?"s":"")):(B(u).addClass(ee),m.innerText=d[0].data.name),o&&d.indexOf(o)<0&&this.removeOffer(),!t&&e&&i.appendChild(u)},applyOffer:function(){if(o!==c){o?o.remove():h.className=h.className+Q;var e=o=c,t=e.discount;return t?(g.innerHTML=s(t),f.appendChild(v)):(g.innerText="",v.remove()),e.apply(),!0}},selectOffer:function(e){c?c.deselect():b.className=b.className+X,(c=e).select()},removeOffer:function(){c&&(b.className=b.className.replace(X,""),c.deselect(),c=null),o&&(h.className=h.className.replace(Q,""),o.remove(),o=null)},showError:function(e,t){_=te(bs.offererror({offer:o,methodDescription:e,formatAmount:s})),x=_.querySelector(".text-btn.cancel"),C=_.querySelector(".text-btn.pay"),r.appendChild(_),P=t}};return Object.defineProperties(I,{appliedOffer:{get:function(){return o&&o.data}},selectedOffer:{get:function(){return c&&c.data}},numVisibleOffers:{get:function(){return d.length}}}),h.onclick=y.onclick=S,w.onclick=function(){var e=I.applyOffer();return S(),L.track("offers:apply",{type:V.BEHAV,data:o.data}),e&&a&&a(o)},r.addEventListener("click",function(e){if(_){var t=e.target,a=!1;C.contains(t)?(a=!0,L.track("offers:retry_screen:remove",{type:V.BEHAV,data:o.data}),I.removeOffer(),M(),n&&n()):x.contains(t)&&(L.track("offers:retry",{type:L.BEHAV,data:o.data}),M()),P&&(P(a),P=null)}}),l=d=e.map(function(e){return new ae(e,{onOfferSelection:function(e){I.selectOffer(e)},onOfferRemoval:function(){return L.track("offers:remove",{type:V.BEHAV,data:e}),I.removeOffer(),S(),n&&n()},formatAmount:s})}),I}ie.select=function(){this.isSelected||(this.isSelected=!0,this.$el.className=this.$el.className+X)},ie.deselect=function(){this.isSelected&&(this.isSelected=!1,this.$el.className=this.$el.className.replace(X,""))},ie.apply=function(){this.isApplied||(this.isApplied=!0,this.$el.className=this.$el.className+Q)},ie.remove=function(){this.isApplied&&(this.deselect(),this.isApplied=!1,this.$el.className=this.$el.className.replace(Q,""))};var se,re="#626A74",oe=navigator.userAgent,ce=window.preferences,le=window.CheckoutBridge,de=window.StorageBridge,ue=(window!==parent?parent:opener,N.id,j.TAB_TITLES),pe=Y.getDownBanks,he=Y.getPreferredBanks,me=W.wallets,fe=j.CONTACT_PATTERN,ve=j.EMAIL_PATTERN,ge=D.androidBrowser,be=!navigator.cookieEnabled,ye=D.getCustomer,ke=D.Customer,we=D.sanitizeTokens,_e=D.getQueryParams,xe=(/Android|iPhone|iPad/.test(oe),/iPhone/.test(oe)),Ce=xe,Pe=/MSIE |Trident\//.test(oe),Te="drishy",Ae="Sending OTP to ",Se="Your payment is being processed",Me="Redirecting to Bank page";function Oe(){return confirm("Ongoing payment. Press OK to abort payment.")}function ys(e,a){z(B(e).find("input[name],select[name]"),function(e,t){/radio|checkbox/.test(t.getAttribute("type"))&&!t.checked||t.disabled||(a[t.name]=t.value)})}function Ie(e){var t,a,i=window,n=i.document;i.getSelection&&n.createRange?(t=i.getSelection(),(a=n.createRange()).selectNodeContents(e),t.removeAllRanges(),t.addRange(a)):n.body.createTextRange&&((a=n.body.createTextRange()).moveToElementText(e),a.select())}function Be(e){var t=e.delegateTarget.parentNode;Ie(B(t).find(".copytoclipboard--text")[0]);try{document.execCommand("copy"),B(t).addClass("copied"),B(t).find(".copytoclipboard--label")[0].innerHTML="Copied"}catch(e){}}function Ee(e,t,a){var i=t.get("amount");t.isOfferApplicableOnIssuer(e.code)&&(i=t.getDiscountedAmount());var n="",s="merchant"===ce.methods.emi_subvention;return e.plans&&z(e.plans,function(e,t){n+=(a?"<option":'<div class="option"')+' value="'+e+'">'+e+" month EMI "+((t=s?0:t)?"@ "+t+"%":"")+" (₹ "+M.emi.calculator(i,e,t)/100+" per month)</"+(a?"option>":"div>")}),n}function Ne(e){var t=e.target,a=this.emi_options;if(t){var i,n=t.value,s=B("#elem-card .cardtype").attr("cardtype"),r=/^maestro/.test(s),o=5<n.length,c=n.replace(/[\ ]/g,""),l=6===c.length,d=c.length<6,u=6<c.length;B(t.parentNode).toggleClass("six",o);var p=_("nocvv");o?r?p.disabled&&De(!0):(z(a.banks,function(e,t){t.patt.test(n.replace(/ /g,""))&&(i=t)}),De(!1)):De(!1);var h=B("#emi-check-label").toggleClass("disabled",!i);i?(B("#expiry-cvv").removeClass("hidden"),B("#emi-plans-wrap .option")[0]||(_("emi-plans-wrap").innerHTML=Ee(i,this))):(h.find("input[type=checkbox]")[0].checked=!1,B(h.find(".active")[0]).removeClass("active")),Re({target:p});var m=B("#elem-emi"),f="hidden";r&&o?m.addClass(f):m.hasClass(f)&&v("removeClass",m,f,200),l||u?c.slice(0,6)!==this.flowIIN&&this.checkFlows(c.slice(0,6),e.isPrefilled):d&&(this.flowIIN=null,ze(!1))}}function ze(e){if(e){B("#add-card-container .flow-selection-container").addClass("drishy");var t=B("#add-card-container .flow.input-radio #flow-3ds");t[0]&&(t[0].checked=!0)}else{var a=B("#add-card-container .flow.input-radio input[type=radio]:checked");a[0]&&(a[0].checked=!1),B("#add-card-container .flow-selection-container").removeClass("drishy")}}function Re(e){var t=e.target,a=t.checked&&!t.disabled;B("#form-card").toggleClass("nocvv",a)}function De(e){B("#nocvv-check").toggleClass(Te,e),_("nocvv").disabled=!e}function Le(e){B(e).css("display","block").reflow().addClass(Te)}function Ve(e){(e=B(e))[0]&&(e.removeClass(Te),v("hide",e,null,200))}function ks(e){Le("#overlay"),e&&Le(e[0])}function He(e){Ve("#overlay"),e&&Ve(e[0])}function ws(){var e=B("#emi-wrap"),t=e.hasClass(Te);return t&&He(e),t}function Fe(){ws()||(B("#confirmation-dialog").hasClass("animate")?Ve(_("error-message")):He(B("#error-message")))}function _s(e){if(l(e))try{e=JSON.parse(e)}catch(e){return}if(e&&e.error){var t=e.error,a=t.description;if(this.powerwallet&&a===D.cancelMsg)this.powerwallet=null;else{if(this.clearRequest(),this.magic=!1,L.track("error",{data:e}),L.setMeta("payment.failed",!0),M.sendMessage({event:"paymenterror",data:{error:t}}),this.modal&&(this.modal.options.backdropclose=this.get("modal.backdropclose")),!1===this.get("retry"))return this.modal.hide();var i=t.field;if(i&&("otp"!==this.screen||"wallet"!==this.tab)){i.indexOf("expiry")||(i="card[expiry]");var n=document.getElementsByName(i)[0];if(n&&(!this.screen||"contact"!==i&&"email"!==i||this.switchTab(),n=B(n),setTimeout(function(){n.focus()},100),n.bbox().width)){var s,r=n.parent();if(r.hasClass("elem")&&(s=r.addClass("mature invalid").find(".help")[0]),s)return a&&B(s).html(a),this.shake(),Fe()}}/^magic*/.test(this.screen)&&this.switchTab("card"),(this.tab||a!==D.cancelMsg)&&(a&&0===a.indexOf("OFFER_MISMATCH")?(this.offers?(Fe(),this.showOffersError()):this.showLoadError("The Offer you selected is not applicable on this Payment Method",!0),L.track("offers:mismatch",{data:this.getAppliedOffer()})):this.showLoadError(a||"There was an error in handling your request",!0)),B("#fd-hide").focus()}}}function Ue(e){this.payload&&(this.magic=!1,L.setMeta("payment.cancelled",!0),"upi"===this.payload.method&&"intent"===this.payload["_[flow]"]?this.showLoadError("Payment did not complete.",!0):/^(card|emi)$/.test(this.payload.method)&&"card"!==this.screen&&this.switchTab("card"))}function qe(){return _("contact").value}function $e(e){_("otp-prompt").innerHTML=e}function Ke(e,t,a){window.handleOTP(e)}function je(e){if("android"===_e().platform&&(window.OTPElf?window.OTPElf.showOTP=Ke:window.OTPElf={showOTP:Ke}),d(e)&&(e=e.error&&e.error.description),B("#otp").val(""),B("#form-otp").removeClass("loading").removeClass("action"),B("#body").addClass("sub"),!e){var t=G.getSession();"card"===t.tab||"emi"===t.tab?(e="Enter OTP sent on "+qe()+"<br>to ",t.payload?e+="save your card":e+="access Saved Cards"):e="An OTP has been sent on<br>"+qe()}$e(e)}function Ye(e){h(je,750)(e)}function We(e){this.clearRequest(),this.modal.options.onhide=t,M.sendMessage({event:"complete",data:e}),this.hide()}function Ge(e){B("#error-message").addClass("cancel_upi"),e.r.on("payment.error",function(){B("#error-message").removeClass("cancel_upi")})}var Ze=["rzp_test_mZcDnA8WJMFQQD","rzp_live_ENneAQv5t7kTEQ","rzp_test_kD8QgcxVGzYSOU","rzp_live_alEMh9FVT4XpwM"];function xs(e){var t=e.options,a=this;this.r=M(t),this.get=this.r.get,this.set=this.r.set,this.tab=this.screen="",this.tab_titles=ue,z(e,function(e,t){"options"!==e&&(a[e]=t)}),this.ua_Android=ge,this.embedded&&B(i).addClass("embedded"),this.states=j.STATES,this.attemptCount=0,this.listeners=[],this.bits=[]}function Je(){this.showLoadError("Sending link to "+qe());var e=this.r;E.post({url:O(e,"invoices/"+e.get("invoice_id")+"/notify/sms"),callback:h(Fe,4e3)})}xs.prototype={getDecimalAmount:$,formatAmount:function(e){return(e/100).toFixed(2).replace(/(.{1,2})(?=.(..)+(\...)$)/g,"$1,").replace(".00","")},formatAmountWithCurrency:function(e){var t=e,a=this.formatAmount(t),i=this.r.get("display_currency");return t=i?D.currencies[i]+t:"INR"===this.r.get("currency")?"&#x20B9;<span class='amount-figure'>"+a+"</span>":"$"+a},data:e,params:e,track:function(e,t){N(this.r,e,t)},trackDebitPin:function(e,t){t?t.default_auth_type="3ds":t={default_auth_type:"3ds"},N(this.r,e,t)},getClasses:function(){var e=[];(window.innerWidth<450||xe||window.matchMedia&&matchMedia("@media (max-device-height: 450px),(max-device-width: 450px)").matches)&&(this.isMobile=!0,e.push("mobile"));var t=this.get,a=this.set;this.r.isLiveMode()||e.push("test"),this.forceRender&&e.push("rerender"),this.fontLoaded&&e.push("font-loaded"),t("theme.hide_topbar")&&e.push("notopbar");var i=t("key");if("rzp_live_z1RZhOg4kKaEZn"!==i&&"rzp_live_qqfsRaeiWx5JmS"!==i||(ce.order&&ce.order.partial_payment?e.push("extra"):e.push("address extra"),a("address",!0)),-1!==Ze.indexOf(i)&&(ue.upi="BHIM/UPI",ue.card="Debit/Credit Card",this.irctc=!0,this.r.set("theme.image_frame",!1)),f(this.methods.wallet)&&0<this.methods.wallet.length){var n="amazonpay";this.methods.wallet.sort(function(e,t){return e.code===n?-1:t.code===n?1:0});var s=this.methods.wallet.length,r=this.methods.wallet.slice(0,2).map(function(e){return e.name});this.walletsDesc=s<=2?r.join(" and "):r.join(", ")+" & More"}return t("theme.emi_mode")&&(ue.card="Card",this.emiMethod=!0,e.push("emi-method"),5===this.methods.count&&B("#body").addClass("long")),t("ecod")&&e.push("ecod"),t("image")||e.push("noimage"),xe&&e.push("ip"),this.extraFields&&e.push("extra"),this.emandate&&e.push("emandate"),Pe&&e.push("noanim"),e.join(" ")},getEl:function(){var t,e,a=this.r;if(!this.el){this.order&&this.order.partial_payment&&!a.get("prefill.amount")&&(this.extraFields=!0);var i=this.getClasses(),n=a.get("ecod");n&&(a.get("prefill.email")||a.set("prefill.email","void@razorpay.com"),a.get("prefill.contact")||a.set("prefill.contact",""+ce.customer.contact));var s=document.createElement("div"),r=this.renderCss();s.innerHTML=bs.modal(this),this.el=s.firstChild,this.applyFont(this.el.querySelector("#powered-link")),document.body.appendChild(this.el),this.el.appendChild(r),this.body=B("#body"),this.invoice&&(a.set("order_id",this.invoice.order_id),n&&(e=O((t=this).r,"invoices/"+t.get("invoice_id")+"/status"),setTimeout(function(){t.ajax=E({url:e,callback:function(e){e.error?_s.call(t,e):e.razorpay_payment_id&&We.call(t,e)}}).till(function(e){return e&&e.status})},6e3))),n&&(a.set("prefill.method","wallet"),a.set("theme.hide_topbar",!0),_("form-wallet").insertBefore(_("pad-common"),_("ecod-label"))),B(this.el).addClass(i)}return this.el},fillData:function(){var e=this.data.method;e&&(this.wants_skip=!0);var t=e||this.get("prefill.method");if(t){var a=this.optional,i={email:this.get("prefill.email"),contact:this.get("prefill.contact")},n=!0;z(["contact","email"],function(e,t){!n||i[t]||a[t]||(n=!1,_s.call(G.getSession(),{error:{field:t}}))}),n||(t="")}!t||this.order&&this.order.bank||this.switchTab(t);var s=this.get("prefill.wallet");if(s){var r=B("#wallet-radio-"+s);if(r&&r[0]){r.prop("checked",!0),B("#body").addClass("sub");var o=B("#wallets")[0].parentElement;r=r[0].parentElement,window.setTimeout(function(){var e=o.getBoundingClientRect().top+o.clientHeight,t=r.getBoundingClientRect().top+r.clientHeight;o.scrollTop=o.scrollTop+t-e},200)}}if(this.hasOwnProperty("data")){var c=this.data,l=c["card[expiry_month]"],d=c["card[expiry_year]"];l&&d&&(c["card[expiry]"]=l+" / "+d),z({contact:"contact",email:"email",bank:"bank-select","card[name]":"card_name","card[number]":"card_number","card[expiry]":"card_expiry","card[cvv]":"card_cvv"},function(e,t){var a=_(t),i=c[e];a&&i&&(a.value=i)})}},completePendingPayment:function(){var a=this;try{var e,t;t=de.getString(j.PENDING_PAYMENT_TS),t=parseInt(t,10)||0;var i=a.activity_recreated;if(t)if(i&&m()-t<=6e4*j.MINUTES_TO_WAIT_FOR_PENDING_PAYMENT)e=de.getString(j.UPI_POLL_URL);else{var n={};n[j.UPI_POLL_URL]="",n[j.PENDING_PAYMENT_TS]="0",this.setParamsInStorage(n)}if(e){this.switchTab("upi"),this.showLoadError(),this.isResumedPayment=!0,this.ajax=E({url:e,callback:function(e){if(e.razorpay_payment_id)v(We,a,e);else{var t=e.error;d(t)||t.description||(e=D.error("Payment failed")),v(_s,a,e)}}}).till(function(e){return e&&e.status});var s=function(){a.ajax.abort(),a.showLoadError("Payment did not complete.",!0),a.clearRequest({"_[method]":"upi","_[flow]":"intent","_[reason]":"UPI_INTENT_BACK_BUTTON"})};this.recievedUPIIntentRespOnBackBtn?s():this.r.once("activity_recreated_upi_intent_back_btn",function(){s()})}}catch(e){}},setParamsInStorage:function(e){z(e,function(e,t){try{de.setString(e,t)}catch(e){}})},checkTez:function(){var e=this;if(!window.CheckoutBridge&&H.checkKey(e.get("key"))){this.tezMode="desktop";var t=B("#form-upi"),a=B("#upi-tez");t.addClass("show-tez"),H.check(function(){e.tezMode="mobile",a.removeClass("tez-desktop"),a.addClass("tez-mweb"),z(a.find(".desktop-only"),function(e,t){t.remove()}),L.track("tez:mweb:visible")})}},render:function(e){var i=this;((e=e||{}).forceRender&&(this.forceRender=!0,this.close()),this.upi_intents_data)&&(1===D.UPIUtils.getNumberOfAppsByCategory(this.upi_intents_data).preferred&&1<this.upi_intents_data.length&&(this.showRecommendedUPIApp=!0));this.isOpen=!0,this.setTpvBanks(),this.getEl(),this.setFormatting(),this.setEmandate(),this.checkTez(),this.fillData(),this.setEMI(),this.improvisePaymentOptions(),this.setModal(),this.completePendingPayment(),this.bindEvents(),_s.call(this,this.params);var t,a,n=this.hasOffers,s=this.forcedOffer;if(s)"original_amount"in s&&"amount"in s&&s.amount!==s.original_amount&&(this.showDiscount(s),L.track("offers:forced_with_discount",{data:s}));else if(n){var r,o=ce.offers.filter(function(t){var e=t.payment_method,a=i.methods;return"wallet"!==e?a[e]:f(a.wallet)&&a.wallet.filter(function(e){return e.code===t.issuer})[0]}),c=B("#body #offers-container");0<o.length&&(this.offers=ne(c[0],o,0,this.handleOfferSelection.bind(this),this.handleOfferRemoval.bind(this),this.formatAmountWithCurrency.bind(this),B("#body")[0]),this.renderOffers(this.screen),c.on("click",function(e){(r=r||this.querySelector(".offers-title"))&&r.contains(e.target)&&L.track("offers:list_view:screen:"+(i.screen||"home"),{data:i.offers.appliedOffer})}))}if(this.tab||this.get("prefill.contact")||B("#contact").focus(),this.closeAt){var l=this.closeAt-m(),d=B("#timeout").show()[0];B("#body").addClass("has-timeout");var u=(t=d,a=this.closeAt,function(){var e=Math.floor((a-m())/1e3);t.innerHTML="Payment will expire in "+Math.floor(e/60)+":"+("0"+e%60).slice(-2)+" minutes"});if(u(),this.isMobile){var p=_("modal");p.insertBefore(d,p.firstChild)}var h=this;this.closeTimer=setInterval(u,1e3),this.closeTimeout=setTimeout(function(){clearInterval(h.closeTimer),h.dismissReason="timeout",h.modal.hide()},l)}this.get("prefill.card[number]")&&Ne.call(this,{target:_("card_number"),isPrefilled:!0}),this.all_upi_intents_data&&D.UPIUtils.findAndReportNewApps(this.all_upi_intents_data),L.track("complete",{type:V.RENDER}),L.setMeta("timeSince.render",D.timer())},setTpvBanks:function(){var e,t,a=this.get();this.order&&"upi"===this.order.method&&(this.upiTpv=!0),a["prefill.bank"]&&!a.recurring&&(this.tab=this.oneMethod="netbanking"),this.order&&this.order.bank&&(e=this.order.bank,t=this.order.account_number,!this.order.method&&this.methods.upi&&this.methods.netbanking&&(this.multiTpv=!0));var i=this.methods.netbanking;e&&i&&(this.tpvBank={name:"object"==typeof i[e]?i[e].name:i[e],code:e,account_number:t,image:"https://cdn.razorpay.com/bank/"+e+".gif"})},setEMI:function(){!this.emi&&this.methods.emi&&(B(this.el).addClass("emi"),this.emi=new D.emiView(this))},setEmandate:function(){this.emandate&&this.methods.emandate&&(this.emandateView=new D.emandateView(this))},setMagic:function(){!this.magicView&&this.magic&&(B(this.el).addClass("magic"),this.magicView=new Qe(this),this.magicView.setTimeout(Xe,{timeout:Xe,type:"magic_no_action"})),this.magicView&&(this.magicView.resendCount=0),B("#magic-wrapper").removeClass("hide-resend")},destroyMagic:function(){this.magicView&&(B(this.el).removeClass("magic"),this.magicView.destroy(),delete this.magicView),this.get("redirect")&&B("#error-message .link").hide()},setModal:function(){if(!this.modal){var e=this;this.modal=new window.Modal(this.el,{escape:this.get("modal.escape")&&!this.embedded,backdropclose:this.get("modal.backdropclose"),onhide:function(){M.sendMessage({event:"dismiss",data:e.dismissReason})},onhidden:p(function(){this.saveAndClose(),M.sendMessage({event:"hidden"})},this)})}},setOneMethod:function(e){this.oneMethod=e;var t=document.createElement("span");t.className="proceed-btn",this.get("amount")?t.innerHTML="Pay by "+ue[e]:t.innerHTML="Authenticate",B("#footer").append(t),B(this.el).addClass("one-method"),B(".payment-option").addClass("submit-button button")},improvisePaymentOptions:function(){if(this.optional.contact&&(this.optional.email&&B(this.el).addClass("no-details"),B("#top-right").hide()),1===this.methods.count){var t=this;["card","emi","netbanking","emandate","upi","wallet"].some(function(e){if(t.methods[e])return t.setOneMethod(e),!0})}this.upiTpv&&this.setOneMethod("upi")},renderCss:function(){var e=document.createElement("div"),t=document.createElement("style");t.type="text/css";try{var a=this.get;e.style.color=a("theme.color"),e.style.color||(a()["theme.color"]=""),this.setTheme();var i=bs.theme(a,this.themeMeta);t.styleSheet?t.styleSheet.cssText=i:t.appendChild(document.createTextNode(i))}catch(e){n("renderCss",e)}return t},setTheme:function(){this.r.postInit();var e=this.r.themeMeta,t=e.color,a=F.getColorVariations(t),i=F.getHoverStateColor(t,a.backgroundColor,re),n=F.getActiveStateColor(t,a.backgroundColor,re),s=i;(e=this.themeMeta=Object.create(this.r.themeMeta)).secondaryHighlightColor=s,e.hoverStateColor=i,e.activeStateColor=n,e.icons=K.getIcons(a)},applyFont:function(e,t){if(t||(t=0),3<e.offsetWidth/e.offsetHeight)B(this.el).addClass("font-loaded"),this.fontLoaded=!0;else if(t<25){var a=this;se=setTimeout(function(){a.applyFont(e,++t)},120+50*t)}},hideErrorMessage:function(e){var t=this;if(this.r._payment&&this.payload&&"upi"===this.payload.method&&"directpay"===this.payload["_[flow]"])return Ge(this);if(this.r._payment||this.isResumedPayment){if(!0===e)return this.clearRequest();if(this.r._payment.isMagicPayment)return U.show({message:"Your payment is ongoing. Are you sure you want to cancel the payment?",heading:"Cancel Payment?",positiveBtnTxt:"Yes, cancel",negativeBtnTxt:"No",onPositiveClick:function(){t.hideErrorMessage(!0)}});if(!Oe())return;this.clearRequest()}Fe()},shake:function(){this.el&&B(this.el.querySelector("#modal-inner")).removeClass("shake").reflow().addClass("shake")},click:function(e,t,a,i){this.on("click",e,t,a,i)},on:function(a,e,i,n,t){var s=this.listeners;if(n&&!0!==n){var r=this,o=B(e);return s.push(o.on(a,function(e){for(var t=e.target;t!==o[0]&&B(t)[0];){if(B(t).hasClass(i)){e.delegateTarget=t,v(n,r,e);break}t=t.parentNode}},t))}z(w(e),function(e,t){s.push(B(t).on(a,i,n,this))},this)},resendOTP:function(){L.track("otp:resend",{type:V.BEHAV,data:{wallet:"wallet"===this.tab}}),this.showLoadError(Ae+qe()),"wallet"===this.tab?this.r.resendOTP(this.r.emitter("payment.otp.required")):this.customer.createOTP(Ye)},secAction:function(){L.track("saved_cards:skip",{data:{while_submitting:!!e}}),B("#save").attr("checked",0),this.wants_skip=!0;var e=this.payload;e?(delete e.save,delete e.app_token,this.submit(),this.setScreen("card"),this.showLoadError()):this.showCardTab()},addFunds:function(e){$e("Loading..."),B("#add-funds").removeClass("show"),B("#form-otp").removeClass("action").addClass("loading").css("display","block"),this.r.topupWallet()},extraNext:function(){var e=B("#pad-common .invalid");if(e[0])return e.addClass("mature").$(".input").focus();var t=_("amount-value");if(t){var a=t.value;z(w(".amount-figure"),function(e,t){B(t).html(a)});var i=this.get();i.amount=100*a,i["prefill.contact"]=_("contact").value,i["prefill.email"]=_("email").value,this.render({forceRender:!0})}B(this.el).addClass("show-methods")},askUPI2FPermission:function(t){var a=this,e=D.UPIUtils.getAppByPackageName(t),i={};try{i=JSON.parse(de.getString("rzp_upi_2f_consent"))}catch(e){}var n=function(){var e=B("#upi-apps input:checked");e[0]&&(e[0].checked=!1),L.track("upi:2f:consent:dismiss",{type:V.BEHAV,data:{package_name:t,consent:!1}}),B("#body").toggleClass("sub",!1)};L.track("upi:2f:consent",{type:V.RENDER,data:{package_name:t}}),U.show({position:"middle",message:"To make a UPI payment, you need to have a UPI ID linked to your bank account.",heading:"Are you registered for UPI on "+(e.name||e.app_name||"this app")+"?",layout:"rtl",positiveBtnTxt:"Yes, Proceed",negativeBtnTxt:"No, Go Back",onHide:n,onNegativeClick:n,onPositiveClick:function(){i[t]=!0,a.shouldAskUPI2FPermission=!1;try{de.setString("rzp_upi_2f_consent",JSON.stringify(i))}catch(e){}L.track("upi:2f:consent:agree",{type:V.BEHAV,data:{package_name:t,consent:!0}});var e=B("#overlay");setTimeout(function(){e.css("display","block"),e.addClass(Te)},300),a.preSubmit.call(a)}})},bindEvents:function(){var i=this,t=this.emi_options,e=this.el;this.click("#partial-back",function(){B(e).removeClass("show-methods")}),this.on("change","#partial-select-partial",function(e){var t=B("#amount-value").parent();if(e.target.checked)B("#amount-value").val(null),B("#amount-value").focus(),t.addClass("mature");else{var a=this.order.amount_due;B("#amount-value").val(this.getDecimalAmount(a)),C(t,!0),this.get().amount=a,B("#amount .amount-figure").html(this.formatAmount(a));var i=B(".partial-payment-block .subtitle--help");i&&i.html("Pay some amount now and remaining later.")}}),this.click("#next-button","extraNext"),this.on("focus","#body","input","focus",!0),this.on("blur","#body","input","blur",!0),this.on("input","#body","input",function(e){this.input(e.target)},!0),this.on("focus","#vpa",function(){B("#form-upi").scrollTo(window.innerHeight);var e=_("upi_app-directpay");e&&(e.checked=!0,B("#body").addClass("sub"))}),this.get("theme.close_button")&&this.click("#modal-close",function(){this.get("modal.confirm_close")&&!Oe()||this.hide()}),this.click("#top-left",this.back),this.click(".payment-option",function(e){L.track("payment_method:select",{type:V.BEHAV,data:{disabled:B(e.currentTarget).hasClass("disabled"),method:e.currentTarget.getAttribute("tab")||""}}),B(e.currentTarget).hasClass("disabled")||this.switchTab(e.currentTarget.getAttribute("tab")||"")}),this.on("submit","#form",this.preSubmit),this.click("#otp-action",this.back),this.click("#otp-resend",this.resendOTP),this.click("#otp-sec",this.secAction),this.click("#add-funds-action",this.addFunds),this.click("#choose-payment-method",function(){this.switchTab()});var a=this.methods;(a.card||a.emi)&&(this.on("keyup","#card_number",Ne),this.on("blur","#card_number",Ne),this.on("change","#nocvv",Re),k("#save")&&this.on("change","#save",function(e){L.track("card:save:change",{type:V.BEHAV,data:{active:e.target.checked}})}),this.on("change","#emi-bank",function(e){B("#elem-emi select")[0].innerHTML=Ee(t.banks[e.target.value],this,!0)}),this.click("#show-add-card",this.toggleSavedCards),this.click("#show-saved-cards",this.toggleSavedCards),this.on("click","#saved-cards-container","saved-card",this.setSavedCard),this.on("click","#saved-cards-container","nocvv-checkbox",function(e){var t=e.delegateTarget,a=t.checked,i=B(t.parentNode.parentNode).qs("input.saved-cvv");a?B(i).css("display","none"):B(i).css("display","block")}));if(this.on("click","#top-right",function(){B("#top-right").addClass("focus");var a=this,i=B("#container").on("click",function(e){if("LI"===e.target.tagName){var t=a.customer;t.logged=!1,t.tokens=null,a.setSavedCards(),B("#top-right").removeClass("logged"),t.logout(e.target.parentNode.firstChild===e.target)}return i(),B("#top-right").removeClass("focus"),x(e)},!0)}),(a.netbanking||a.emandate)&&(this.on("change","#bank-select",this.switchBank),this.on("change","#netb-banks",this.selectBankRadio,!0)),a.wallet)try{this.on("change","#wallets",function(e){if(Ce&&M.sendMessage({event:"blur"}),this.get("ecod")){B(this.el).removeClass("notopbar");var t=B(e.target).attr("tab");"ecod"!==t&&B("#footer").css("display","block"),t?this.switchTab(t):this.preSubmit()}else{var a=e.target.value;L.track("wallet:select",{type:V.BEHAV,data:{wallet:a,power:D.WalletUtils.isPowerWallet(a)}}),B("#body").toggleClass("sub",a),B("#wallets").removeClass("invalid")}},!0),this.on("click",'#wallets [name="wallet"]',function(t){if(!this.validateOffers(t.target.value))return t.preventDefault(),t.stopPropagation(),void this.showOffersError(function(e){return e&&t.target.click()})})}catch(e){}a.upi&&(this.click("#cancel_upi .btn",function(){var e=B("#cancel_upi input:checked");if(e[0]){var t={};t[e.prop("name")]=e.val(),this.clearRequest(t),B("#error-message").removeClass("cancel_upi")}}),this.click("#cancel_upi .back-btn",function(){B("#error-message").removeClass("cancel_upi")}),this.on("click","#upi-directpay",function(){B("#vpa").focus()}),this.on("click","#vpa",function(){B("#upi-directpay label")[0].dispatchEvent(new MouseEvent("click"))}),this.on("change","#form-upi",function(e){var t=e.target.value,a={};try{a=JSON.parse(de.getString("rzp_upi_2f_consent"))}catch(e){}D.UPIUtils.isSecondFactorApp(t)&&!a[t]?i.shouldAskUPI2FPermission=!0:i.shouldAskUPI2FPermission=!1,B("#body").toggleClass("sub",e.target.value),L.track("upi:app:select",{type:V.BEHAV,data:{package_name:t,showRecommended:Boolean(i.showRecommendedUPIApp),recommended:Boolean(i.showRecommendedUPIApp&&D.UPIUtils.isPreferredApp(t))}})})),this.get("ecod")&&this.click("#ecod-resend",Je);var n="#error-message .link";this.get("redirect")?B(n).hide():this.click(n,function(){if(this.payload&&"upi"===this.payload.method){if("directpay"===this.payload["_[flow]"])return Ge(this);"intent"===this.payload["_[flow]"]&&this.hideErrorMessage()}this.r.focus()}),this.click("#backdrop",this.hideErrorMessage),this.click("#overlay",function(e){B("#confirmation-dialog").hasClass("animate")||this.hideErrorMessage(e)}),this.click("#fd-hide",this.hideErrorMessage),this.on("change","#body","auth_type_radio",function(e){var t=e.target;t&&t.name&&0===t.name.indexOf("auth_type")&&i.trackDebitPin("flow_option_changed",{flow:t.value||null})}),this.on("click","#body","copytoclipboard--text",function(e){Ie(e.target)}),this.on("click","#body","copytoclipboard--btn",Be),this.on("click","#form-upi.collapsible .item",function(e){B("#form-upi.collapsible .item.expanded").removeClass("expanded"),B(e.currentTarget).addClass("expanded")})},setPayButtonText:function(e){B(".pay-btn").html(e)},focus:function(e){B(e.target.parentNode).addClass("focused"),Ce&&M.sendMessage({event:"focus"})},blur:function(e){B(e.target.parentNode).removeClass("focused").addClass("mature"),this.input(e.target),Ce&&M.sendMessage({event:"blur"})},input:function(e){var t=e.value,a=l(e.getAttribute("required")),i=e.getAttribute("pattern"),n=B(e.parentNode);if(n.toggleClass("filled",t),a||i){var s=!0;a&&!t&&(s=!1),a||t?s&&i&&(s=new RegExp(i).test(t)):s=!0,C(n,s)}},refresh:function(){var a=this;z(w(".input"),function(e,t){a.input(t)})},setFormatting:function(){var o=this;o.refresh();o.bits;var e=o.delegator=M.setFormatter(o.el),c=_("amount-value");if(o.methods.card||o.methods.emi){var t=_("card_number"),a=_("card_expiry"),i=_("card_cvv"),n=_("card_name");try{i&&("text"===i.type&&(i.type="number"),void 0===getComputedStyle(a)["-webkit-text-security"]&&(i.type="password"))}catch(e){}e.card=e.add("card",t).on("network",function(){var e=this.type,t="amex"!==e?3:4;i.maxLength=t,i.pattern="^[0-9]{"+t+"}$",B(i).toggleClass("amex","amex"===e).toggleClass("maestro","maestro"===e),ce.methods.amex||"amex"!==e?B("#elem-card").removeClass("noamex"):B("#elem-card").addClass("noamex"),o.input(i),this.el.parentNode.querySelector(".cardtype").setAttribute("cardtype",e)}).on("change",function(){var e=this.isValid(),t=this.type;ce.methods.amex||"amex"!==t||(e=!1),C(B(this.el.parentNode),e),e&&this.el.value.length===this.caretPosition&&"maestro"!==this.type&&v("focus",a,null,0)}),e.expiry=e.add("expiry",a).on("change",function(){o.input(a);var e=this.isValid();C(B(this.el.parentNode),e),e&&this.el.value.length===this.caretPosition&&v("focus",n.value?i:n)}),e.cvv=e.add("number",i).on("change",function(){o.input(this.el)})}c&&(e.amount=e.add("amount",c).on("change",function(){o.input(c);var e=100*this.value,t=o.order.partial_payment?o.order.amount_due:o.order.amount,a=100<=e&&e<=t;C(B(this.el.parentNode),a);var i=o.order.amount_due,n=o.formatAmount(i),s=B(".partial-payment-block .subtitle--help");if(a)B("#amount .amount-figure").html(o.formatAmount(e)),e&&_("partial-select-partial").checked&&s&&s.html("Pay remaining ₹"+o.formatAmount(i-e)+" later.");else{var r=B("#amount-value + .help");B("#amount .amount-figure").html(n),r&&(e?e>o.order.amount_due?r.html("Amount cannot exceed ₹"+n):e<100&&r.html("Minimum payable amount is ₹1"):r.html("Please enter a valid amount upto ₹"+n)),s&&s.html("Pay some amount now and remaining later.")}}));var s=_("contact");s&&!s.readOnly&&(e.contact=e.add("phone",s).on("change",function(){o.input(this.el)})),e.otp=e.add("number",_("otp")).on("change",function(){o.input(this.el)});var r=_("pincode");r&&e.add("number",r).on("change",function(){o.input(this.el),6===this.value.length&&B("#state").focus()})},setScreen:function(e){if(e!==this.screen){if(L.track("screen:switch",{data:{from:this.screen,to:e}}),L.setMeta("screen",e),L.setMeta("timeSince.screen",D.timer()),"otp"===this.screen&&"card"!==e&&(this.preSelectedOffer=null),this.screen=e,B("#body").attr("screen",e),Ve(".screen."+Te),e){var t="emi"===this.tab?"EMI":ue[this.cardTab||e];t=/^magic/.test(e)?ue.card:t,_("tab-title").innerHTML=t,Le("#topbar"),B(".elem-email").addClass("mature"),B(".elem-contact").addClass("mature")}else Ve("#topbar");"emandate"===e&&(e="netbanking");var a="#form-"+(e||"common");Le(a),"upi"===e&&this.upi_intents_data||v("focus",k(a+" .invalid input"));var i=e;return("wallet"===e&&!B(".wallet :checked")[0]||"upi"===e&&this.upi_intents_data&&!B("#form-upi .item :checked")[0]||"magic-choice"===e&&!B("#form-magic-choice .item :checked")[0])&&(i=!1),this.body.toggleClass("sub",i),this.offers&&this.renderOffers(e)}},renderOffers:function(e){if(["","card","netbanking","wallet","upi"].indexOf(e)<0)return B("#body").removeClass("has-offers"),this.offers.display(!1);(this.offers.appliedOffer||this.offers.selectedOffer)&&(this.offers.removeOffer(),this.handleOfferRemoval()),this.offers.applyFilter(e&&{payment_method:e}||{}),this.preSelectedOffer&&(this.offers.selectOffer(this.preSelectedOffer),this.handleOfferSelection(this.preSelectedOffer,e),this.offers.applyOffer(),this.preSelectedOffer=null),B("#body").toggleClass("has-offers",0<this.offers.numVisibleOffers)},handleOfferSelection:function(e,t){var a=e;if((e=e.data).original_amount>e.amount&&this.showDiscount(e),!(t=t||this.screen))return this.preSelectedOffer=a,this.switchTab(e.payment_method),this.handleOfferSelection(a,e.payment_method);var i=e.issuer;"wallet"===t?B("#wallet-radio-"+i).click():"netbanking"===t&&i&&(B("#bank-select").val(i),this.switchBank({target:{value:i}}))},handleOfferRemoval:function(){this.hideDiscount()},showDiscount:function(e){B("#content").addClass("has-discount");var t=this.formatAmountWithCurrency(e.amount);B("#amount .discount")[0].innerHTML=t,B("#footer .discount")[0].innerHTML=t},hideDiscount:function(){B("#content").removeClass("has-discount"),B("#amount .discount").html(""),B("#footer .discount").html("")},back:function(e){var t="",a=this;if(L.track("back",{type:V.BEHAV}),this.get("ecod"))B("#footer").hide(),B("#wallets input:checked").prop("checked",!1),B(this.el).addClass("notopbar"),t="wallet";else if("otp"===this.screen&&"card"!==this.tab)t=this.tab;else if("card"===this.tab&&/^magic/.test(this.screen)){if(!0!==e)return U.show({message:"Your payment is ongoing. Are you sure you want to cancel the payment?",heading:"Cancel Payment?",positiveBtnTxt:"Yes, cancel",negativeBtnTxt:"No",onPositiveClick:function(){a.back(!0)}});t="card",this.clearRequest()}else if(/^emandate/.test(this.screen)){if(this.emandateView.back())return}else{if(this.get("theme.close_method_back"))return this.modal.hide();t=""}if("wallet"===t&&"otp"===this.screen){if(!Oe())return;this.clearRequest()}this.switchTab(t)},switchTab:function(e){if(this.tab||!this.checkInvalid("#pad-common")){if(L.track("tab:switch",{data:{from:this.tab,to:e}}),L.setMeta("tab",e),L.setMeta("timeSince.tab",D.timer()),e){"credit_card"===e||"debit_card"===e?(this.cardTab=e,e="card"):this.cardTab=null;var t=qe();if(!t&&!this.optional.contact||!1===this.get("method."+e))return;this.customer=ye(t),this.customer.logged&&!this.local&&B("#top-right").addClass("logged"),B("#user").html(t)}else this.payload=null,this.clearRequest();if(/^emandate/.test(e))return this.emandateView.showTab(e);this.body.attr("tab",e),"ecod"===(this.tab=e)&&Je.call(this),"card"===e||"emi"===e?this.showCardTab(e):(this.setScreen(e),Ce&&M.sendMessage({event:"blur"}))}},showCardTab:function(e){var t="emi"===e;B("#elem-emi select")[0].required=B("#emi-bank")[0].required=t,t||(B("#emi-bank").parent().removeClass("invalid"),B("#elem-emi .elem").removeClass("invalid")),B("#otp-elem").removeClass("fourdigit"),B("#otp").attr("maxlength",6);var a=this,i=a.customer,n=a.get("remember_customer");if(B("#form-card").toggleClass("save-enabled",n),!n)return a.setScreen("card");ue.otp=ue.card,B("#otp-sec").html("Skip saved cards"),i.logged||this.wants_skip?a.showCards():(a.commenceOTP("saved cards",!0),i.checkStatus(function(){a.recurring||i.saved&&!i.logged?je():a.showCards()}))},showCards:function(){this.setSavedCards(),this.setScreen("card")},deleteCard:function(e){var t=B(e.target);if(t.hasClass("delete")){var a=t.parent().parent();confirm("Press OK to delete card.")&&this.customer.deleteCard(a.find("[type=radio]")[0].value,function(){a.remove()})}},setSavedCard:function(e){var t=B(e.delegateTarget);if(("emi"!==this.tab||l(t.attr("emi")))&&e.delegateTarget!==B("#saved-cards-container .checked")[0]){B("#saved-cards-container .checked").removeClass("checked"),t.addClass("checked");t.$(".cardtype").attr("cardtype");e.target&&e.target===t.find('select[name="emi_duration"]')[0]||t.$(".saved-cvv").focus(),t.$(".flow-selection-container")[0]&&this.trackDebitPin("saved_card_with_flows_selected")}},setSavedCards:function(){var e=this.customer,t=e&&e.tokens&&e.tokens.count,a=(B("#form-card"),this.delegator);if(a||(a=this.delegator=M.setFormatter(this.el)),t&&w(".saved-card").length!==e.tokens.items.length){try{e.tokens.items.sort(function(e,t){return t.card&&!!t.card.emi})}catch(e){}_("saved-cards-container").innerHTML=bs.savedcards({tokens:e.tokens,emi_mode:this.get("theme.emi_mode"),amount:this.get("amount"),session:this,emi:this.methods.emi,emi_options:this.emi_options,recurring:this.recurring})}t&&this.setSavedCard({delegateTarget:k(".saved-card")}),this.savedCardScreen=t,this.toggleSavedCards(!!t),B("#form-card").toggleClass("has-cards",t),z(w(".saved-cvv"),function(e,t){a.add("number",t)})},toggleSavedCards:function(e){var t=B("#form-card"),a="saved-cards";"boolean"!=typeof e&&(e=!t.hasClass(a),L.track("saved_cards:toggle",{type:V.BEHAV,data:{from:t.hasClass(a)?"saved":"new"}})),B("#elem-emi").removeClass("hidden"),B("#emi-plans-wrap .active").removeClass("active"),B("#emi-check-label input[type=checkbox]")[0].checked=!1;var i=B("#saved-cards-container");if(e)this.setSavedCard({delegateTarget:k(".saved-card")}),v("addClass",i,"scroll",300);else{try{document.activeElement&&document.activeElement.blur()}catch(e){}i.removeClass("scroll")}this.savedCardScreen=e,t.toggleClass(a,e)},switchBank:function(e){var t=e.target.value;L.track("bank:select",{type:V.BEHAV,data:{bank:t}}),this.checkDown(t),this.checkBankRadio(t),this.proceedAutomaticallyAfterSelectingBank()},checkBankRadio:function(a){z(w("#netb-banks input"),function(e,t){B(t.parentNode).removeClass("active"),t.value===a?(B(t.parentNode).addClass("active"),t.checked=!0):t.checked&&(B(t.parentNode).removeClass("active"),t.checked=!1)})},checkDown:function(e){B(".down").toggleClass("vis",-1!==a(this.down,e)).$(".text").html((this.methods.netbanking||this.methods.emandate)[e])},validateOffers:function(e,t){return!this.offers||!this.offers.appliedOffer||this.offers.appliedOffer.issuer===e},selectBankRadio:function(e){Ce&&M.sendMessage({event:"blur"});var t=e.target.value;L.track("bank:select",{type:V.BEHAV,data:{bank:t}}),this.checkDown(t);var a=_("bank-select");a.value=t,this.input(a),this.proceedAutomaticallyAfterSelectingBank()},deselectBank:function(e){var t=_("bank-select");t&&(t.value=""),this.checkBankRadio("")},proceedAutomaticallyAfterSelectingBank:function(){if(B(this.el).hasClass("emandate")&&this.emandateView){if(this.checkInvalid())return;return this.emandateView.showBankOptions(B("#bank-select").val())}},checkInvalid:function(e){if(!e){e=this.getActiveForm();var t=this.payload;if(t&&"wallet"===t.method&&!t.wallet)return B("#wallets").addClass("invalid")}var a=B(e).find(".invalid");if(a&&a[0]){this.shake();var i=B(a[0]).find(".input")[0];return i&&i.focus(),z(a,function(e,t){B(t).addClass("mature")}),!0}},getActiveForm:function(){var e=this.tab||"common";return"card"===e||"emi"===e?"#"+(this.savedCardScreen?"saved-cards":"add-card")+"-container":("emandate"===e&&(e="netbanking"),"#form-"+e)},getFormData:function(){var e=this.tab,a={};ys("#pad-common",a);var t=this.get("prefill.email"),i=this.get("prefill.contact"),n=this.optional;if(n&&(!n.contact||i&&fe.test(i)?a.contact&&(a.contact=a.contact.replace(/\ /g,"")):delete a.contact,!n.email||t&&ve.test(a.email)||delete a.email),e){if(a.method=e,ys(this.getActiveForm(),a),z(a,function(e,t){0===e.indexOf("auth_type-")&&delete a[e]}),"card"===this.screen){if(this.savedCardScreen){var s=B(".saved-card.checked");a.token=s.attr("token"),a["card[cvv]"]=s.$(".saved-cvv").val();var r=s.$(".flow.input-radio input:checked");(r=r[0]&&r.val())&&(a.auth_type=r)}else{"emi"===e&&(a.emi_duration=B("#elem-emi .input").val());var o="card[number]";a[o]=a[o].replace(/\ /g,"")}a.emi_duration||(a.method="card",delete a.emi_duration)}"upi"===this.screen&&(a.upi_app&&"directpay"===a.upi_app&&(a["_[flow]"]="directpay",delete a.upi_app),"directpay"!==a["_[flow]"]&&("tez"===a["_[flow]"]&&"desktop"===this.tezMode?a.vpa=a.tez_username+"@"+a.tez_bank:delete a.vpa),"tez_username"in a&&(delete a.tez_username,delete a.tez_bank))}return a},hide:function(e){var t=this;if(this.isOpen){if(!0!==e&&this.r._payment&&this.r._payment.isMagicPayment)return U.show({message:"Your payment is ongoing. Press OK to cancel the payment.",heading:"Cancel Payment?",positiveBtnTxt:"Yes, cancel",negativeBtnTxt:"No",onPositiveClick:function(){t.close(!0)}});B("#modal-inner").removeClass("shake"),Fe(),this.modal.hide(),this.savedCardScreen=void 0}},showLoadError:function(e,t){var a,i="addClass";if(t){if(("upi"===this.screen||this.get("ecod"))&&e===D.cancelMsg){if("intent"===this.payload["_[flow]"])return;return this.hideErrorMessage()}a=i,i="removeClass"}else a="removeClass";if(e||(e=Se),"otp"===this.screen){this.body.removeClass("sub"),$e(e);var n=B("#form-otp");n[a]("action"),n[i]("loading")}else B("#fd-t").html(e),ks(B("#error-message")[i]("loading"))},commenceOTP:function(e,t){this.setScreen("otp"),B("#add-funds").removeClass("show"),v(function(){"otp"!==this.screen||"card"===this.tab&&this.payload||B("#footer").addClass("otp")},this,null,300),e&&(t&&(e="Looking for "+e+" associated with "),this.showLoadError(e+qe()))},onOtpSubmit:function(){if(!this.checkInvalid("#form-otp")){L.track("otp:submit",{type:V.BEHAV,data:{wallet:"wallet"===this.tab}}),this.showLoadError("Verifying OTP");var e,t=_("otp").value.replace(/\D/g,"");if("wallet"===this.tab)return this.r.submitOTP(t);if(this.payload){var a=this.get("redirect");a||this.submit(),e=function(e){this.customer.logged?(this.setScreen("card"),a?this.submit():this.r.emit("payment.resume"),this.showLoadError()):(this.r.emit("payment.error",D.error(e)),je(e))}}else{var i=this;e=function(e){i.customer.logged?i.showCardTab():je(e)}}this.customer.submitOTP({otp:t,email:_("email").value},p(e,this))}},clearRequest:function(e){var t=_("powerotp");t&&(t.value=""),this.r._payment&&(Fe(),this.r.emit("payment.cancel",e)),this.destroyMagic(),this.isResumedPayment=!1;var a={};a[j.UPI_POLL_URL]="",a[j.PENDING_PAYMENT_TS]="0",this.setParamsInStorage(a),P(this.ajax),clearTimeout(this.requestTimeout),this.requestTimeout=null},preSubmit:function(e){if(this.extraFields&&!B(this.el).hasClass("show-methods")&&!this.tab)return this.extraNext();if(this.oneMethod&&!this.tab)return setTimeout(function(){window.scrollTo(0,100)}),this.switchTab(this.oneMethod);x(e);var t=this.screen;if(this.tab||this.order){if("otp"===t)return this.onOtpSubmit();if(/^magic/.test(t)){var a={};return ys("#form-"+t,a),void this.magicView.submit(t,a)}this.refresh();var i=this.payload=this.getPayload();if(this.order&&this.order.bank){if(this.checkInvalid("#pad-common"))return;i.method=this.order.method||i.method||"netbanking",i.bank=this.order.bank}else if(t){if("card"===t){var n=this.delegator;if(!ce.methods.amex&&"amex"===n.card.type)return this.showLoadError("AMEX cards are not supported",!0);var s=B("#nocvv-check [type=checkbox]")[0];if(this.savedCardScreen){if(!i["card[cvv]"])if("maestro"!==B(".checked").$(".cardtype").attr("cardtype"))return this.shake(),B(".checked .saved-cvv").focus()}else n.card.format(),n.expiry.format(),s.checked&&!s.disabled&&(B(".elem-expiry").removeClass("invalid"),B(".elem-cvv").removeClass("invalid"),i["card[cvv]"]="000",delete i["card[expiry]"],i["card[expiry_month]"]="12",i["card[expiry_year]"]="21")}else if(/^emandate/.test(t))return"emandate"===this.screen&&(t="netbanking",i.bank=B("#bank-select").val(),i.method="emandate"),this.emandateView.submit(i);if("upi"===t){if(this.checkInvalid("#form-upi input:checked + label"))return}else if(this.checkInvalid())return}else{if("netbanking"!==this.oneMethod)return;i.bank=this.get("prefill.bank")}this.submit()}},submit:function(){if(!this.r._payment){var e=this.payload,a=this,t={fees:ce.fee_bearer,sdk_popup:this.sdk_popup,magic:this.magic};if(e.save&&!this.customer.logged){if("card"===this.screen)return B("#otp-sec").html("Skip saving card"),this.commenceOTP(Ae),Ye(),this.customer.createOTP();t.message="Verifying OTP...",t.paused=!0}delete e.app_token;var i=B("#address");if(i[0]){var n=e.notes=b(this.get("notes"))||{};n.address=i.val(),n.pincode=B("#pincode").val(),n.state=B("#state").val(),15<Object.keys(n).length&&(delete n.pincode,delete n.state,n.address+=", "+j.STATES[n.state]+" - "+n.pincode)}if(e.upi_app){if(this.shouldAskUPI2FPermission)return void this.askUPI2FPermission(e.upi_app);e["_[flow]"]="intent"}"tez"===e["_[flow]"]&&("desktop"===this.tezMode?(e["_[flow]"]="directpay",L.track("tez:collect_request")):(t.tez=!0,e["_[flow]"]="intent"));var s=this.getAppliedOffer();s?(e.offer_id=s.id,this.r.display_amount=s.amount,L.track("offers:applied_with_payment",{data:s})):delete this.r.display_amount,M.sendMessage({event:"submit",data:e});var r,o=e.wallet;if("wallet"===e.method){if(!(r=me[o])||r.custom)return;this.hasAmazonpaySdk&&"amazonpay"===o&&(t.amazonpay=!0)}this.modal&&(this.modal.options.backdropclose=!1),D.WalletUtils.isPowerWallet(o)&&!t.fees&&e.contact&&e.email?(this.powerwallet=!0,B("#otp-sec").html("Resend OTP"),ue.otp='<img src="'+r.logo+'" height="'+r.h+'">',this.commenceOTP(o+" account",!0)):this.showLoadError(),"freecharge"===o?(B("#otp-elem").addClass("fourdigit"),B("#otp").attr("maxlength",4)):(B("#otp-elem").removeClass("fourdigit"),B("#otp").attr("maxlength",6));var c=this.r.createPayment(e,t);c.on("payment.success",p(We,this)).on("payment.error",p(_s,this)).on("payment.cancel",p(Ue,this)),this.attemptCount++;var l=B("#error-message .link");this.r._payment&&this.r._payment.isMagicPayment&&(window.handleRelay=function(e){if(e&&e.action&&this instanceof xs&&this.magicView){var t=b(e);switch("otp_parsed"===t.action&&t.data&&"string"==typeof t.data.otp&&(t.data.otp=t.data.otp.replace(/\d/g,"0")),this.magicView.track(t.action,t),e.action){case"page_resolved":this.magicView.pageResolved(e.data);break;case"otp_parsed":this.magicView.otpParsed(e.data);break;case"page_unload":this.magicView.pageUnload(e.data);break;case"otp_resent":if(e.data)break;case"abort_magic":case"error_message":default:this.magicView.showPaymentPage()}}}.bind(this)),c.on("payment.magic.init",function(){a.setMagic(),a.magicView.track("init"),a.showLoadError("Please wait while we fetch your transaction details"),a.r._payment&&a.r._payment.isMagicPayment&&(l.html("View bank page"),l[0].style="",l.on("click",function(){a.magicView&&(a.magicView.track("user_cancel"),a.magicView.showPaymentPage({otpelf:!0,magic:!1}))}))});var d=Z.getNewIosBridge();t.amazonpay&&c.on("payment.amazonpay.process",function(e){le&&le.processPayment?(a.showLoadError(),le.processPayment(JSON.stringify(e))):d&&d.postMessage({action:"processPayment",body:e})}),this.powerwallet?(this.showLoadError(Ae+qe()),this.r.on("payment.otp.required",Ye),this.r.on("payment.wallet.topup",p(function(){var e="Insufficient balance in your wallet";if(this.get("ecod")&&(this.back(),this.clearRequest(),function(e,t){if(1===arguments.length&&(t=0),arguments.length<3)setTimeout(e,t);else{var a=arguments;setTimeout(function(){e.apply(null,u.call(a,2))},t)}}(p(function(){this.showLoadError(e,!0)},this),400)),this.payload&&"payumoney"===this.payload.wallet&&this.r._payment&&!window.localStorage)return this.r._payment.complete(D.error(e));B("#form-otp").removeClass("loading"),B("#add-funds").addClass("show"),$e(e)},this))):"upi"!==e.method||this.multiTpv?(l.html("Go to payment"),this.r.on("payment.cancel",p("showLoadError",this,D.cancelMsg,!0))):(l.html("Cancel Payment"),this.r.on("payment.upi.noapp",function(e){a.showLoadError("No UPI App on this device. Select other UPI option to proceed.",!0),a.body.addClass("upi-noapp")}),this.r.on("payment.upi.selectapp",function(e){a.showLoadError("Select UPI App in your device",!1)}),this.r.on("payment.upi.coproto_response",function(e){var t={};t[j.UPI_POLL_URL]=e.url,t[j.PENDING_PAYMENT_TS]=m()+"",a.setParamsInStorage(t)}),this.r.on("payment.upi.pending",function(e){if(e&&"upi-intent"===e.flow)return a.showLoadError("Waiting for payment confirmation.");a.showLoadError("Please accept the request from Razorpay's VPA on your UPI app")}))}},getPayload:function(){var e=this.getFormData();if("card"===this.screen&&(function(e,t){if(t){var a=B("#saved-cards-container .checked select[name=emi_duration]")[0];a&&a.value&&(e.method="emi",e.emi_duration=a.value)}else{var i=B("#emi-plans-wrap .active")[0];i&&(e.method="emi",e.emi_duration=i.getAttribute("value"))}}(e,this.savedCardScreen),this.recurring)){var t=this.get("recurring");e.recurring=l(t)?t:1}return e.amount=this.get("amount"),e},close:function(){if(this.prefCall&&(this.prefCall.abort(),this.prefCall=null),this.isOpen){P(this.ajax),this.clearRequest(),this.isOpen=!1,clearTimeout(se);try{this.delegator.destroy(),g(this.listeners)}catch(e){}a="off",z(this.bits,function(e,t){l(a)&&(a=t[a]),a.call(t)}),this.listeners=[],this.bits=[],this.modal&&this.modal.destroy(),B(this.el).remove(),this.tab=this.screen="",this.emi&&this.emi.unbind(),clearInterval(this.closeTimer),clearTimeout(this.closeTimeout),this.tab=this.screen="",this.modal=this.emi=this.el=this.card=null,this.isOpen=!1,window.setPaymentID=window.onComplete=null}var a},saveAndClose:function(){this.isOpen&&(this.data=this.getFormData(),this.close())},checkFlows:function(t,a){if(ze(!1),!this.recurring){var i=this;this.flowIIN=t,this.recurring||this.r.getCardFlows(t,function(e){i.trackDebitPin("flow_opts_fetched",{iin:t,prefilled_card:a||null}),i.flowIIN===t&&(e&&e.pin?(i.trackDebitPin("flow_opts_shown",{iin:t,prefilled_card:a||null}),ze(!0)):ze(!1))})}},setEmiOptions:function(){var i={},n=this.preferences.methods.emi_options;z(Y.emiBanks,function(e,t){var a={name:t.name,patt:t.patt,code:t.code,plans:{}};n&&(z(n[t.code],function(e,t){a.plans[t.duration]=t.interest}),n[t.code]&&(i[t.code]=a))});var e={banks:i,min:3e5-1,amex_min:5e5-1,selected:"KKBK"};this.emi_options=e},setPaymentMethods:function(e){var t=this.recurring,a="INR"!==this.get("currency"),i=e.methods,n=this.get("amount"),s="netbanking",r=this.get("method.wallet"),o=this,c=this.emi_options,l=this.methods={count:0};if(t){i=i.recurring;var d={};i.emandate&&(s="emandate",this.emandate=!0,z(i[s],function(e,t){d[e]=t.name}),this.emandateBanks=i[s],i[s]=d),i.card&&(i.card.credit instanceof Array&&(this.recurring_card_text=i.card.credit.join(" and ")+" credit cards"),i.debit_card=i.card.debit,i.credit_card=i.card.credit,n||delete i.card)}z(i,function(e,t){t&&!1!==o.get("method."+e)&&(l[e]=t)});var u=this.get("theme.emi_mode");(!(u&&l.emi||l.card)||t||a||n<=c.min)&&(l.emi=!1),l.emi&&!u?ue.card="Card/EMI":i.debit_card&&!i.credit_card?ue.card=ue.debit_card:ue.card="Card",(1e7<n||t||a)&&(l.upi=!1),2e6<=n||l.wallet instanceof Array||t||a?l.wallet={}:"object"==typeof r&&z(r,function(e,t){!1===t&&delete l.wallet[e]}),0<n&&l.emandate&&(l.emandate=!1),!l[s]||l[s]instanceof Array||a?l[s]=!1:(l.count=1,this.down=pe(e),this.netbanks=he(e,this.get("method.netbanking"))),l.card&&l.count++,u&&l.count++,l.upi&&l.count++,z(this.get("external.wallets"),function(e,t){t in me&&(l.wallet[t]=!0,me[t].custom=!0)});var p=[];z(l.wallet,function(e){var t=me[e];t&&p.push(t)}),p.length&&l.count++,p.sort(function(e,t){return t.custom?1:-1}),l.wallet=p},setOffers:function(e){var t=this.hasOffers=f(e.offers),a=this.forcedOffer=t&&e.force_offer&&e.offers[0];if(a){var i="emi"===a.payment_method?"card":a.payment_method;0<=["card","wallet"].indexOf(i)&&(this[i+"Offer"]=e.offers[0]),L.track("offers:forced",{data:a})}},getAppliedOffer:function(){return this.forcedOffer||this.offers&&this.offers.appliedOffer},isOfferApplicableOnIssuer:function(e,t){if(e=e.toLowerCase(),!(t=t||this.getAppliedOffer()))return!1;var a=(t.issuer||"").toLowerCase(),i=(t.payment_network||"").toLowerCase();return"amex"===e?!i||i===e:!a||a===e},getDiscountedAmount:function(){var e=this.getAppliedOffer();return e&&e.amount||this.get("amount")},showOffersError:function(e){var t,a="",i=this.screen;a="netbanking"===i?"Bank":"upi"===i?"VPA":(t=this.screen)?t[0].toUpperCase()+t.slice(1):t,this.offers.showError(a,e)},setPreferences:function(e){this.r.preferences=e,this.preferences=e,ce=e,this.tab_titles=ue,this.setEmiOptions();var t,a,i,n=ce.customer,s={},r=this.get(),o=this.order=ce.order,c=this.invoice=ce.invoice,l=this.subscription=ce.subscription,d=ce.options;this.setOffers(ce),this.magic=this.magic&&ce.magic,!1===ce.global&&(this.local=!0,t=new ke(""),ye=function(){return t}),("emandate"===r["prefill.method"]||ce.subscription||r.recurring)&&(this.recurring=s.recurring=!0),n&&(n.contact&&(r["prefill.contact"]=n.contact),n.email&&(r["prefill.email"]=n.email),t=ye(n.contact),we(n.tokens,s),t.tokens=n.tokens,n.tokens&&(t.logged=!0,L.setMeta("loggedIn",!0)),t.customer_id=n.customer_id),this.recurring&&(r.remember_customer=!0),this.r.get("features.cardsaving")||(r.remember_customer=!1),this.optional=(a=ce.optional,i={},a&&a.reduce(function(e,t){return e[t]=1,e},i)||i),(be||this.optional.contact&&!r["prefill.contact"])&&(d.remember_customer=!1),ke.prototype.r=this.r,M.configure(d);var u=r["prefill.amount"];if(u?r.amount=Number(Math.floor(u)):o&&o.amount?r.amount=o.partial_payment?o.amount_due:o.amount:c&&c.amount?r.amount=c.amount:l&&l.amount&&(r.amount=l.amount),o&&o.bank&&this.get("callback_url")&&"upi"!==o.method)return r.redirect=!0,this.tpvRedirect=!0,this.r.createPayment({contact:this.get("prefill.contact")||"9999999999",email:this.get("prefill.email")||"void@razorpay.com",bank:o.bank,method:"netbanking"},{fee:ce.fee_bearer});this.setPaymentMethods(ce)},showModal:function(e){var t=_e();if(!this.methods.count){var a="No appropriate payment method found.";return this.recurring&&!this.get("customer_id")&&this.methods.emandate&&(a+="\nMake sure to pass customer_id for e-mandate payments"),M.sendMessage({event:"fault",data:a})}if(this.render(),M.sendMessage({event:"render"}),le){var i=B("#container")[0];if(i){var n=i.getBoundingClientRect();Z.checkout.callAndroid("setDimensions",Math.floor(n.width),Math.floor(n.height))}B("#backdrop").css("background","rgba(0, 0, 0, 0.6)")}t.error&&_s.call(this,t),t.tab&&this.switchTab(t.tab)},fetchPrefs:function(a){var e=I(this),i=this;if(be?e.checkcookie=0:(e.checkcookie=1,document.cookie="checkcookie=1;path=/"),!this.isOpen){this.isOpen=!0;var t=this.get("timeout");return t&&(this.closeAt=m()+1e3*t),this.prefCall=M.payment.getPrefs(e,function(e){if(i.prefCall=null,e.error)return M.sendMessage({event:"fault",data:e.error.description});var t=e;i.setPreferences(t),Z.checkout.callAndroid("setMerchantOptions",JSON.stringify(t.options)),i.tpvRedirect||a(t)}),this.prefCall}}},D.initIframe();var Xe=3e4;function Qe(e){this.session=e,this.opts={session:e},this.render(),this.resendCount=0,this.checkoutVisible=!0,this.screenMap={"magic-choice":"select_choice","magic-otp":"submit_otp"},this.supportedBanks=["unknown","HDFC"]}Qe.prototype={render:function(){this.unbind(),_("magic-wrapper").innerHTML=bs.magic(this.opts),this.bind(),this.session.input(_("magic-otp"))},on:function(e,t,a){var i=B(t);this.listeners.push(i.on(e,a))},bind:function(){var e=_("magic-otp"),t=this;this.on("change","#form-magic-choice",function(e){B("#body").toggleClass("sub",e.target.value)}),this.on("click","#form-magic-otp",p(this.resendOtp,this)),this.on("click","#form-magic-otp",function(e){B(e.target).hasClass("show-payment-page")&&(t.track("user_cancel"),t.showPaymentPage({magic:!1,otpelf:!0,focus:!0}))}),this.on("click","#autoread-otp",p(this.autoreadOtp,this)),this.on("click","#enter-otp",p(this.enterOtp,this)),this.on("click","#magic-manual-otp",p(this.enterOtp,this));var a=this.session.delegator;a.otp=a.add("number",e)},unbind:function(){g(this.listeners),this.listeners=[]},destroy:function(){this.unbind(),this.clearTimeout(),this.resendCallout&&(this.resendCallout.hide(),delete this.resendCallout),window.clearTimeout(this.otpTimeout)},track:function(e,t){t=d(t)?b(t):{};var a=this.session.getPayload();if(a.token){t.saved_card=!0;var i=((this.session.customer||{}).tokens||{}).items;if(a.token&&i){var n=R(i,"token",a.token);n.card&&(t.iin=n.card.iin)}}else{var s=a["card[number]"];l(s)&&(t.iin=s.replace(/[^0-9]/g,"").substr(0,6))}this.resolvedPage&&(t.latest_page=this.resolvedPage),void 0!==this.session.attemptCount&&(t.attempt_count=this.session.attemptCount),this.currentBank&&(t.bank=this.currentBank),this.session.track("magic_"+e,t)},resetLoader:function(){B("#form-magic-otp .loader").removeClass("load"),window.setTimeout(function(){B("#form-magic-otp .loader").addClass("load")},100)},showPaymentPage:function(e){"object"!=typeof e&&(e={});var t=this;e.focus=e.focus||!0,e.magic=e.magic||!1,e.otpelf=e.otpelf||!0,le&&le.invokePopup&&(t.clearTimeout(),t.track("show_payment_page",e),t.checkoutVisible=!1,U.hide(),t.session.showLoadError(Me),window.setTimeout(function(){le.invokePopup(JSON.stringify(e)),t.session.destroyMagic()},2e3))},clearTimeout:function(){window.clearTimeout(this.magicTimeout),delete this.magicTimeout},setTimeout:function(e,t){var a=this;if(this.checkoutVisible){this.magicTimeout&&this.clearTimeout(),this.magicTimeout=setTimeout(function(){a.magicTimeout&&(window.clearTimeout(a.magicTimeout),delete a.magicTimeout,a.track("timeout",t),a.showPaymentPage())},e)}},pageResolved:function(e){var t=Xe;if(e.bank&&a(this.supportedBanks,e.bank)<0)return this.bankNotSupported=!0,this.showPaymentPage({magic:!1,otpelf:!0});switch(this.resolvedPage=e.type,this.currentBank=e.bank,e.type){case"otp":this.showOtpView(e),t=-1;break;case"proceed":this.session.showLoadError("Fetching Bank details");break;case"choice":this.showChoiceView(e);break;case"unknown":t=3e3,!0}-1===t?this.clearTimeout():this.setTimeout(t,{timeout:t,type:"page",screen:e.type})},pageUnload:function(e){this.clearTimeout(),this.setTimeout(2e4,{timeout:2e4,type:"redirect"})},resendOtp:function(e,t){if(B(e.target).hasClass("magic-resend-otp")&&le&&le.relay){var a=!0,i=this;if(1===this.resendCount){if(!0!==t)return U.show({message:"This is your last attempt to generate OTP.",heading:"Resend OTP?",positiveBtnTxt:"Yes, resend",negativeBtnTxt:"No",onPositiveClick:function(){i.resendOtp(e,!0)}});B("#magic-wrapper").addClass("hide-resend"),this.track("otp_resend",{resend_count:this.resendCount})}else 2<this.resendCount&&(a=!1);if(a){delete this.otpData;var n=this.resendCallout||new q({message:"OTP has been resent to your number"});this.resendCallout=n.show(),window.setTimeout(function(){n.hide()},5e3),this.autoreadOtp(),le.relay(JSON.stringify({action:"resend_otp"})),this.resendCount++}}},requestOtpPermission:function(e){le&&le.requestOtpPermission&&(this.track("request_otp_permission"),window.otpPermissionCallback=e.bind(this),le.requestOtpPermission())},autoreadOtp:function(){var t=this;this.track("autoread_otp"),this.otpTimeout&&(window.clearTimeout(this.otpTimeout),delete this.otpTimeout),this.otpTimeout=window.setTimeout(function(){B("#form-magic-otp").hasClass("waiting")&&t.enterOtp()},3e4),this.otpPermission?t.showWaitingScreen():this.requestOtpPermission(function(e){e.granted&&(this.track("otp_permission_granted"),t.showWaitingScreen())}),this.resetLoader(),B("#body").removeClass("sub"),this.otpData&&this.otpParsed(this.otpData)},enterOtp:function(){this.track("enter_otp"),B("#body").addClass("sub"),B("#form-magic-otp").removeClass("waiting").addClass("manual"),B("#magic-otp").attr("readonly",!1).val("")},otpParsed:function(e){if("otp"!==this.resolvedPage)return this.otpData=e;"magic-otp"!==this.session.screen&&this.showView("magic-otp"),e.otp&&window.clearTimeout(this.otpTimeout),this.otpData=e,B("#form-magic-otp").hasClass("waiting")&&(B("#form-magic-otp").removeClass("waiting").removeClass("manual"),B("#magic-otp").attr("readonly",!0),B("#body").addClass("sub"),e.otp&&(B("#magic-otp").val(e.otp)[0].dispatchEvent(new Event("blur")),B("#magic-otp-placeholder").html(e.otp),B("#magic-bank")[0].innerHTML="<img src='https://cdn.razorpay.com/bank/"+e.bank+".gif' height='13px'> "+e.sender))},showView:function(e){this.session.setScreen(e),Fe()},showOtpView:function(t){var a=this;if(void 0===t&&(t={}),this.otpPermission=void 0!==t.otp_permission?t.otp_permission:this.otpPermission,!this.otpPermission&&!this.otpPermDenied)return this.requestOtpPermission(function(e){e.granted?(t.otp_permission=!0,this.track("otp_permission_granted")):a.otpPermDenied=!0,a.showOtpView(t),delete window.otpPermissionCallback});this.showView("magic-otp"),B("#body").removeClass("sub"),this.otpPermission?(this.showWaitingScreen(),this.otpData&&this.otpParsed(this.otpData),this.otpTimeout&&(window.clearTimeout(this.otpTimeout),delete this.otpTimeout),this.otpTimeout=window.setTimeout(function(){a.track("otp_timeout"),B("#form-magic-otp").hasClass("waiting")&&a.enterOtp()},3e4)):this.enterOtp()},showWaitingScreen:function(){B("#form-magic-otp").hasClass("waiting")||(B("#form-magic-otp").removeClass("manual").addClass("waiting"),this.resetLoader())},showChoiceView:function(e){this.otpPermission=e.otp_permission,this.showView("magic-choice")},submit:function(e,t){var a={action:this.screenMap[e],data:t};if("magic-otp"===e){if(this.session.checkInvalid("#form-magic-otp"))return;this.track("submit_otp")}this.session.showLoadError(Se),"magic-choice"===e&&(this.track("choice",{choice:t.choice}),"otp"===t.choice&&this.session.showLoadError()),le&&le.relay&&le.relay(JSON.stringify(a))}}}()}();